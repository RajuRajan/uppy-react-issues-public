(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ng={exports:{}},bl={},rg={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var To=Symbol.for("react.element"),F1=Symbol.for("react.portal"),T1=Symbol.for("react.fragment"),O1=Symbol.for("react.strict_mode"),x1=Symbol.for("react.profiler"),A1=Symbol.for("react.provider"),U1=Symbol.for("react.context"),N1=Symbol.for("react.forward_ref"),R1=Symbol.for("react.suspense"),I1=Symbol.for("react.memo"),D1=Symbol.for("react.lazy"),rh=Symbol.iterator;function L1(t){return t===null||typeof t!="object"?null:(t=rh&&t[rh]||t["@@iterator"],typeof t=="function"?t:null)}var ig={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sg=Object.assign,og={};function Ti(t,e,n){this.props=t,this.context=e,this.refs=og,this.updater=n||ig}Ti.prototype.isReactComponent={};Ti.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ti.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ag(){}ag.prototype=Ti.prototype;function Id(t,e,n){this.props=t,this.context=e,this.refs=og,this.updater=n||ig}var Dd=Id.prototype=new ag;Dd.constructor=Id;sg(Dd,Ti.prototype);Dd.isPureReactComponent=!0;var ih=Array.isArray,lg=Object.prototype.hasOwnProperty,Ld={current:null},ug={key:!0,ref:!0,__self:!0,__source:!0};function cg(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)lg.call(e,r)&&!ug.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:To,type:t,key:s,ref:o,props:i,_owner:Ld.current}}function $1(t,e){return{$$typeof:To,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $d(t){return typeof t=="object"&&t!==null&&t.$$typeof===To}function B1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sh=/\/+/g;function Wl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?B1(""+t.key):e.toString(36)}function ma(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case To:case F1:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Wl(o,0):r,ih(i)?(n="",t!=null&&(n=t.replace(sh,"$&/")+"/"),ma(i,e,n,"",function(u){return u})):i!=null&&($d(i)&&(i=$1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(sh,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ih(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Wl(s,a);o+=ma(s,e,n,l,i)}else if(l=L1(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Wl(s,a++),o+=ma(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Bo(t,e,n){if(t==null)return t;var r=[],i=0;return ma(t,r,"","",function(s){return e.call(n,s,i++)}),r}function M1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ye={current:null},ga={transition:null},z1={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:ga,ReactCurrentOwner:Ld};V.Children={map:Bo,forEach:function(t,e,n){Bo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Bo(t,function(){e++}),e},toArray:function(t){return Bo(t,function(e){return e})||[]},only:function(t){if(!$d(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};V.Component=Ti;V.Fragment=T1;V.Profiler=x1;V.PureComponent=Id;V.StrictMode=O1;V.Suspense=R1;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z1;V.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=sg({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ld.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)lg.call(e,l)&&!ug.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:To,type:t.type,key:i,ref:s,props:r,_owner:o}};V.createContext=function(t){return t={$$typeof:U1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:A1,_context:t},t.Consumer=t};V.createElement=cg;V.createFactory=function(t){var e=cg.bind(null,t);return e.type=t,e};V.createRef=function(){return{current:null}};V.forwardRef=function(t){return{$$typeof:N1,render:t}};V.isValidElement=$d;V.lazy=function(t){return{$$typeof:D1,_payload:{_status:-1,_result:t},_init:M1}};V.memo=function(t,e){return{$$typeof:I1,type:t,compare:e===void 0?null:e}};V.startTransition=function(t){var e=ga.transition;ga.transition={};try{t()}finally{ga.transition=e}};V.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};V.useCallback=function(t,e){return Ye.current.useCallback(t,e)};V.useContext=function(t){return Ye.current.useContext(t)};V.useDebugValue=function(){};V.useDeferredValue=function(t){return Ye.current.useDeferredValue(t)};V.useEffect=function(t,e){return Ye.current.useEffect(t,e)};V.useId=function(){return Ye.current.useId()};V.useImperativeHandle=function(t,e,n){return Ye.current.useImperativeHandle(t,e,n)};V.useInsertionEffect=function(t,e){return Ye.current.useInsertionEffect(t,e)};V.useLayoutEffect=function(t,e){return Ye.current.useLayoutEffect(t,e)};V.useMemo=function(t,e){return Ye.current.useMemo(t,e)};V.useReducer=function(t,e,n){return Ye.current.useReducer(t,e,n)};V.useRef=function(t){return Ye.current.useRef(t)};V.useState=function(t){return Ye.current.useState(t)};V.useSyncExternalStore=function(t,e,n){return Ye.current.useSyncExternalStore(t,e,n)};V.useTransition=function(){return Ye.current.useTransition()};V.version="18.2.0";rg.exports=V;var Ke=rg.exports;const ya=rt(Ke);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1=Ke,H1=Symbol.for("react.element"),W1=Symbol.for("react.fragment"),q1=Object.prototype.hasOwnProperty,V1=j1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G1={key:!0,ref:!0,__self:!0,__source:!0};function dg(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)q1.call(e,r)&&!G1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:H1,type:t,key:s,ref:o,props:i,_owner:V1.current}}bl.Fragment=W1;bl.jsx=dg;bl.jsxs=dg;ng.exports=bl;var Ba=ng.exports,oc={},pg={exports:{}},vt={},hg={exports:{}},fg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(w,k){var F=w.length;w.push(k);e:for(;0<F;){var T=F-1>>>1,I=w[T];if(0<i(I,k))w[T]=k,w[F]=I,F=T;else break e}}function n(w){return w.length===0?null:w[0]}function r(w){if(w.length===0)return null;var k=w[0],F=w.pop();if(F!==k){w[0]=F;e:for(var T=0,I=w.length,z=I>>>1;T<z;){var H=2*(T+1)-1,ye=w[H],ee=H+1,re=w[ee];if(0>i(ye,F))ee<I&&0>i(re,ye)?(w[T]=re,w[ee]=F,T=ee):(w[T]=ye,w[H]=F,T=H);else if(ee<I&&0>i(re,F))w[T]=re,w[ee]=F,T=ee;else break e}}return k}function i(w,k){var F=w.sortIndex-k.sortIndex;return F!==0?F:w.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,c=null,h=3,g=!1,y=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(w){for(var k=n(u);k!==null;){if(k.callback===null)r(u);else if(k.startTime<=w)r(u),k.sortIndex=k.expirationTime,e(l,k);else break;k=n(u)}}function E(w){if(b=!1,v(w),!y)if(n(l)!==null)y=!0,P(O);else{var k=n(u);k!==null&&_(E,k.startTime-w)}}function O(w,k){y=!1,b&&(b=!1,m(A),A=-1),g=!0;var F=h;try{for(v(k),c=n(l);c!==null&&(!(c.expirationTime>k)||w&&!J());){var T=c.callback;if(typeof T=="function"){c.callback=null,h=c.priorityLevel;var I=T(c.expirationTime<=k);k=t.unstable_now(),typeof I=="function"?c.callback=I:c===n(l)&&r(l),v(k)}else r(l);c=n(l)}if(c!==null)var z=!0;else{var H=n(u);H!==null&&_(E,H.startTime-k),z=!1}return z}finally{c=null,h=F,g=!1}}var x=!1,C=null,A=-1,R=5,B=-1;function J(){return!(t.unstable_now()-B<R)}function Se(){if(C!==null){var w=t.unstable_now();B=w;var k=!0;try{k=C(!0,w)}finally{k?Z():(x=!1,C=null)}}else x=!1}var Z;if(typeof f=="function")Z=function(){f(Se)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,X=te.port2;te.port1.onmessage=Se,Z=function(){X.postMessage(null)}}else Z=function(){S(Se,0)};function P(w){C=w,x||(x=!0,Z())}function _(w,k){A=S(function(){w(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(w){w.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,P(O))},t.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<w?Math.floor(1e3/w):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(w){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var F=h;h=k;try{return w()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(w,k){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var F=h;h=w;try{return k()}finally{h=F}},t.unstable_scheduleCallback=function(w,k,F){var T=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?T+F:T):F=T,w){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=F+I,w={id:d++,callback:k,priorityLevel:w,startTime:F,expirationTime:I,sortIndex:-1},F>T?(w.sortIndex=F,e(u,w),n(l)===null&&w===n(u)&&(b?(m(A),A=-1):b=!0,_(E,F-T))):(w.sortIndex=I,e(l,w),y||g||(y=!0,P(O))),w},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(w){var k=h;return function(){var F=h;h=k;try{return w.apply(this,arguments)}finally{h=F}}}})(fg);hg.exports=fg;var K1=hg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg=Ke,yt=K1;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gg=new Set,Ks={};function jr(t,e){vi(t,e),vi(t+"Capture",e)}function vi(t,e){for(Ks[t]=e,t=0;t<e.length;t++)gg.add(e[t])}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ac=Object.prototype.hasOwnProperty,Q1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oh={},ah={};function Y1(t){return ac.call(ah,t)?!0:ac.call(oh,t)?!1:Q1.test(t)?ah[t]=!0:(oh[t]=!0,!1)}function X1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function J1(t,e,n,r){if(e===null||typeof e>"u"||X1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xe(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){De[t]=new Xe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];De[e]=new Xe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){De[t]=new Xe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){De[t]=new Xe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){De[t]=new Xe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){De[t]=new Xe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){De[t]=new Xe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){De[t]=new Xe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){De[t]=new Xe(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bd=/[\-:]([a-z])/g;function Md(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bd,Md);De[e]=new Xe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bd,Md);De[e]=new Xe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bd,Md);De[e]=new Xe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){De[t]=new Xe(t,1,!1,t.toLowerCase(),null,!1,!1)});De.xlinkHref=new Xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){De[t]=new Xe(t,1,!1,t.toLowerCase(),null,!0,!0)});function zd(t,e,n,r){var i=De.hasOwnProperty(e)?De[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(J1(e,n,i,r)&&(n=null),r||i===null?Y1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Un=mg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mo=Symbol.for("react.element"),Yr=Symbol.for("react.portal"),Xr=Symbol.for("react.fragment"),jd=Symbol.for("react.strict_mode"),lc=Symbol.for("react.profiler"),yg=Symbol.for("react.provider"),vg=Symbol.for("react.context"),Hd=Symbol.for("react.forward_ref"),uc=Symbol.for("react.suspense"),cc=Symbol.for("react.suspense_list"),Wd=Symbol.for("react.memo"),In=Symbol.for("react.lazy"),wg=Symbol.for("react.offscreen"),lh=Symbol.iterator;function Ri(t){return t===null||typeof t!="object"?null:(t=lh&&t[lh]||t["@@iterator"],typeof t=="function"?t:null)}var fe=Object.assign,ql;function hs(t){if(ql===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ql=e&&e[1]||""}return`
`+ql+t}var Vl=!1;function Gl(t,e){if(!t||Vl)return"";Vl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Vl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?hs(t):""}function Z1(t){switch(t.tag){case 5:return hs(t.type);case 16:return hs("Lazy");case 13:return hs("Suspense");case 19:return hs("SuspenseList");case 0:case 2:case 15:return t=Gl(t.type,!1),t;case 11:return t=Gl(t.type.render,!1),t;case 1:return t=Gl(t.type,!0),t;default:return""}}function dc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xr:return"Fragment";case Yr:return"Portal";case lc:return"Profiler";case jd:return"StrictMode";case uc:return"Suspense";case cc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vg:return(t.displayName||"Context")+".Consumer";case yg:return(t._context.displayName||"Context")+".Provider";case Hd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wd:return e=t.displayName||null,e!==null?e:dc(t.type)||"Memo";case In:e=t._payload,t=t._init;try{return dc(t(e))}catch{}}return null}function ew(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dc(e);case 8:return e===jd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tw(t){var e=bg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zo(t){t._valueTracker||(t._valueTracker=tw(t))}function _g(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ma(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pc(t,e){var n=e.checked;return fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function uh(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sg(t,e){e=e.checked,e!=null&&zd(t,"checked",e,!1)}function hc(t,e){Sg(t,e);var n=Zn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fc(t,e.type,n):e.hasOwnProperty("defaultValue")&&fc(t,e.type,Zn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ch(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fc(t,e,n){(e!=="number"||Ma(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fs=Array.isArray;function ci(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function mc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(fs(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zn(n)}}function Pg(t,e){var n=Zn(e.value),r=Zn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ph(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Eg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Eg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jo,kg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jo=jo||document.createElement("div"),jo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nw=["Webkit","ms","Moz","O"];Object.keys(Ss).forEach(function(t){nw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ss[e]=Ss[t]})});function Cg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ss.hasOwnProperty(t)&&Ss[t]?(""+e).trim():e+"px"}function Fg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Cg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rw=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yc(t,e){if(e){if(rw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function vc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wc=null;function qd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bc=null,di=null,pi=null;function hh(t){if(t=Ao(t)){if(typeof bc!="function")throw Error(U(280));var e=t.stateNode;e&&(e=kl(e),bc(t.stateNode,t.type,e))}}function Tg(t){di?pi?pi.push(t):pi=[t]:di=t}function Og(){if(di){var t=di,e=pi;if(pi=di=null,hh(t),e)for(t=0;t<e.length;t++)hh(e[t])}}function xg(t,e){return t(e)}function Ag(){}var Kl=!1;function Ug(t,e,n){if(Kl)return t(e,n);Kl=!0;try{return xg(t,e,n)}finally{Kl=!1,(di!==null||pi!==null)&&(Ag(),Og())}}function Ys(t,e){var n=t.stateNode;if(n===null)return null;var r=kl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var _c=!1;if(Tn)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){_c=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{_c=!1}function iw(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ps=!1,za=null,ja=!1,Sc=null,sw={onError:function(t){Ps=!0,za=t}};function ow(t,e,n,r,i,s,o,a,l){Ps=!1,za=null,iw.apply(sw,arguments)}function aw(t,e,n,r,i,s,o,a,l){if(ow.apply(this,arguments),Ps){if(Ps){var u=za;Ps=!1,za=null}else throw Error(U(198));ja||(ja=!0,Sc=u)}}function Hr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ng(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fh(t){if(Hr(t)!==t)throw Error(U(188))}function lw(t){var e=t.alternate;if(!e){if(e=Hr(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return fh(i),t;if(s===r)return fh(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function Rg(t){return t=lw(t),t!==null?Ig(t):null}function Ig(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ig(t);if(e!==null)return e;t=t.sibling}return null}var Dg=yt.unstable_scheduleCallback,mh=yt.unstable_cancelCallback,uw=yt.unstable_shouldYield,cw=yt.unstable_requestPaint,_e=yt.unstable_now,dw=yt.unstable_getCurrentPriorityLevel,Vd=yt.unstable_ImmediatePriority,Lg=yt.unstable_UserBlockingPriority,Ha=yt.unstable_NormalPriority,pw=yt.unstable_LowPriority,$g=yt.unstable_IdlePriority,_l=null,Jt=null;function hw(t){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(_l,t,void 0,(t.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:gw,fw=Math.log,mw=Math.LN2;function gw(t){return t>>>=0,t===0?32:31-(fw(t)/mw|0)|0}var Ho=64,Wo=4194304;function ms(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wa(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ms(a):(s&=o,s!==0&&(r=ms(s)))}else o=n&~i,o!==0?r=ms(o):s!==0&&(r=ms(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-jt(e),i=1<<n,r|=t[n],e&=~i;return r}function yw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-jt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=yw(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Pc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Bg(){var t=Ho;return Ho<<=1,!(Ho&4194240)&&(Ho=64),t}function Ql(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Oo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jt(e),t[e]=n}function ww(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-jt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Gd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-jt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Y=0;function Mg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zg,Kd,jg,Hg,Wg,Ec=!1,qo=[],qn=null,Vn=null,Gn=null,Xs=new Map,Js=new Map,$n=[],bw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gh(t,e){switch(t){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":Xs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Js.delete(e.pointerId)}}function Di(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ao(e),e!==null&&Kd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _w(t,e,n,r,i){switch(e){case"focusin":return qn=Di(qn,t,e,n,r,i),!0;case"dragenter":return Vn=Di(Vn,t,e,n,r,i),!0;case"mouseover":return Gn=Di(Gn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Xs.set(s,Di(Xs.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Js.set(s,Di(Js.get(s)||null,t,e,n,r,i)),!0}return!1}function qg(t){var e=Pr(t.target);if(e!==null){var n=Hr(e);if(n!==null){if(e=n.tag,e===13){if(e=Ng(n),e!==null){t.blockedOn=e,Wg(t.priority,function(){jg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function va(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=kc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wc=r,n.target.dispatchEvent(r),wc=null}else return e=Ao(n),e!==null&&Kd(e),t.blockedOn=n,!1;e.shift()}return!0}function yh(t,e,n){va(t)&&n.delete(e)}function Sw(){Ec=!1,qn!==null&&va(qn)&&(qn=null),Vn!==null&&va(Vn)&&(Vn=null),Gn!==null&&va(Gn)&&(Gn=null),Xs.forEach(yh),Js.forEach(yh)}function Li(t,e){t.blockedOn===e&&(t.blockedOn=null,Ec||(Ec=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,Sw)))}function Zs(t){function e(i){return Li(i,t)}if(0<qo.length){Li(qo[0],t);for(var n=1;n<qo.length;n++){var r=qo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(qn!==null&&Li(qn,t),Vn!==null&&Li(Vn,t),Gn!==null&&Li(Gn,t),Xs.forEach(e),Js.forEach(e),n=0;n<$n.length;n++)r=$n[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$n.length&&(n=$n[0],n.blockedOn===null);)qg(n),n.blockedOn===null&&$n.shift()}var hi=Un.ReactCurrentBatchConfig,qa=!0;function Pw(t,e,n,r){var i=Y,s=hi.transition;hi.transition=null;try{Y=1,Qd(t,e,n,r)}finally{Y=i,hi.transition=s}}function Ew(t,e,n,r){var i=Y,s=hi.transition;hi.transition=null;try{Y=4,Qd(t,e,n,r)}finally{Y=i,hi.transition=s}}function Qd(t,e,n,r){if(qa){var i=kc(t,e,n,r);if(i===null)su(t,e,r,Va,n),gh(t,r);else if(_w(i,t,e,n,r))r.stopPropagation();else if(gh(t,r),e&4&&-1<bw.indexOf(t)){for(;i!==null;){var s=Ao(i);if(s!==null&&zg(s),s=kc(t,e,n,r),s===null&&su(t,e,r,Va,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else su(t,e,r,null,n)}}var Va=null;function kc(t,e,n,r){if(Va=null,t=qd(r),t=Pr(t),t!==null)if(e=Hr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ng(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Va=t,null}function Vg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dw()){case Vd:return 1;case Lg:return 4;case Ha:case pw:return 16;case $g:return 536870912;default:return 16}default:return 16}}var jn=null,Yd=null,wa=null;function Gg(){if(wa)return wa;var t,e=Yd,n=e.length,r,i="value"in jn?jn.value:jn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return wa=i.slice(t,1<r?1-r:void 0)}function ba(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vo(){return!0}function vh(){return!1}function wt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Vo:vh,this.isPropagationStopped=vh,this}return fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vo)},persist:function(){},isPersistent:Vo}),e}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xd=wt(Oi),xo=fe({},Oi,{view:0,detail:0}),kw=wt(xo),Yl,Xl,$i,Sl=fe({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$i&&($i&&t.type==="mousemove"?(Yl=t.screenX-$i.screenX,Xl=t.screenY-$i.screenY):Xl=Yl=0,$i=t),Yl)},movementY:function(t){return"movementY"in t?t.movementY:Xl}}),wh=wt(Sl),Cw=fe({},Sl,{dataTransfer:0}),Fw=wt(Cw),Tw=fe({},xo,{relatedTarget:0}),Jl=wt(Tw),Ow=fe({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),xw=wt(Ow),Aw=fe({},Oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uw=wt(Aw),Nw=fe({},Oi,{data:0}),bh=wt(Nw),Rw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Dw[t])?!!e[t]:!1}function Jd(){return Lw}var $w=fe({},xo,{key:function(t){if(t.key){var e=Rw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ba(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jd,charCode:function(t){return t.type==="keypress"?ba(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ba(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bw=wt($w),Mw=fe({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_h=wt(Mw),zw=fe({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jd}),jw=wt(zw),Hw=fe({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ww=wt(Hw),qw=fe({},Sl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vw=wt(qw),Gw=[9,13,27,32],Zd=Tn&&"CompositionEvent"in window,Es=null;Tn&&"documentMode"in document&&(Es=document.documentMode);var Kw=Tn&&"TextEvent"in window&&!Es,Kg=Tn&&(!Zd||Es&&8<Es&&11>=Es),Sh=String.fromCharCode(32),Ph=!1;function Qg(t,e){switch(t){case"keyup":return Gw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Jr=!1;function Qw(t,e){switch(t){case"compositionend":return Yg(e);case"keypress":return e.which!==32?null:(Ph=!0,Sh);case"textInput":return t=e.data,t===Sh&&Ph?null:t;default:return null}}function Yw(t,e){if(Jr)return t==="compositionend"||!Zd&&Qg(t,e)?(t=Gg(),wa=Yd=jn=null,Jr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Kg&&e.locale!=="ko"?null:e.data;default:return null}}var Xw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xw[t.type]:e==="textarea"}function Xg(t,e,n,r){Tg(r),e=Ga(e,"onChange"),0<e.length&&(n=new Xd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ks=null,eo=null;function Jw(t){ly(t,0)}function Pl(t){var e=ti(t);if(_g(e))return t}function Zw(t,e){if(t==="change")return e}var Jg=!1;if(Tn){var Zl;if(Tn){var eu="oninput"in document;if(!eu){var kh=document.createElement("div");kh.setAttribute("oninput","return;"),eu=typeof kh.oninput=="function"}Zl=eu}else Zl=!1;Jg=Zl&&(!document.documentMode||9<document.documentMode)}function Ch(){ks&&(ks.detachEvent("onpropertychange",Zg),eo=ks=null)}function Zg(t){if(t.propertyName==="value"&&Pl(eo)){var e=[];Xg(e,eo,t,qd(t)),Ug(Jw,e)}}function eb(t,e,n){t==="focusin"?(Ch(),ks=e,eo=n,ks.attachEvent("onpropertychange",Zg)):t==="focusout"&&Ch()}function tb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pl(eo)}function nb(t,e){if(t==="click")return Pl(e)}function rb(t,e){if(t==="input"||t==="change")return Pl(e)}function ib(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qt=typeof Object.is=="function"?Object.is:ib;function to(t,e){if(qt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ac.call(e,i)||!qt(t[i],e[i]))return!1}return!0}function Fh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Th(t,e){var n=Fh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fh(n)}}function ey(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ey(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ty(){for(var t=window,e=Ma();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ma(t.document)}return e}function ep(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sb(t){var e=ty(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ey(n.ownerDocument.documentElement,n)){if(r!==null&&ep(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Th(n,s);var o=Th(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ob=Tn&&"documentMode"in document&&11>=document.documentMode,Zr=null,Cc=null,Cs=null,Fc=!1;function Oh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fc||Zr==null||Zr!==Ma(r)||(r=Zr,"selectionStart"in r&&ep(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cs&&to(Cs,r)||(Cs=r,r=Ga(Cc,"onSelect"),0<r.length&&(e=new Xd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Zr)))}function Go(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ei={animationend:Go("Animation","AnimationEnd"),animationiteration:Go("Animation","AnimationIteration"),animationstart:Go("Animation","AnimationStart"),transitionend:Go("Transition","TransitionEnd")},tu={},ny={};Tn&&(ny=document.createElement("div").style,"AnimationEvent"in window||(delete ei.animationend.animation,delete ei.animationiteration.animation,delete ei.animationstart.animation),"TransitionEvent"in window||delete ei.transitionend.transition);function El(t){if(tu[t])return tu[t];if(!ei[t])return t;var e=ei[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ny)return tu[t]=e[n];return t}var ry=El("animationend"),iy=El("animationiteration"),sy=El("animationstart"),oy=El("transitionend"),ay=new Map,xh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(t,e){ay.set(t,e),jr(e,[t])}for(var nu=0;nu<xh.length;nu++){var ru=xh[nu],ab=ru.toLowerCase(),lb=ru[0].toUpperCase()+ru.slice(1);tr(ab,"on"+lb)}tr(ry,"onAnimationEnd");tr(iy,"onAnimationIteration");tr(sy,"onAnimationStart");tr("dblclick","onDoubleClick");tr("focusin","onFocus");tr("focusout","onBlur");tr(oy,"onTransitionEnd");vi("onMouseEnter",["mouseout","mouseover"]);vi("onMouseLeave",["mouseout","mouseover"]);vi("onPointerEnter",["pointerout","pointerover"]);vi("onPointerLeave",["pointerout","pointerover"]);jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ub=new Set("cancel close invalid load scroll toggle".split(" ").concat(gs));function Ah(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aw(r,e,void 0,t),t.currentTarget=null}function ly(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ah(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ah(i,a,u),s=l}}}if(ja)throw t=Sc,ja=!1,Sc=null,t}function ie(t,e){var n=e[Uc];n===void 0&&(n=e[Uc]=new Set);var r=t+"__bubble";n.has(r)||(uy(e,t,2,!1),n.add(r))}function iu(t,e,n){var r=0;e&&(r|=4),uy(n,t,r,e)}var Ko="_reactListening"+Math.random().toString(36).slice(2);function no(t){if(!t[Ko]){t[Ko]=!0,gg.forEach(function(n){n!=="selectionchange"&&(ub.has(n)||iu(n,!1,t),iu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ko]||(e[Ko]=!0,iu("selectionchange",!1,e))}}function uy(t,e,n,r){switch(Vg(e)){case 1:var i=Pw;break;case 4:i=Ew;break;default:i=Qd}n=i.bind(null,e,n,t),i=void 0,!_c||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function su(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Pr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Ug(function(){var u=s,d=qd(n),c=[];e:{var h=ay.get(t);if(h!==void 0){var g=Xd,y=t;switch(t){case"keypress":if(ba(n)===0)break e;case"keydown":case"keyup":g=Bw;break;case"focusin":y="focus",g=Jl;break;case"focusout":y="blur",g=Jl;break;case"beforeblur":case"afterblur":g=Jl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=wh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Fw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=jw;break;case ry:case iy:case sy:g=xw;break;case oy:g=Ww;break;case"scroll":g=kw;break;case"wheel":g=Vw;break;case"copy":case"cut":case"paste":g=Uw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=_h}var b=(e&4)!==0,S=!b&&t==="scroll",m=b?h!==null?h+"Capture":null:h;b=[];for(var f=u,v;f!==null;){v=f;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,m!==null&&(E=Ys(f,m),E!=null&&b.push(ro(f,E,v)))),S)break;f=f.return}0<b.length&&(h=new g(h,y,null,n,d),c.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==wc&&(y=n.relatedTarget||n.fromElement)&&(Pr(y)||y[On]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?Pr(y):null,y!==null&&(S=Hr(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(b=wh,E="onMouseLeave",m="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(b=_h,E="onPointerLeave",m="onPointerEnter",f="pointer"),S=g==null?h:ti(g),v=y==null?h:ti(y),h=new b(E,f+"leave",g,n,d),h.target=S,h.relatedTarget=v,E=null,Pr(d)===u&&(b=new b(m,f+"enter",y,n,d),b.target=v,b.relatedTarget=S,E=b),S=E,g&&y)t:{for(b=g,m=y,f=0,v=b;v;v=Wr(v))f++;for(v=0,E=m;E;E=Wr(E))v++;for(;0<f-v;)b=Wr(b),f--;for(;0<v-f;)m=Wr(m),v--;for(;f--;){if(b===m||m!==null&&b===m.alternate)break t;b=Wr(b),m=Wr(m)}b=null}else b=null;g!==null&&Uh(c,h,g,b,!1),y!==null&&S!==null&&Uh(c,S,y,b,!0)}}e:{if(h=u?ti(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var O=Zw;else if(Eh(h))if(Jg)O=rb;else{O=tb;var x=eb}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=nb);if(O&&(O=O(t,u))){Xg(c,O,n,d);break e}x&&x(t,h,u),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&fc(h,"number",h.value)}switch(x=u?ti(u):window,t){case"focusin":(Eh(x)||x.contentEditable==="true")&&(Zr=x,Cc=u,Cs=null);break;case"focusout":Cs=Cc=Zr=null;break;case"mousedown":Fc=!0;break;case"contextmenu":case"mouseup":case"dragend":Fc=!1,Oh(c,n,d);break;case"selectionchange":if(ob)break;case"keydown":case"keyup":Oh(c,n,d)}var C;if(Zd)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Jr?Qg(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Kg&&n.locale!=="ko"&&(Jr||A!=="onCompositionStart"?A==="onCompositionEnd"&&Jr&&(C=Gg()):(jn=d,Yd="value"in jn?jn.value:jn.textContent,Jr=!0)),x=Ga(u,A),0<x.length&&(A=new bh(A,t,null,n,d),c.push({event:A,listeners:x}),C?A.data=C:(C=Yg(n),C!==null&&(A.data=C)))),(C=Kw?Qw(t,n):Yw(t,n))&&(u=Ga(u,"onBeforeInput"),0<u.length&&(d=new bh("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=C))}ly(c,e)})}function ro(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ga(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ys(t,n),s!=null&&r.unshift(ro(t,s,i)),s=Ys(t,e),s!=null&&r.push(ro(t,s,i))),t=t.return}return r}function Wr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Uh(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ys(n,s),l!=null&&o.unshift(ro(n,l,a))):i||(l=Ys(n,s),l!=null&&o.push(ro(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cb=/\r\n?/g,db=/\u0000|\uFFFD/g;function Nh(t){return(typeof t=="string"?t:""+t).replace(cb,`
`).replace(db,"")}function Qo(t,e,n){if(e=Nh(e),Nh(t)!==e&&n)throw Error(U(425))}function Ka(){}var Tc=null,Oc=null;function xc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ac=typeof setTimeout=="function"?setTimeout:void 0,pb=typeof clearTimeout=="function"?clearTimeout:void 0,Rh=typeof Promise=="function"?Promise:void 0,hb=typeof queueMicrotask=="function"?queueMicrotask:typeof Rh<"u"?function(t){return Rh.resolve(null).then(t).catch(fb)}:Ac;function fb(t){setTimeout(function(){throw t})}function ou(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Zs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zs(e)}function Kn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ih(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xi=Math.random().toString(36).slice(2),Xt="__reactFiber$"+xi,io="__reactProps$"+xi,On="__reactContainer$"+xi,Uc="__reactEvents$"+xi,mb="__reactListeners$"+xi,gb="__reactHandles$"+xi;function Pr(t){var e=t[Xt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[On]||n[Xt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ih(t);t!==null;){if(n=t[Xt])return n;t=Ih(t)}return e}t=n,n=t.parentNode}return null}function Ao(t){return t=t[Xt]||t[On],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ti(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function kl(t){return t[io]||null}var Nc=[],ni=-1;function nr(t){return{current:t}}function oe(t){0>ni||(t.current=Nc[ni],Nc[ni]=null,ni--)}function ne(t,e){ni++,Nc[ni]=t.current,t.current=e}var er={},Me=nr(er),et=nr(!1),Ir=er;function wi(t,e){var n=t.type.contextTypes;if(!n)return er;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tt(t){return t=t.childContextTypes,t!=null}function Qa(){oe(et),oe(Me)}function Dh(t,e,n){if(Me.current!==er)throw Error(U(168));ne(Me,e),ne(et,n)}function cy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,ew(t)||"Unknown",i));return fe({},n,r)}function Ya(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||er,Ir=Me.current,ne(Me,t),ne(et,et.current),!0}function Lh(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=cy(t,e,Ir),r.__reactInternalMemoizedMergedChildContext=t,oe(et),oe(Me),ne(Me,t)):oe(et),ne(et,n)}var vn=null,Cl=!1,au=!1;function dy(t){vn===null?vn=[t]:vn.push(t)}function yb(t){Cl=!0,dy(t)}function rr(){if(!au&&vn!==null){au=!0;var t=0,e=Y;try{var n=vn;for(Y=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vn=null,Cl=!1}catch(i){throw vn!==null&&(vn=vn.slice(t+1)),Dg(Vd,rr),i}finally{Y=e,au=!1}}return null}var ri=[],ii=0,Xa=null,Ja=0,Pt=[],Et=0,Dr=null,Pn=1,En="";function fr(t,e){ri[ii++]=Ja,ri[ii++]=Xa,Xa=t,Ja=e}function py(t,e,n){Pt[Et++]=Pn,Pt[Et++]=En,Pt[Et++]=Dr,Dr=t;var r=Pn;t=En;var i=32-jt(r)-1;r&=~(1<<i),n+=1;var s=32-jt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Pn=1<<32-jt(e)+i|n<<i|r,En=s+t}else Pn=1<<s|n<<i|r,En=t}function tp(t){t.return!==null&&(fr(t,1),py(t,1,0))}function np(t){for(;t===Xa;)Xa=ri[--ii],ri[ii]=null,Ja=ri[--ii],ri[ii]=null;for(;t===Dr;)Dr=Pt[--Et],Pt[Et]=null,En=Pt[--Et],Pt[Et]=null,Pn=Pt[--Et],Pt[Et]=null}var gt=null,mt=null,le=!1,Bt=null;function hy(t,e){var n=kt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $h(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gt=t,mt=Kn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gt=t,mt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Dr!==null?{id:Pn,overflow:En}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=kt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gt=t,mt=null,!0):!1;default:return!1}}function Rc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ic(t){if(le){var e=mt;if(e){var n=e;if(!$h(t,e)){if(Rc(t))throw Error(U(418));e=Kn(n.nextSibling);var r=gt;e&&$h(t,e)?hy(r,n):(t.flags=t.flags&-4097|2,le=!1,gt=t)}}else{if(Rc(t))throw Error(U(418));t.flags=t.flags&-4097|2,le=!1,gt=t}}}function Bh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gt=t}function Yo(t){if(t!==gt)return!1;if(!le)return Bh(t),le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xc(t.type,t.memoizedProps)),e&&(e=mt)){if(Rc(t))throw fy(),Error(U(418));for(;e;)hy(t,e),e=Kn(e.nextSibling)}if(Bh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mt=Kn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mt=null}}else mt=gt?Kn(t.stateNode.nextSibling):null;return!0}function fy(){for(var t=mt;t;)t=Kn(t.nextSibling)}function bi(){mt=gt=null,le=!1}function rp(t){Bt===null?Bt=[t]:Bt.push(t)}var vb=Un.ReactCurrentBatchConfig;function Rt(t,e){if(t&&t.defaultProps){e=fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Za=nr(null),el=null,si=null,ip=null;function sp(){ip=si=el=null}function op(t){var e=Za.current;oe(Za),t._currentValue=e}function Dc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fi(t,e){el=t,ip=si=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ze=!0),t.firstContext=null)}function Ft(t){var e=t._currentValue;if(ip!==t)if(t={context:t,memoizedValue:e,next:null},si===null){if(el===null)throw Error(U(308));si=t,el.dependencies={lanes:0,firstContext:t}}else si=si.next=t;return e}var Er=null;function ap(t){Er===null?Er=[t]:Er.push(t)}function my(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ap(e)):(n.next=i.next,i.next=n),e.interleaved=n,xn(t,r)}function xn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Dn=!1;function lp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,G&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xn(t,n)}return i=r.interleaved,i===null?(e.next=e,ap(r)):(e.next=i.next,i.next=e),r.interleaved=e,xn(t,n)}function _a(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gd(t,n)}}function Mh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function tl(t,e,n,r){var i=t.updateQueue;Dn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var c=i.baseState;o=0,d=u=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,b=a;switch(h=e,g=n,b.tag){case 1:if(y=b.payload,typeof y=="function"){c=y.call(g,c,h);break e}c=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,h=typeof y=="function"?y.call(g,c,h):y,h==null)break e;c=fe({},c,h);break e;case 2:Dn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,l=c):d=d.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);$r|=o,t.lanes=o,t.memoizedState=c}}function zh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var yy=new mg.Component().refs;function Lc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fl={isMounted:function(t){return(t=t._reactInternals)?Hr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ge(),i=Xn(t),s=Fn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Qn(t,s,i),e!==null&&(Ht(e,t,i,r),_a(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ge(),i=Xn(t),s=Fn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Qn(t,s,i),e!==null&&(Ht(e,t,i,r),_a(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ge(),r=Xn(t),i=Fn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Qn(t,i,r),e!==null&&(Ht(e,t,r,n),_a(e,t,r))}};function jh(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!to(n,r)||!to(i,s):!0}function vy(t,e,n){var r=!1,i=er,s=e.contextType;return typeof s=="object"&&s!==null?s=Ft(s):(i=tt(e)?Ir:Me.current,r=e.contextTypes,s=(r=r!=null)?wi(t,i):er),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Hh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fl.enqueueReplaceState(e,e.state,null)}function $c(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=yy,lp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ft(s):(s=tt(e)?Ir:Me.current,i.context=wi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Lc(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Fl.enqueueReplaceState(i,i.state,null),tl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Bi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===yy&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Xo(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Wh(t){var e=t._init;return e(t._payload)}function wy(t){function e(m,f){if(t){var v=m.deletions;v===null?(m.deletions=[f],m.flags|=16):v.push(f)}}function n(m,f){if(!t)return null;for(;f!==null;)e(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function i(m,f){return m=Jn(m,f),m.index=0,m.sibling=null,m}function s(m,f,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<f?(m.flags|=2,f):v):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,f,v,E){return f===null||f.tag!==6?(f=fu(v,m.mode,E),f.return=m,f):(f=i(f,v),f.return=m,f)}function l(m,f,v,E){var O=v.type;return O===Xr?d(m,f,v.props.children,E,v.key):f!==null&&(f.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===In&&Wh(O)===f.type)?(E=i(f,v.props),E.ref=Bi(m,f,v),E.return=m,E):(E=Fa(v.type,v.key,v.props,null,m.mode,E),E.ref=Bi(m,f,v),E.return=m,E)}function u(m,f,v,E){return f===null||f.tag!==4||f.stateNode.containerInfo!==v.containerInfo||f.stateNode.implementation!==v.implementation?(f=mu(v,m.mode,E),f.return=m,f):(f=i(f,v.children||[]),f.return=m,f)}function d(m,f,v,E,O){return f===null||f.tag!==7?(f=Ar(v,m.mode,E,O),f.return=m,f):(f=i(f,v),f.return=m,f)}function c(m,f,v){if(typeof f=="string"&&f!==""||typeof f=="number")return f=fu(""+f,m.mode,v),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Mo:return v=Fa(f.type,f.key,f.props,null,m.mode,v),v.ref=Bi(m,null,f),v.return=m,v;case Yr:return f=mu(f,m.mode,v),f.return=m,f;case In:var E=f._init;return c(m,E(f._payload),v)}if(fs(f)||Ri(f))return f=Ar(f,m.mode,v,null),f.return=m,f;Xo(m,f)}return null}function h(m,f,v,E){var O=f!==null?f.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return O!==null?null:a(m,f,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Mo:return v.key===O?l(m,f,v,E):null;case Yr:return v.key===O?u(m,f,v,E):null;case In:return O=v._init,h(m,f,O(v._payload),E)}if(fs(v)||Ri(v))return O!==null?null:d(m,f,v,E,null);Xo(m,v)}return null}function g(m,f,v,E,O){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(v)||null,a(f,m,""+E,O);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Mo:return m=m.get(E.key===null?v:E.key)||null,l(f,m,E,O);case Yr:return m=m.get(E.key===null?v:E.key)||null,u(f,m,E,O);case In:var x=E._init;return g(m,f,v,x(E._payload),O)}if(fs(E)||Ri(E))return m=m.get(v)||null,d(f,m,E,O,null);Xo(f,E)}return null}function y(m,f,v,E){for(var O=null,x=null,C=f,A=f=0,R=null;C!==null&&A<v.length;A++){C.index>A?(R=C,C=null):R=C.sibling;var B=h(m,C,v[A],E);if(B===null){C===null&&(C=R);break}t&&C&&B.alternate===null&&e(m,C),f=s(B,f,A),x===null?O=B:x.sibling=B,x=B,C=R}if(A===v.length)return n(m,C),le&&fr(m,A),O;if(C===null){for(;A<v.length;A++)C=c(m,v[A],E),C!==null&&(f=s(C,f,A),x===null?O=C:x.sibling=C,x=C);return le&&fr(m,A),O}for(C=r(m,C);A<v.length;A++)R=g(C,m,A,v[A],E),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?A:R.key),f=s(R,f,A),x===null?O=R:x.sibling=R,x=R);return t&&C.forEach(function(J){return e(m,J)}),le&&fr(m,A),O}function b(m,f,v,E){var O=Ri(v);if(typeof O!="function")throw Error(U(150));if(v=O.call(v),v==null)throw Error(U(151));for(var x=O=null,C=f,A=f=0,R=null,B=v.next();C!==null&&!B.done;A++,B=v.next()){C.index>A?(R=C,C=null):R=C.sibling;var J=h(m,C,B.value,E);if(J===null){C===null&&(C=R);break}t&&C&&J.alternate===null&&e(m,C),f=s(J,f,A),x===null?O=J:x.sibling=J,x=J,C=R}if(B.done)return n(m,C),le&&fr(m,A),O;if(C===null){for(;!B.done;A++,B=v.next())B=c(m,B.value,E),B!==null&&(f=s(B,f,A),x===null?O=B:x.sibling=B,x=B);return le&&fr(m,A),O}for(C=r(m,C);!B.done;A++,B=v.next())B=g(C,m,A,B.value,E),B!==null&&(t&&B.alternate!==null&&C.delete(B.key===null?A:B.key),f=s(B,f,A),x===null?O=B:x.sibling=B,x=B);return t&&C.forEach(function(Se){return e(m,Se)}),le&&fr(m,A),O}function S(m,f,v,E){if(typeof v=="object"&&v!==null&&v.type===Xr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Mo:e:{for(var O=v.key,x=f;x!==null;){if(x.key===O){if(O=v.type,O===Xr){if(x.tag===7){n(m,x.sibling),f=i(x,v.props.children),f.return=m,m=f;break e}}else if(x.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===In&&Wh(O)===x.type){n(m,x.sibling),f=i(x,v.props),f.ref=Bi(m,x,v),f.return=m,m=f;break e}n(m,x);break}else e(m,x);x=x.sibling}v.type===Xr?(f=Ar(v.props.children,m.mode,E,v.key),f.return=m,m=f):(E=Fa(v.type,v.key,v.props,null,m.mode,E),E.ref=Bi(m,f,v),E.return=m,m=E)}return o(m);case Yr:e:{for(x=v.key;f!==null;){if(f.key===x)if(f.tag===4&&f.stateNode.containerInfo===v.containerInfo&&f.stateNode.implementation===v.implementation){n(m,f.sibling),f=i(f,v.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else e(m,f);f=f.sibling}f=mu(v,m.mode,E),f.return=m,m=f}return o(m);case In:return x=v._init,S(m,f,x(v._payload),E)}if(fs(v))return y(m,f,v,E);if(Ri(v))return b(m,f,v,E);Xo(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,f!==null&&f.tag===6?(n(m,f.sibling),f=i(f,v),f.return=m,m=f):(n(m,f),f=fu(v,m.mode,E),f.return=m,m=f),o(m)):n(m,f)}return S}var _i=wy(!0),by=wy(!1),Uo={},Zt=nr(Uo),so=nr(Uo),oo=nr(Uo);function kr(t){if(t===Uo)throw Error(U(174));return t}function up(t,e){switch(ne(oo,e),ne(so,t),ne(Zt,Uo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gc(e,t)}oe(Zt),ne(Zt,e)}function Si(){oe(Zt),oe(so),oe(oo)}function _y(t){kr(oo.current);var e=kr(Zt.current),n=gc(e,t.type);e!==n&&(ne(so,t),ne(Zt,n))}function cp(t){so.current===t&&(oe(Zt),oe(so))}var pe=nr(0);function nl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lu=[];function dp(){for(var t=0;t<lu.length;t++)lu[t]._workInProgressVersionPrimary=null;lu.length=0}var Sa=Un.ReactCurrentDispatcher,uu=Un.ReactCurrentBatchConfig,Lr=0,he=null,ke=null,Te=null,rl=!1,Fs=!1,ao=0,wb=0;function Le(){throw Error(U(321))}function pp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qt(t[n],e[n]))return!1;return!0}function hp(t,e,n,r,i,s){if(Lr=s,he=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sa.current=t===null||t.memoizedState===null?Pb:Eb,t=n(r,i),Fs){s=0;do{if(Fs=!1,ao=0,25<=s)throw Error(U(301));s+=1,Te=ke=null,e.updateQueue=null,Sa.current=kb,t=n(r,i)}while(Fs)}if(Sa.current=il,e=ke!==null&&ke.next!==null,Lr=0,Te=ke=he=null,rl=!1,e)throw Error(U(300));return t}function fp(){var t=ao!==0;return ao=0,t}function Yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?he.memoizedState=Te=t:Te=Te.next=t,Te}function Tt(){if(ke===null){var t=he.alternate;t=t!==null?t.memoizedState:null}else t=ke.next;var e=Te===null?he.memoizedState:Te.next;if(e!==null)Te=e,ke=t;else{if(t===null)throw Error(U(310));ke=t,t={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Te===null?he.memoizedState=Te=t:Te=Te.next=t}return Te}function lo(t,e){return typeof e=="function"?e(t):e}function cu(t){var e=Tt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=ke,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Lr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,o=r):l=l.next=c,he.lanes|=d,$r|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,qt(r,e.memoizedState)||(Ze=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,he.lanes|=s,$r|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function du(t){var e=Tt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);qt(s,e.memoizedState)||(Ze=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Sy(){}function Py(t,e){var n=he,r=Tt(),i=e(),s=!qt(r.memoizedState,i);if(s&&(r.memoizedState=i,Ze=!0),r=r.queue,mp(Cy.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,uo(9,ky.bind(null,n,r,i,e),void 0,null),Oe===null)throw Error(U(349));Lr&30||Ey(n,e,i)}return i}function Ey(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=he.updateQueue,e===null?(e={lastEffect:null,stores:null},he.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ky(t,e,n,r){e.value=n,e.getSnapshot=r,Fy(e)&&Ty(t)}function Cy(t,e,n){return n(function(){Fy(e)&&Ty(t)})}function Fy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qt(t,n)}catch{return!0}}function Ty(t){var e=xn(t,1);e!==null&&Ht(e,t,1,-1)}function qh(t){var e=Yt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:t},e.queue=t,t=t.dispatch=Sb.bind(null,he,t),[e.memoizedState,t]}function uo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=he.updateQueue,e===null?(e={lastEffect:null,stores:null},he.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Oy(){return Tt().memoizedState}function Pa(t,e,n,r){var i=Yt();he.flags|=t,i.memoizedState=uo(1|e,n,void 0,r===void 0?null:r)}function Tl(t,e,n,r){var i=Tt();r=r===void 0?null:r;var s=void 0;if(ke!==null){var o=ke.memoizedState;if(s=o.destroy,r!==null&&pp(r,o.deps)){i.memoizedState=uo(e,n,s,r);return}}he.flags|=t,i.memoizedState=uo(1|e,n,s,r)}function Vh(t,e){return Pa(8390656,8,t,e)}function mp(t,e){return Tl(2048,8,t,e)}function xy(t,e){return Tl(4,2,t,e)}function Ay(t,e){return Tl(4,4,t,e)}function Uy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ny(t,e,n){return n=n!=null?n.concat([t]):null,Tl(4,4,Uy.bind(null,e,t),n)}function gp(){}function Ry(t,e){var n=Tt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Iy(t,e){var n=Tt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Dy(t,e,n){return Lr&21?(qt(n,e)||(n=Bg(),he.lanes|=n,$r|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ze=!0),t.memoizedState=n)}function bb(t,e){var n=Y;Y=n!==0&&4>n?n:4,t(!0);var r=uu.transition;uu.transition={};try{t(!1),e()}finally{Y=n,uu.transition=r}}function Ly(){return Tt().memoizedState}function _b(t,e,n){var r=Xn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$y(t))By(e,n);else if(n=my(t,e,n,r),n!==null){var i=Ge();Ht(n,t,r,i),My(n,e,r)}}function Sb(t,e,n){var r=Xn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($y(t))By(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,qt(a,o)){var l=e.interleaved;l===null?(i.next=i,ap(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=my(t,e,i,r),n!==null&&(i=Ge(),Ht(n,t,r,i),My(n,e,r))}}function $y(t){var e=t.alternate;return t===he||e!==null&&e===he}function By(t,e){Fs=rl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function My(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gd(t,n)}}var il={readContext:Ft,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},Pb={readContext:Ft,useCallback:function(t,e){return Yt().memoizedState=[t,e===void 0?null:e],t},useContext:Ft,useEffect:Vh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Pa(4194308,4,Uy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Pa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Pa(4,2,t,e)},useMemo:function(t,e){var n=Yt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Yt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_b.bind(null,he,t),[r.memoizedState,t]},useRef:function(t){var e=Yt();return t={current:t},e.memoizedState=t},useState:qh,useDebugValue:gp,useDeferredValue:function(t){return Yt().memoizedState=t},useTransition:function(){var t=qh(!1),e=t[0];return t=bb.bind(null,t[1]),Yt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=he,i=Yt();if(le){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Oe===null)throw Error(U(349));Lr&30||Ey(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Vh(Cy.bind(null,r,s,t),[t]),r.flags|=2048,uo(9,ky.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Yt(),e=Oe.identifierPrefix;if(le){var n=En,r=Pn;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ao++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Eb={readContext:Ft,useCallback:Ry,useContext:Ft,useEffect:mp,useImperativeHandle:Ny,useInsertionEffect:xy,useLayoutEffect:Ay,useMemo:Iy,useReducer:cu,useRef:Oy,useState:function(){return cu(lo)},useDebugValue:gp,useDeferredValue:function(t){var e=Tt();return Dy(e,ke.memoizedState,t)},useTransition:function(){var t=cu(lo)[0],e=Tt().memoizedState;return[t,e]},useMutableSource:Sy,useSyncExternalStore:Py,useId:Ly,unstable_isNewReconciler:!1},kb={readContext:Ft,useCallback:Ry,useContext:Ft,useEffect:mp,useImperativeHandle:Ny,useInsertionEffect:xy,useLayoutEffect:Ay,useMemo:Iy,useReducer:du,useRef:Oy,useState:function(){return du(lo)},useDebugValue:gp,useDeferredValue:function(t){var e=Tt();return ke===null?e.memoizedState=t:Dy(e,ke.memoizedState,t)},useTransition:function(){var t=du(lo)[0],e=Tt().memoizedState;return[t,e]},useMutableSource:Sy,useSyncExternalStore:Py,useId:Ly,unstable_isNewReconciler:!1};function Pi(t,e){try{var n="",r=e;do n+=Z1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function pu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Cb=typeof WeakMap=="function"?WeakMap:Map;function zy(t,e,n){n=Fn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ol||(ol=!0,Qc=r),Bc(t,e)},n}function jy(t,e,n){n=Fn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Bc(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Bc(t,e),typeof r!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Gh(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Cb;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Mb.bind(null,t,e,n),e.then(t,t))}function Kh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Qh(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fn(-1,1),e.tag=2,Qn(n,e,1))),n.lanes|=1),t)}var Fb=Un.ReactCurrentOwner,Ze=!1;function qe(t,e,n,r){e.child=t===null?by(e,null,n,r):_i(e,t.child,n,r)}function Yh(t,e,n,r,i){n=n.render;var s=e.ref;return fi(e,i),r=hp(t,e,n,r,s,i),n=fp(),t!==null&&!Ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,An(t,e,i)):(le&&n&&tp(e),e.flags|=1,qe(t,e,r,i),e.child)}function Xh(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ep(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Hy(t,e,s,r,i)):(t=Fa(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:to,n(o,r)&&t.ref===e.ref)return An(t,e,i)}return e.flags|=1,t=Jn(s,r),t.ref=e.ref,t.return=e,e.child=t}function Hy(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(to(s,r)&&t.ref===e.ref)if(Ze=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ze=!0);else return e.lanes=t.lanes,An(t,e,i)}return Mc(t,e,n,r,i)}function Wy(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(ai,ut),ut|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ne(ai,ut),ut|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ne(ai,ut),ut|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ne(ai,ut),ut|=r;return qe(t,e,i,n),e.child}function qy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Mc(t,e,n,r,i){var s=tt(n)?Ir:Me.current;return s=wi(e,s),fi(e,i),n=hp(t,e,n,r,s,i),r=fp(),t!==null&&!Ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,An(t,e,i)):(le&&r&&tp(e),e.flags|=1,qe(t,e,n,i),e.child)}function Jh(t,e,n,r,i){if(tt(n)){var s=!0;Ya(e)}else s=!1;if(fi(e,i),e.stateNode===null)Ea(t,e),vy(e,n,r),$c(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ft(u):(u=tt(n)?Ir:Me.current,u=wi(e,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Hh(e,o,r,u),Dn=!1;var h=e.memoizedState;o.state=h,tl(e,r,o,i),l=e.memoizedState,a!==r||h!==l||et.current||Dn?(typeof d=="function"&&(Lc(e,n,d,r),l=e.memoizedState),(a=Dn||jh(e,n,a,r,h,l,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,gy(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Rt(e.type,a),o.props=u,c=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ft(l):(l=tt(n)?Ir:Me.current,l=wi(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==c||h!==l)&&Hh(e,o,r,l),Dn=!1,h=e.memoizedState,o.state=h,tl(e,r,o,i);var y=e.memoizedState;a!==c||h!==y||et.current||Dn?(typeof g=="function"&&(Lc(e,n,g,r),y=e.memoizedState),(u=Dn||jh(e,n,u,r,h,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return zc(t,e,n,r,s,i)}function zc(t,e,n,r,i,s){qy(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Lh(e,n,!1),An(t,e,s);r=e.stateNode,Fb.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=_i(e,t.child,null,s),e.child=_i(e,null,a,s)):qe(t,e,a,s),e.memoizedState=r.state,i&&Lh(e,n,!0),e.child}function Vy(t){var e=t.stateNode;e.pendingContext?Dh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Dh(t,e.context,!1),up(t,e.containerInfo)}function Zh(t,e,n,r,i){return bi(),rp(i),e.flags|=256,qe(t,e,n,r),e.child}var jc={dehydrated:null,treeContext:null,retryLane:0};function Hc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gy(t,e,n){var r=e.pendingProps,i=pe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ne(pe,i&1),t===null)return Ic(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Al(o,r,0,null),t=Ar(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Hc(n),e.memoizedState=jc,t):yp(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Tb(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Jn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Jn(a,s):(s=Ar(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Hc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=jc,r}return s=t.child,t=s.sibling,r=Jn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yp(t,e){return e=Al({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Jo(t,e,n,r){return r!==null&&rp(r),_i(e,t.child,null,n),t=yp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Tb(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=pu(Error(U(422))),Jo(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Al({mode:"visible",children:r.children},i,0,null),s=Ar(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&_i(e,t.child,null,o),e.child.memoizedState=Hc(o),e.memoizedState=jc,s);if(!(e.mode&1))return Jo(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=pu(s,r,void 0),Jo(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ze||a){if(r=Oe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xn(t,i),Ht(r,t,i,-1))}return Pp(),r=pu(Error(U(421))),Jo(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=zb.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,mt=Kn(i.nextSibling),gt=e,le=!0,Bt=null,t!==null&&(Pt[Et++]=Pn,Pt[Et++]=En,Pt[Et++]=Dr,Pn=t.id,En=t.overflow,Dr=e),e=yp(e,r.children),e.flags|=4096,e)}function ef(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dc(t.return,e,n)}function hu(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ky(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(qe(t,e,r.children,n),r=pe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ef(t,n,e);else if(t.tag===19)ef(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ne(pe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&nl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),hu(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&nl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}hu(e,!0,n,null,s);break;case"together":hu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ea(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function An(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$r|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Jn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Jn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ob(t,e,n){switch(e.tag){case 3:Vy(e),bi();break;case 5:_y(e);break;case 1:tt(e.type)&&Ya(e);break;case 4:up(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ne(Za,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ne(pe,pe.current&1),e.flags|=128,null):n&e.child.childLanes?Gy(t,e,n):(ne(pe,pe.current&1),t=An(t,e,n),t!==null?t.sibling:null);ne(pe,pe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ky(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ne(pe,pe.current),r)break;return null;case 22:case 23:return e.lanes=0,Wy(t,e,n)}return An(t,e,n)}var Qy,Wc,Yy,Xy;Qy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wc=function(){};Yy=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,kr(Zt.current);var s=null;switch(n){case"input":i=pc(t,i),r=pc(t,r),s=[];break;case"select":i=fe({},i,{value:void 0}),r=fe({},r,{value:void 0}),s=[];break;case"textarea":i=mc(t,i),r=mc(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ka)}yc(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ks.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ks.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ie("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Xy=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mi(t,e){if(!le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $e(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xb(t,e,n){var r=e.pendingProps;switch(np(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(e),null;case 1:return tt(e.type)&&Qa(),$e(e),null;case 3:return r=e.stateNode,Si(),oe(et),oe(Me),dp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bt!==null&&(Jc(Bt),Bt=null))),Wc(t,e),$e(e),null;case 5:cp(e);var i=kr(oo.current);if(n=e.type,t!==null&&e.stateNode!=null)Yy(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return $e(e),null}if(t=kr(Zt.current),Yo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Xt]=e,r[io]=s,t=(e.mode&1)!==0,n){case"dialog":ie("cancel",r),ie("close",r);break;case"iframe":case"object":case"embed":ie("load",r);break;case"video":case"audio":for(i=0;i<gs.length;i++)ie(gs[i],r);break;case"source":ie("error",r);break;case"img":case"image":case"link":ie("error",r),ie("load",r);break;case"details":ie("toggle",r);break;case"input":uh(r,s),ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ie("invalid",r);break;case"textarea":dh(r,s),ie("invalid",r)}yc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Qo(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Qo(r.textContent,a,t),i=["children",""+a]):Ks.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ie("scroll",r)}switch(n){case"input":zo(r),ch(r,s,!0);break;case"textarea":zo(r),ph(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ka)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Eg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xt]=e,t[io]=r,Qy(t,e,!1,!1),e.stateNode=t;e:{switch(o=vc(n,r),n){case"dialog":ie("cancel",t),ie("close",t),i=r;break;case"iframe":case"object":case"embed":ie("load",t),i=r;break;case"video":case"audio":for(i=0;i<gs.length;i++)ie(gs[i],t);i=r;break;case"source":ie("error",t),i=r;break;case"img":case"image":case"link":ie("error",t),ie("load",t),i=r;break;case"details":ie("toggle",t),i=r;break;case"input":uh(t,r),i=pc(t,r),ie("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=fe({},r,{value:void 0}),ie("invalid",t);break;case"textarea":dh(t,r),i=mc(t,r),ie("invalid",t);break;default:i=r}yc(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Fg(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&kg(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Qs(t,l):typeof l=="number"&&Qs(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ks.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ie("scroll",t):l!=null&&zd(t,s,l,o))}switch(n){case"input":zo(t),ch(t,r,!1);break;case"textarea":zo(t),ph(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ci(t,!!r.multiple,s,!1):r.defaultValue!=null&&ci(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ka)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $e(e),null;case 6:if(t&&e.stateNode!=null)Xy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=kr(oo.current),kr(Zt.current),Yo(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xt]=e,(s=r.nodeValue!==n)&&(t=gt,t!==null))switch(t.tag){case 3:Qo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qo(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xt]=e,e.stateNode=r}return $e(e),null;case 13:if(oe(pe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(le&&mt!==null&&e.mode&1&&!(e.flags&128))fy(),bi(),e.flags|=98560,s=!1;else if(s=Yo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Xt]=e}else bi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$e(e),s=!1}else Bt!==null&&(Jc(Bt),Bt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||pe.current&1?Ce===0&&(Ce=3):Pp())),e.updateQueue!==null&&(e.flags|=4),$e(e),null);case 4:return Si(),Wc(t,e),t===null&&no(e.stateNode.containerInfo),$e(e),null;case 10:return op(e.type._context),$e(e),null;case 17:return tt(e.type)&&Qa(),$e(e),null;case 19:if(oe(pe),s=e.memoizedState,s===null)return $e(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Mi(s,!1);else{if(Ce!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=nl(t),o!==null){for(e.flags|=128,Mi(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ne(pe,pe.current&1|2),e.child}t=t.sibling}s.tail!==null&&_e()>Ei&&(e.flags|=128,r=!0,Mi(s,!1),e.lanes=4194304)}else{if(!r)if(t=nl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!le)return $e(e),null}else 2*_e()-s.renderingStartTime>Ei&&n!==1073741824&&(e.flags|=128,r=!0,Mi(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_e(),e.sibling=null,n=pe.current,ne(pe,r?n&1|2:n&1),e):($e(e),null);case 22:case 23:return Sp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ut&1073741824&&($e(e),e.subtreeFlags&6&&(e.flags|=8192)):$e(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function Ab(t,e){switch(np(e),e.tag){case 1:return tt(e.type)&&Qa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Si(),oe(et),oe(Me),dp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cp(e),null;case 13:if(oe(pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));bi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return oe(pe),null;case 4:return Si(),null;case 10:return op(e.type._context),null;case 22:case 23:return Sp(),null;case 24:return null;default:return null}}var Zo=!1,Be=!1,Ub=typeof WeakSet=="function"?WeakSet:Set,D=null;function oi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){me(t,e,r)}else n.current=null}function qc(t,e,n){try{n()}catch(r){me(t,e,r)}}var tf=!1;function Nb(t,e){if(Tc=qa,t=ty(),ep(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,c=t,h=null;t:for(;;){for(var g;c!==n||i!==0&&c.nodeType!==3||(a=o+i),c!==s||r!==0&&c.nodeType!==3||(l=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(g=c.firstChild)!==null;)h=c,c=g;for(;;){if(c===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++d===r&&(l=o),(g=c.nextSibling)!==null)break;c=h,h=c.parentNode}c=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Oc={focusedElem:t,selectionRange:n},qa=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,S=y.memoizedState,m=e.stateNode,f=m.getSnapshotBeforeUpdate(e.elementType===e.type?b:Rt(e.type,b),S);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(E){me(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return y=tf,tf=!1,y}function Ts(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&qc(e,n,s)}i=i.next}while(i!==r)}}function Ol(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Jy(t){var e=t.alternate;e!==null&&(t.alternate=null,Jy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xt],delete e[io],delete e[Uc],delete e[mb],delete e[gb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Zy(t){return t.tag===5||t.tag===3||t.tag===4}function nf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ka));else if(r!==4&&(t=t.child,t!==null))for(Gc(t,e,n),t=t.sibling;t!==null;)Gc(t,e,n),t=t.sibling}function Kc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Kc(t,e,n),t=t.sibling;t!==null;)Kc(t,e,n),t=t.sibling}var Ne=null,It=!1;function Rn(t,e,n){for(n=n.child;n!==null;)ev(t,e,n),n=n.sibling}function ev(t,e,n){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(_l,n)}catch{}switch(n.tag){case 5:Be||oi(n,e);case 6:var r=Ne,i=It;Ne=null,Rn(t,e,n),Ne=r,It=i,Ne!==null&&(It?(t=Ne,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ne.removeChild(n.stateNode));break;case 18:Ne!==null&&(It?(t=Ne,n=n.stateNode,t.nodeType===8?ou(t.parentNode,n):t.nodeType===1&&ou(t,n),Zs(t)):ou(Ne,n.stateNode));break;case 4:r=Ne,i=It,Ne=n.stateNode.containerInfo,It=!0,Rn(t,e,n),Ne=r,It=i;break;case 0:case 11:case 14:case 15:if(!Be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&qc(n,e,o),i=i.next}while(i!==r)}Rn(t,e,n);break;case 1:if(!Be&&(oi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){me(n,e,a)}Rn(t,e,n);break;case 21:Rn(t,e,n);break;case 22:n.mode&1?(Be=(r=Be)||n.memoizedState!==null,Rn(t,e,n),Be=r):Rn(t,e,n);break;default:Rn(t,e,n)}}function rf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ub),e.forEach(function(r){var i=jb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ne=a.stateNode,It=!1;break e;case 3:Ne=a.stateNode.containerInfo,It=!0;break e;case 4:Ne=a.stateNode.containerInfo,It=!0;break e}a=a.return}if(Ne===null)throw Error(U(160));ev(s,o,i),Ne=null,It=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){me(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tv(e,t),e=e.sibling}function tv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xt(e,t),Gt(t),r&4){try{Ts(3,t,t.return),Ol(3,t)}catch(b){me(t,t.return,b)}try{Ts(5,t,t.return)}catch(b){me(t,t.return,b)}}break;case 1:xt(e,t),Gt(t),r&512&&n!==null&&oi(n,n.return);break;case 5:if(xt(e,t),Gt(t),r&512&&n!==null&&oi(n,n.return),t.flags&32){var i=t.stateNode;try{Qs(i,"")}catch(b){me(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Sg(i,s),vc(a,o);var u=vc(a,s);for(o=0;o<l.length;o+=2){var d=l[o],c=l[o+1];d==="style"?Fg(i,c):d==="dangerouslySetInnerHTML"?kg(i,c):d==="children"?Qs(i,c):zd(i,d,c,u)}switch(a){case"input":hc(i,s);break;case"textarea":Pg(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?ci(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?ci(i,!!s.multiple,s.defaultValue,!0):ci(i,!!s.multiple,s.multiple?[]:"",!1))}i[io]=s}catch(b){me(t,t.return,b)}}break;case 6:if(xt(e,t),Gt(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){me(t,t.return,b)}}break;case 3:if(xt(e,t),Gt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zs(e.containerInfo)}catch(b){me(t,t.return,b)}break;case 4:xt(e,t),Gt(t);break;case 13:xt(e,t),Gt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(bp=_e())),r&4&&rf(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Be=(u=Be)||d,xt(e,t),Be=u):xt(e,t),Gt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(D=t,d=t.child;d!==null;){for(c=D=d;D!==null;){switch(h=D,g=h.child,h.tag){case 0:case 11:case 14:case 15:Ts(4,h,h.return);break;case 1:oi(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(b){me(r,n,b)}}break;case 5:oi(h,h.return);break;case 22:if(h.memoizedState!==null){of(c);continue}}g!==null?(g.return=h,D=g):of(c)}d=d.sibling}e:for(d=null,c=t;;){if(c.tag===5){if(d===null){d=c;try{i=c.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=c.stateNode,l=c.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Cg("display",o))}catch(b){me(t,t.return,b)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(b){me(t,t.return,b)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:xt(e,t),Gt(t),r&4&&rf(t);break;case 21:break;default:xt(e,t),Gt(t)}}function Gt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Zy(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qs(i,""),r.flags&=-33);var s=nf(t);Kc(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=nf(t);Gc(t,a,o);break;default:throw Error(U(161))}}catch(l){me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Rb(t,e,n){D=t,nv(t)}function nv(t,e,n){for(var r=(t.mode&1)!==0;D!==null;){var i=D,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Zo;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Be;a=Zo;var u=Be;if(Zo=o,(Be=l)&&!u)for(D=i;D!==null;)o=D,l=o.child,o.tag===22&&o.memoizedState!==null?af(i):l!==null?(l.return=o,D=l):af(i);for(;s!==null;)D=s,nv(s),s=s.sibling;D=i,Zo=a,Be=u}sf(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,D=s):sf(t)}}function sf(t){for(;D!==null;){var e=D;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Be||Ol(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Be)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Rt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&zh(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zh(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&Zs(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Be||e.flags&512&&Vc(e)}catch(h){me(e,e.return,h)}}if(e===t){D=null;break}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}}function of(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var n=e.sibling;if(n!==null){n.return=e.return,D=n;break}D=e.return}}function af(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ol(4,e)}catch(l){me(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){me(e,i,l)}}var s=e.return;try{Vc(e)}catch(l){me(e,s,l)}break;case 5:var o=e.return;try{Vc(e)}catch(l){me(e,o,l)}}}catch(l){me(e,e.return,l)}if(e===t){D=null;break}var a=e.sibling;if(a!==null){a.return=e.return,D=a;break}D=e.return}}var Ib=Math.ceil,sl=Un.ReactCurrentDispatcher,vp=Un.ReactCurrentOwner,Ct=Un.ReactCurrentBatchConfig,G=0,Oe=null,Pe=null,Ie=0,ut=0,ai=nr(0),Ce=0,co=null,$r=0,xl=0,wp=0,Os=null,Je=null,bp=0,Ei=1/0,yn=null,ol=!1,Qc=null,Yn=null,ea=!1,Hn=null,al=0,xs=0,Yc=null,ka=-1,Ca=0;function Ge(){return G&6?_e():ka!==-1?ka:ka=_e()}function Xn(t){return t.mode&1?G&2&&Ie!==0?Ie&-Ie:vb.transition!==null?(Ca===0&&(Ca=Bg()),Ca):(t=Y,t!==0||(t=window.event,t=t===void 0?16:Vg(t.type)),t):1}function Ht(t,e,n,r){if(50<xs)throw xs=0,Yc=null,Error(U(185));Oo(t,n,r),(!(G&2)||t!==Oe)&&(t===Oe&&(!(G&2)&&(xl|=n),Ce===4&&Bn(t,Ie)),nt(t,r),n===1&&G===0&&!(e.mode&1)&&(Ei=_e()+500,Cl&&rr()))}function nt(t,e){var n=t.callbackNode;vw(t,e);var r=Wa(t,t===Oe?Ie:0);if(r===0)n!==null&&mh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&mh(n),e===1)t.tag===0?yb(lf.bind(null,t)):dy(lf.bind(null,t)),hb(function(){!(G&6)&&rr()}),n=null;else{switch(Mg(r)){case 1:n=Vd;break;case 4:n=Lg;break;case 16:n=Ha;break;case 536870912:n=$g;break;default:n=Ha}n=cv(n,rv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rv(t,e){if(ka=-1,Ca=0,G&6)throw Error(U(327));var n=t.callbackNode;if(mi()&&t.callbackNode!==n)return null;var r=Wa(t,t===Oe?Ie:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ll(t,r);else{e=r;var i=G;G|=2;var s=sv();(Oe!==t||Ie!==e)&&(yn=null,Ei=_e()+500,xr(t,e));do try{$b();break}catch(a){iv(t,a)}while(1);sp(),sl.current=s,G=i,Pe!==null?e=0:(Oe=null,Ie=0,e=Ce)}if(e!==0){if(e===2&&(i=Pc(t),i!==0&&(r=i,e=Xc(t,i))),e===1)throw n=co,xr(t,0),Bn(t,r),nt(t,_e()),n;if(e===6)Bn(t,r);else{if(i=t.current.alternate,!(r&30)&&!Db(i)&&(e=ll(t,r),e===2&&(s=Pc(t),s!==0&&(r=s,e=Xc(t,s))),e===1))throw n=co,xr(t,0),Bn(t,r),nt(t,_e()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:mr(t,Je,yn);break;case 3:if(Bn(t,r),(r&130023424)===r&&(e=bp+500-_e(),10<e)){if(Wa(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ge(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ac(mr.bind(null,t,Je,yn),e);break}mr(t,Je,yn);break;case 4:if(Bn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-jt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=_e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ib(r/1960))-r,10<r){t.timeoutHandle=Ac(mr.bind(null,t,Je,yn),r);break}mr(t,Je,yn);break;case 5:mr(t,Je,yn);break;default:throw Error(U(329))}}}return nt(t,_e()),t.callbackNode===n?rv.bind(null,t):null}function Xc(t,e){var n=Os;return t.current.memoizedState.isDehydrated&&(xr(t,e).flags|=256),t=ll(t,e),t!==2&&(e=Je,Je=n,e!==null&&Jc(e)),t}function Jc(t){Je===null?Je=t:Je.push.apply(Je,t)}function Db(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!qt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bn(t,e){for(e&=~wp,e&=~xl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-jt(e),r=1<<n;t[n]=-1,e&=~r}}function lf(t){if(G&6)throw Error(U(327));mi();var e=Wa(t,0);if(!(e&1))return nt(t,_e()),null;var n=ll(t,e);if(t.tag!==0&&n===2){var r=Pc(t);r!==0&&(e=r,n=Xc(t,r))}if(n===1)throw n=co,xr(t,0),Bn(t,e),nt(t,_e()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mr(t,Je,yn),nt(t,_e()),null}function _p(t,e){var n=G;G|=1;try{return t(e)}finally{G=n,G===0&&(Ei=_e()+500,Cl&&rr())}}function Br(t){Hn!==null&&Hn.tag===0&&!(G&6)&&mi();var e=G;G|=1;var n=Ct.transition,r=Y;try{if(Ct.transition=null,Y=1,t)return t()}finally{Y=r,Ct.transition=n,G=e,!(G&6)&&rr()}}function Sp(){ut=ai.current,oe(ai)}function xr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pb(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(np(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qa();break;case 3:Si(),oe(et),oe(Me),dp();break;case 5:cp(r);break;case 4:Si();break;case 13:oe(pe);break;case 19:oe(pe);break;case 10:op(r.type._context);break;case 22:case 23:Sp()}n=n.return}if(Oe=t,Pe=t=Jn(t.current,null),Ie=ut=e,Ce=0,co=null,wp=xl=$r=0,Je=Os=null,Er!==null){for(e=0;e<Er.length;e++)if(n=Er[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Er=null}return t}function iv(t,e){do{var n=Pe;try{if(sp(),Sa.current=il,rl){for(var r=he.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rl=!1}if(Lr=0,Te=ke=he=null,Fs=!1,ao=0,vp.current=null,n===null||n.return===null){Ce=1,co=e,Pe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ie,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Kh(o);if(g!==null){g.flags&=-257,Qh(g,o,a,s,e),g.mode&1&&Gh(s,u,e),e=g,l=u;var y=e.updateQueue;if(y===null){var b=new Set;b.add(l),e.updateQueue=b}else y.add(l);break e}else{if(!(e&1)){Gh(s,u,e),Pp();break e}l=Error(U(426))}}else if(le&&a.mode&1){var S=Kh(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Qh(S,o,a,s,e),rp(Pi(l,a));break e}}s=l=Pi(l,a),Ce!==4&&(Ce=2),Os===null?Os=[s]:Os.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=zy(s,l,e);Mh(s,m);break e;case 1:a=l;var f=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Yn===null||!Yn.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=jy(s,a,e);Mh(s,E);break e}}s=s.return}while(s!==null)}av(n)}catch(O){e=O,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(1)}function sv(){var t=sl.current;return sl.current=il,t===null?il:t}function Pp(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Oe===null||!($r&268435455)&&!(xl&268435455)||Bn(Oe,Ie)}function ll(t,e){var n=G;G|=2;var r=sv();(Oe!==t||Ie!==e)&&(yn=null,xr(t,e));do try{Lb();break}catch(i){iv(t,i)}while(1);if(sp(),G=n,sl.current=r,Pe!==null)throw Error(U(261));return Oe=null,Ie=0,Ce}function Lb(){for(;Pe!==null;)ov(Pe)}function $b(){for(;Pe!==null&&!uw();)ov(Pe)}function ov(t){var e=uv(t.alternate,t,ut);t.memoizedProps=t.pendingProps,e===null?av(t):Pe=e,vp.current=null}function av(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ab(n,e),n!==null){n.flags&=32767,Pe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ce=6,Pe=null;return}}else if(n=xb(n,e,ut),n!==null){Pe=n;return}if(e=e.sibling,e!==null){Pe=e;return}Pe=e=t}while(e!==null);Ce===0&&(Ce=5)}function mr(t,e,n){var r=Y,i=Ct.transition;try{Ct.transition=null,Y=1,Bb(t,e,n,r)}finally{Ct.transition=i,Y=r}return null}function Bb(t,e,n,r){do mi();while(Hn!==null);if(G&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ww(t,s),t===Oe&&(Pe=Oe=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ea||(ea=!0,cv(Ha,function(){return mi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ct.transition,Ct.transition=null;var o=Y;Y=1;var a=G;G|=4,vp.current=null,Nb(t,n),tv(n,t),sb(Oc),qa=!!Tc,Oc=Tc=null,t.current=n,Rb(n),cw(),G=a,Y=o,Ct.transition=s}else t.current=n;if(ea&&(ea=!1,Hn=t,al=i),s=t.pendingLanes,s===0&&(Yn=null),hw(n.stateNode),nt(t,_e()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ol)throw ol=!1,t=Qc,Qc=null,t;return al&1&&t.tag!==0&&mi(),s=t.pendingLanes,s&1?t===Yc?xs++:(xs=0,Yc=t):xs=0,rr(),null}function mi(){if(Hn!==null){var t=Mg(al),e=Ct.transition,n=Y;try{if(Ct.transition=null,Y=16>t?16:t,Hn===null)var r=!1;else{if(t=Hn,Hn=null,al=0,G&6)throw Error(U(331));var i=G;for(G|=4,D=t.current;D!==null;){var s=D,o=s.child;if(D.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(D=u;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:Ts(8,d,s)}var c=d.child;if(c!==null)c.return=d,D=c;else for(;D!==null;){d=D;var h=d.sibling,g=d.return;if(Jy(d),d===u){D=null;break}if(h!==null){h.return=g,D=h;break}D=g}}}var y=s.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var S=b.sibling;b.sibling=null,b=S}while(b!==null)}}D=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,D=o;else e:for(;D!==null;){if(s=D,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ts(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,D=m;break e}D=s.return}}var f=t.current;for(D=f;D!==null;){o=D;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,D=v;else e:for(o=f;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ol(9,a)}}catch(O){me(a,a.return,O)}if(a===o){D=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,D=E;break e}D=a.return}}if(G=i,rr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(_l,t)}catch{}r=!0}return r}finally{Y=n,Ct.transition=e}}return!1}function uf(t,e,n){e=Pi(n,e),e=zy(t,e,1),t=Qn(t,e,1),e=Ge(),t!==null&&(Oo(t,1,e),nt(t,e))}function me(t,e,n){if(t.tag===3)uf(t,t,n);else for(;e!==null;){if(e.tag===3){uf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yn===null||!Yn.has(r))){t=Pi(n,t),t=jy(e,t,1),e=Qn(e,t,1),t=Ge(),e!==null&&(Oo(e,1,t),nt(e,t));break}}e=e.return}}function Mb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ge(),t.pingedLanes|=t.suspendedLanes&n,Oe===t&&(Ie&n)===n&&(Ce===4||Ce===3&&(Ie&130023424)===Ie&&500>_e()-bp?xr(t,0):wp|=n),nt(t,e)}function lv(t,e){e===0&&(t.mode&1?(e=Wo,Wo<<=1,!(Wo&130023424)&&(Wo=4194304)):e=1);var n=Ge();t=xn(t,e),t!==null&&(Oo(t,e,n),nt(t,n))}function zb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lv(t,n)}function jb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),lv(t,n)}var uv;uv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||et.current)Ze=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ze=!1,Ob(t,e,n);Ze=!!(t.flags&131072)}else Ze=!1,le&&e.flags&1048576&&py(e,Ja,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ea(t,e),t=e.pendingProps;var i=wi(e,Me.current);fi(e,n),i=hp(null,e,r,t,i,n);var s=fp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tt(r)?(s=!0,Ya(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,lp(e),i.updater=Fl,e.stateNode=i,i._reactInternals=e,$c(e,r,t,n),e=zc(null,e,r,!0,s,n)):(e.tag=0,le&&s&&tp(e),qe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ea(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Wb(r),t=Rt(r,t),i){case 0:e=Mc(null,e,r,t,n);break e;case 1:e=Jh(null,e,r,t,n);break e;case 11:e=Yh(null,e,r,t,n);break e;case 14:e=Xh(null,e,r,Rt(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rt(r,i),Mc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rt(r,i),Jh(t,e,r,i,n);case 3:e:{if(Vy(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,gy(t,e),tl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Pi(Error(U(423)),e),e=Zh(t,e,r,n,i);break e}else if(r!==i){i=Pi(Error(U(424)),e),e=Zh(t,e,r,n,i);break e}else for(mt=Kn(e.stateNode.containerInfo.firstChild),gt=e,le=!0,Bt=null,n=by(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bi(),r===i){e=An(t,e,n);break e}qe(t,e,r,n)}e=e.child}return e;case 5:return _y(e),t===null&&Ic(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,xc(r,i)?o=null:s!==null&&xc(r,s)&&(e.flags|=32),qy(t,e),qe(t,e,o,n),e.child;case 6:return t===null&&Ic(e),null;case 13:return Gy(t,e,n);case 4:return up(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_i(e,null,r,n):qe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rt(r,i),Yh(t,e,r,i,n);case 7:return qe(t,e,e.pendingProps,n),e.child;case 8:return qe(t,e,e.pendingProps.children,n),e.child;case 12:return qe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ne(Za,r._currentValue),r._currentValue=o,s!==null)if(qt(s.value,o)){if(s.children===i.children&&!et.current){e=An(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Fn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Dc(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Dc(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}qe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fi(e,n),i=Ft(i),r=r(i),e.flags|=1,qe(t,e,r,n),e.child;case 14:return r=e.type,i=Rt(r,e.pendingProps),i=Rt(r.type,i),Xh(t,e,r,i,n);case 15:return Hy(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Rt(r,i),Ea(t,e),e.tag=1,tt(r)?(t=!0,Ya(e)):t=!1,fi(e,n),vy(e,r,i),$c(e,r,i,n),zc(null,e,r,!0,t,n);case 19:return Ky(t,e,n);case 22:return Wy(t,e,n)}throw Error(U(156,e.tag))};function cv(t,e){return Dg(t,e)}function Hb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(t,e,n,r){return new Hb(t,e,n,r)}function Ep(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wb(t){if(typeof t=="function")return Ep(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hd)return 11;if(t===Wd)return 14}return 2}function Jn(t,e){var n=t.alternate;return n===null?(n=kt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fa(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ep(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xr:return Ar(n.children,i,s,e);case jd:o=8,i|=8;break;case lc:return t=kt(12,n,e,i|2),t.elementType=lc,t.lanes=s,t;case uc:return t=kt(13,n,e,i),t.elementType=uc,t.lanes=s,t;case cc:return t=kt(19,n,e,i),t.elementType=cc,t.lanes=s,t;case wg:return Al(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yg:o=10;break e;case vg:o=9;break e;case Hd:o=11;break e;case Wd:o=14;break e;case In:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=kt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ar(t,e,n,r){return t=kt(7,t,r,e),t.lanes=n,t}function Al(t,e,n,r){return t=kt(22,t,r,e),t.elementType=wg,t.lanes=n,t.stateNode={isHidden:!1},t}function fu(t,e,n){return t=kt(6,t,null,e),t.lanes=n,t}function mu(t,e,n){return e=kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qb(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ql(0),this.expirationTimes=Ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function kp(t,e,n,r,i,s,o,a,l){return t=new qb(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=kt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lp(s),t}function Vb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function dv(t){if(!t)return er;t=t._reactInternals;e:{if(Hr(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(tt(n))return cy(t,n,e)}return e}function pv(t,e,n,r,i,s,o,a,l){return t=kp(n,r,!0,t,i,s,o,a,l),t.context=dv(null),n=t.current,r=Ge(),i=Xn(n),s=Fn(r,i),s.callback=e??null,Qn(n,s,i),t.current.lanes=i,Oo(t,i,r),nt(t,r),t}function Ul(t,e,n,r){var i=e.current,s=Ge(),o=Xn(i);return n=dv(n),e.context===null?e.context=n:e.pendingContext=n,e=Fn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qn(i,e,o),t!==null&&(Ht(t,i,o,s),_a(t,i,o)),o}function ul(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Cp(t,e){cf(t,e),(t=t.alternate)&&cf(t,e)}function Gb(){return null}var hv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fp(t){this._internalRoot=t}Nl.prototype.render=Fp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Ul(t,e,null,null)};Nl.prototype.unmount=Fp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Br(function(){Ul(null,t,null,null)}),e[On]=null}};function Nl(t){this._internalRoot=t}Nl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Hg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$n.length&&e!==0&&e<$n[n].priority;n++);$n.splice(n,0,t),n===0&&qg(t)}};function Tp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function df(){}function Kb(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ul(o);s.call(u)}}var o=pv(e,r,t,0,null,!1,!1,"",df);return t._reactRootContainer=o,t[On]=o.current,no(t.nodeType===8?t.parentNode:t),Br(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ul(l);a.call(u)}}var l=kp(t,0,!1,null,null,!1,!1,"",df);return t._reactRootContainer=l,t[On]=l.current,no(t.nodeType===8?t.parentNode:t),Br(function(){Ul(e,l,n,r)}),l}function Il(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ul(o);a.call(l)}}Ul(e,o,t,i)}else o=Kb(n,e,t,i,r);return ul(o)}zg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ms(e.pendingLanes);n!==0&&(Gd(e,n|1),nt(e,_e()),!(G&6)&&(Ei=_e()+500,rr()))}break;case 13:Br(function(){var r=xn(t,1);if(r!==null){var i=Ge();Ht(r,t,1,i)}}),Cp(t,1)}};Kd=function(t){if(t.tag===13){var e=xn(t,134217728);if(e!==null){var n=Ge();Ht(e,t,134217728,n)}Cp(t,134217728)}};jg=function(t){if(t.tag===13){var e=Xn(t),n=xn(t,e);if(n!==null){var r=Ge();Ht(n,t,e,r)}Cp(t,e)}};Hg=function(){return Y};Wg=function(t,e){var n=Y;try{return Y=t,e()}finally{Y=n}};bc=function(t,e,n){switch(e){case"input":if(hc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=kl(r);if(!i)throw Error(U(90));_g(r),hc(r,i)}}}break;case"textarea":Pg(t,n);break;case"select":e=n.value,e!=null&&ci(t,!!n.multiple,e,!1)}};xg=_p;Ag=Br;var Qb={usingClientEntryPoint:!1,Events:[Ao,ti,kl,Tg,Og,_p]},zi={findFiberByHostInstance:Pr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Yb={bundleType:zi.bundleType,version:zi.version,rendererPackageName:zi.rendererPackageName,rendererConfig:zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Un.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rg(t),t===null?null:t.stateNode},findFiberByHostInstance:zi.findFiberByHostInstance||Gb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ta.isDisabled&&ta.supportsFiber)try{_l=ta.inject(Yb),Jt=ta}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qb;vt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tp(e))throw Error(U(200));return Vb(t,e,null,n)};vt.createRoot=function(t,e){if(!Tp(t))throw Error(U(299));var n=!1,r="",i=hv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=kp(t,1,!1,null,null,n,!1,r,i),t[On]=e.current,no(t.nodeType===8?t.parentNode:t),new Fp(e)};vt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=Rg(e),t=t===null?null:t.stateNode,t};vt.flushSync=function(t){return Br(t)};vt.hydrate=function(t,e,n){if(!Rl(e))throw Error(U(200));return Il(null,t,e,!0,n)};vt.hydrateRoot=function(t,e,n){if(!Tp(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=hv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=pv(e,null,t,1,n??null,i,!1,s,o),t[On]=e.current,no(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Nl(e)};vt.render=function(t,e,n){if(!Rl(e))throw Error(U(200));return Il(null,t,e,!1,n)};vt.unmountComponentAtNode=function(t){if(!Rl(t))throw Error(U(40));return t._reactRootContainer?(Br(function(){Il(null,null,t,!1,function(){t._reactRootContainer=null,t[On]=null})}),!0):!1};vt.unstable_batchedUpdates=_p;vt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Rl(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Il(t,e,n,!1,r)};vt.version="18.2.0-next-9e3b772b8-20220608";function fv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fv)}catch(t){console.error(t)}}fv(),pg.exports=vt;var Xb=pg.exports,pf=Xb;oc.createRoot=pf.createRoot,oc.hydrateRoot=pf.hydrateRoot;function Ur(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function hf(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Jb=0;function Zb(t){return"__private_"+Jb+++"_"+t}function e_(t,e,n){const r=[];return t.forEach(i=>typeof i!="string"?r.push(i):e[Symbol.split](i).forEach((s,o,a)=>{s!==""&&r.push(s),o<a.length-1&&r.push(n)})),r}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function ff(t,e){const n=/\$/g,r="$$$$";let i=[t];if(e==null)return i;for(const s of Object.keys(e))if(s!=="_"){let o=e[s];typeof o=="string"&&(o=n[Symbol.replace](o,r)),i=e_(i,new RegExp(`%\\{${s}\\}`,"g"),o)}return i}var ji=Zb("apply");class mv{constructor(e){Object.defineProperty(this,ji,{value:t_}),this.locale={strings:{},pluralize(n){return n===1?0:1}},Array.isArray(e)?e.forEach(hf(this,ji)[ji],this):hf(this,ji)[ji](e)}translate(e,n){return this.translateArray(e,n).join("")}translateArray(e,n){if(!Ur(this.locale.strings,e))throw new Error(`missing string: ${e}`);const r=this.locale.strings[e];if(typeof r=="object"){if(n&&typeof n.smart_count<"u"){const s=this.locale.pluralize(n.smart_count);return ff(r[s],n)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return ff(r,n)}}function t_(t){if(!(t!=null&&t.strings))return;const e=this.locale;this.locale={...e,strings:{...e.strings,...t.strings}},this.locale.pluralize=t.pluralize||e.pluralize}var n_=function(){var e={},n=e._fns={};e.emit=function(o,a,l,u,d,c,h){var g=r(o);g.length&&i(o,g,[a,l,u,d,c,h])},e.on=function(o,a){n[o]||(n[o]=[]),n[o].push(a)},e.once=function(o,a){function l(){a.apply(this,arguments),e.off(o,l)}this.on(o,l)},e.off=function(o,a){var l=[];if(o&&a){var u=this._fns[o],d=0,c=u?u.length:0;for(d;d<c;d++)u[d]!==a&&l.push(u[d])}l.length?this._fns[o]=l:delete this._fns[o]};function r(s){var o=n[s]?n[s]:[],a=s.indexOf(":"),l=a===-1?[s]:[s.substring(0,a),s.substring(a+1)],u=Object.keys(n),d=0,c=u.length;for(d;d<c;d++){var h=u[d];if(h==="*"&&(o=o.concat(n[h])),l.length===2&&l[0]===h){o=o.concat(n[h]);break}}return o}function i(s,o,a){var l=0,u=o.length;for(l;l<u&&o[l];l++)o[l].event=s,o[l].apply(o[l],a)}return e};const r_=rt(n_);let i_="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Dl=(t=21)=>{let e="",n=t;for(;n--;)e+=i_[Math.random()*64|0];return e};function s_(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Op=s_,o_=typeof Qr=="object"&&Qr&&Qr.Object===Object&&Qr,a_=o_,l_=a_,u_=typeof self=="object"&&self&&self.Object===Object&&self,c_=l_||u_||Function("return this")(),gv=c_,d_=gv,p_=function(){return d_.Date.now()},h_=p_,f_=/\s/;function m_(t){for(var e=t.length;e--&&f_.test(t.charAt(e)););return e}var g_=m_,y_=g_,v_=/^\s+/;function w_(t){return t&&t.slice(0,y_(t)+1).replace(v_,"")}var b_=w_,__=gv,S_=__.Symbol,yv=S_,mf=yv,vv=Object.prototype,P_=vv.hasOwnProperty,E_=vv.toString,Hi=mf?mf.toStringTag:void 0;function k_(t){var e=P_.call(t,Hi),n=t[Hi];try{t[Hi]=void 0;var r=!0}catch{}var i=E_.call(t);return r&&(e?t[Hi]=n:delete t[Hi]),i}var C_=k_,F_=Object.prototype,T_=F_.toString;function O_(t){return T_.call(t)}var x_=O_,gf=yv,A_=C_,U_=x_,N_="[object Null]",R_="[object Undefined]",yf=gf?gf.toStringTag:void 0;function I_(t){return t==null?t===void 0?R_:N_:yf&&yf in Object(t)?A_(t):U_(t)}var D_=I_;function L_(t){return t!=null&&typeof t=="object"}var $_=L_,B_=D_,M_=$_,z_="[object Symbol]";function j_(t){return typeof t=="symbol"||M_(t)&&B_(t)==z_}var H_=j_,W_=b_,vf=Op,q_=H_,wf=0/0,V_=/^[-+]0x[0-9a-f]+$/i,G_=/^0b[01]+$/i,K_=/^0o[0-7]+$/i,Q_=parseInt;function Y_(t){if(typeof t=="number")return t;if(q_(t))return wf;if(vf(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=vf(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=W_(t);var n=G_.test(t);return n||K_.test(t)?Q_(t.slice(2),n?2:8):V_.test(t)?wf:+t}var X_=Y_,J_=Op,gu=h_,bf=X_,Z_="Expected a function",eS=Math.max,tS=Math.min;function nS(t,e,n){var r,i,s,o,a,l,u=0,d=!1,c=!1,h=!0;if(typeof t!="function")throw new TypeError(Z_);e=bf(e)||0,J_(n)&&(d=!!n.leading,c="maxWait"in n,s=c?eS(bf(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function g(x){var C=r,A=i;return r=i=void 0,u=x,o=t.apply(A,C),o}function y(x){return u=x,a=setTimeout(m,e),d?g(x):o}function b(x){var C=x-l,A=x-u,R=e-C;return c?tS(R,s-A):R}function S(x){var C=x-l,A=x-u;return l===void 0||C>=e||C<0||c&&A>=s}function m(){var x=gu();if(S(x))return f(x);a=setTimeout(m,b(x))}function f(x){return a=void 0,h&&r?g(x):(r=i=void 0,o)}function v(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function E(){return a===void 0?o:f(gu())}function O(){var x=gu(),C=S(x);if(r=arguments,i=this,l=x,C){if(a===void 0)return y(l);if(c)return clearTimeout(a),a=setTimeout(m,e),g(l)}return a===void 0&&(a=setTimeout(m,e)),o}return O.cancel=v,O.flush=E,O}var wv=nS;const rS=rt(wv);var iS=wv,sS=Op,oS="Expected a function";function aS(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(oS);return sS(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),iS(t,e,{leading:r,maxWait:e,trailing:i})}var lS=aS;const bv=rt(lS);function Ta(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var uS=0;function _v(t){return"__private_"+uS+++"_"+t}const cS={version:"3.1.0"};var vr=_v("callbacks"),yu=_v("publish");class Sv{constructor(){Object.defineProperty(this,yu,{value:dS}),this.state={},Object.defineProperty(this,vr,{writable:!0,value:new Set})}getState(){return this.state}setState(e){const n={...this.state},r={...this.state,...e};this.state=r,Ta(this,yu)[yu](n,r,e)}subscribe(e){return Ta(this,vr)[vr].add(e),()=>{Ta(this,vr)[vr].delete(e)}}}function dS(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Ta(this,vr)[vr].forEach(r=>{r(...e)})}Sv.VERSION=cS.version;function xp(t){const e=t.lastIndexOf(".");return e===-1||e===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,e),extension:t.slice(e+1)}}const _f={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function Ap(t){var e;if(t.type)return t.type;const n=t.name?(e=xp(t.name).extension)==null?void 0:e.toLowerCase():null;return n&&n in _f?_f[n]:"application/octet-stream"}function pS(t){return t.charCodeAt(0).toString(32)}function Sf(t){let e="";return t.replace(/[^A-Z0-9]/gi,n=>(e+=`-${pS(n)}`,"/"))+e}function hS(t){let e="uppy";return typeof t.name=="string"&&(e+=`-${Sf(t.name.toLowerCase())}`),t.type!==void 0&&(e+=`-${t.type}`),t.meta&&typeof t.meta.relativePath=="string"&&(e+=`-${Sf(t.meta.relativePath.toLowerCase())}`),t.data.size!==void 0&&(e+=`-${t.data.size}`),t.data.lastModified!==void 0&&(e+=`-${t.data.lastModified}`),e}function fS(t){return!t.isRemote||!t.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(t.remote.provider)}function Pv(t){if(fS(t))return t.id;const e=Ap(t);return hS({...t,type:e})}function mS(t){if(t==null&&typeof navigator<"u"&&(t=navigator.userAgent),!t)return!0;const e=/Edge\/(\d+\.\d+)/.exec(t);if(!e)return!0;const n=e[1];let[r,i]=n.split(".");return r=parseInt(r,10),i=parseInt(i,10),r<15||r===15&&i<15063||r>18||r===18&&i>=18218}function gS(t,e){return e.name?e.name:t.split("/")[0]==="image"?`${t.split("/")[0]}.${t.split("/")[1]}`:"noname"}function vu(t){return t<10?`0${t}`:t.toString()}function Oa(){const t=new Date,e=vu(t.getHours()),n=vu(t.getMinutes()),r=vu(t.getSeconds());return`${e}:${n}:${r}`}const yS={debug:()=>{},warn:()=>{},error:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return console.error(`[Uppy] [${Oa()}]`,...e)}},vS={debug:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return console.debug(`[Uppy] [${Oa()}]`,...e)},warn:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return console.warn(`[Uppy] [${Oa()}]`,...e)},error:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return console.error(`[Uppy] [${Oa()}]`,...e)}};var wS=function(e){if(typeof e!="number"||isNaN(e))throw new TypeError(`Expected a number, got ${typeof e}`);const n=e<0,r=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(n&&(e=-e),e<1)return`${(n?"-":"")+e} B`;const i=Math.min(Math.floor(Math.log(e)/Math.log(1024)),r.length-1);e=Number(e/Math.pow(1024,i));const s=r[i];return e>=10||e%1===0?`${(n?"-":"")+e.toFixed(0)} ${s}`:`${(n?"-":"")+e.toFixed(1)} ${s}`};const As=rt(wS);function Ev(t,e){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=e,this.parts=t.split(e)}Ev.prototype.match=function(t){var e=!0,n=this.parts,r,i=n.length,s;if(typeof t=="string"||t instanceof String)if(!this.hasWild&&this.text!=t)e=!1;else{for(s=(t||"").split(this.separator),r=0;e&&r<i;r++)n[r]!=="*"&&(r<s.length?e=n[r]===s[r]:e=!1);e=e&&s}else if(typeof t.splice=="function")for(e=[],r=t.length;r--;)this.match(t[r])&&(e[e.length]=t[r]);else if(typeof t=="object"){e={};for(var o in t)this.match(o)&&(e[o]=t[o])}return e};var bS=function(t,e,n){var r=new Ev(t,n||/[\/\.]/);return typeof e<"u"?r.match(e):r},_S=bS,SS=/[\/\+\.]/,PS=function(t,e){function n(r){var i=_S(r,t,SS);return i&&i.length>=2}return e?n(e.split(";")[0]):n};const ES=rt(PS),kS={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class Dt extends Error{constructor(e,n){let{isUserFacing:r=!0,file:i}=n===void 0?{}:n;super(e),this.isRestriction=!0,this.isUserFacing=r,i!=null&&(this.file=i)}}class CS{constructor(e,n){this.i18n=n,this.getOpts=()=>{const r=e();if(r.restrictions.allowedFileTypes!=null&&!Array.isArray(r.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return r}}validateAggregateRestrictions(e,n){const{maxTotalFileSize:r,maxNumberOfFiles:i}=this.getOpts().restrictions;if(i&&e.filter(o=>!o.isGhost).length+n.length>i)throw new Dt(`${this.i18n("youCanOnlyUploadX",{smart_count:i})}`);if(r){let s=e.reduce((o,a)=>o+a.size,0);for(const o of n)if(o.size!=null&&(s+=o.size,s>r))throw new Dt(this.i18n("exceedsSize",{size:As(r),file:o.name}))}}validateSingleFile(e){const{maxFileSize:n,minFileSize:r,allowedFileTypes:i}=this.getOpts().restrictions;if(i&&!i.some(o=>o.includes("/")?e.type?ES(e.type.replace(/;.*?$/,""),o):!1:o[0]==="."&&e.extension?e.extension.toLowerCase()===o.slice(1).toLowerCase():!1)){const o=i.join(", ");throw new Dt(this.i18n("youCanOnlyUploadFileTypes",{types:o}),{file:e})}if(n&&e.size!=null&&e.size>n)throw new Dt(this.i18n("exceedsSize",{size:As(n),file:e.name}),{file:e});if(r&&e.size!=null&&e.size<r)throw new Dt(this.i18n("inferiorSize",{size:As(r)}),{file:e})}validate(e,n){n.forEach(r=>{this.validateSingleFile(r)}),this.validateAggregateRestrictions(e,n)}validateMinNumberOfFiles(e){const{minNumberOfFiles:n}=this.getOpts().restrictions;if(Object.keys(e).length<n)throw new Dt(this.i18n("youHaveToAtLeastSelectX",{smart_count:n}))}getMissingRequiredMetaFields(e){const n=new Dt(this.i18n("missingRequiredMetaFieldOnFile",{fileName:e.name})),{requiredMetaFields:r}=this.getOpts().restrictions,i=[];for(const s of r)(!Object.hasOwn(e.meta,s)||e.meta[s]==="")&&i.push(s);return{missingFields:i,error:n}}}const FS={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled"}};let kv,Cv;function L(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var TS=0;function Ee(t){return"__private_"+TS+++"_"+t}const OS={version:"3.7.1"},na=()=>({totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null});var Ae=Ee("plugins"),pt=Ee("restricter"),Wi=Ee("storeUnsubscribe"),sn=Ee("emitter"),wr=Ee("preProcessors"),br=Ee("uploaders"),_n=Ee("postProcessors"),ht=Ee("informAndEmit"),po=Ee("checkRequiredMetaFieldsOnFile"),wu=Ee("checkRequiredMetaFields"),qi=Ee("assertNewUploadAllowed"),Zc=Ee("transformFile"),Vi=Ee("startIfAutoProceed"),Gi=Ee("checkAndUpdateFileState"),bu=Ee("addListeners"),Mt=Ee("updateOnlineStatus"),on=Ee("createUpload"),_u=Ee("getUpload"),Cr=Ee("removeUpload"),an=Ee("runUpload");kv=Symbol.for("uppy test: getPlugins");Cv=Symbol.for("uppy test: createUpload");class Fv{constructor(e){Object.defineProperty(this,an,{value:zS}),Object.defineProperty(this,Cr,{value:MS}),Object.defineProperty(this,_u,{value:BS}),Object.defineProperty(this,on,{value:$S}),Object.defineProperty(this,bu,{value:LS}),Object.defineProperty(this,Gi,{value:DS}),Object.defineProperty(this,Vi,{value:IS}),Object.defineProperty(this,Zc,{value:RS}),Object.defineProperty(this,qi,{value:NS}),Object.defineProperty(this,wu,{value:US}),Object.defineProperty(this,po,{value:AS}),Object.defineProperty(this,ht,{value:xS}),Object.defineProperty(this,Ae,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,pt,{writable:!0,value:void 0}),Object.defineProperty(this,Wi,{writable:!0,value:void 0}),Object.defineProperty(this,sn,{writable:!0,value:r_()}),Object.defineProperty(this,wr,{writable:!0,value:new Set}),Object.defineProperty(this,br,{writable:!0,value:new Set}),Object.defineProperty(this,_n,{writable:!0,value:new Set}),this.calculateProgress=bv((r,i)=>{const s=this.getFile(r==null?void 0:r.id);if(r==null||!s){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}if(s.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${r.id}`);return}const o=Number.isFinite(i.bytesTotal)&&i.bytesTotal>0;this.setFileState(r.id,{progress:{...s.progress,bytesUploaded:i.bytesUploaded,bytesTotal:i.bytesTotal,percentage:o?Math.round(i.bytesUploaded/i.bytesTotal*100):0}}),this.calculateTotalProgress()},500,{leading:!0,trailing:!0}),Object.defineProperty(this,Mt,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale=FS;const n={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:kS,meta:{},onBeforeFileAdded:(r,i)=>!Object.hasOwn(i,r.id),onBeforeUpload:r=>r,store:new Sv,logger:yS,infoTimeout:5e3};this.opts={...n,...e,restrictions:{...n.restrictions,...e&&e.restrictions}},e&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e&&e.debug&&(this.opts.logger=vS),this.log(`Using Core v${this.constructor.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...na(),plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:mS(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),L(this,pt)[pt]=new CS(()=>this.opts,this.i18n),L(this,Wi)[Wi]=this.store.subscribe((r,i,s)=>{this.emit("state-update",r,i,s),this.updateAll(i)}),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),L(this,bu)[bu]()}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];L(this,sn)[sn].emit(e,...r)}on(e,n){return L(this,sn)[sn].on(e,n),this}once(e,n){return L(this,sn)[sn].once(e,n),this}off(e,n){return L(this,sn)[sn].off(e,n),this}updateAll(e){this.iteratePlugins(n=>{n.update(e)})}setState(e){this.store.setState(e)}getState(){return this.store.getState()}patchFilesState(e){const n=this.getState().files;this.setState({files:{...n,...Object.fromEntries(Object.entries(e).map(r=>{let[i,s]=r;return[i,{...n[i],...s}]}))}})}setFileState(e,n){if(!this.getState().files[e])throw new Error(`Cant set state for ${e} (the file could have been removed)`);this.patchFilesState({[e]:n})}i18nInit(){const e=new mv([this.defaultLocale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.locale=e.locale}setOptions(e){this.opts={...this.opts,...e,restrictions:{...this.opts.restrictions,...e&&e.restrictions}},e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(n=>{n.setOptions(e)}),this.setState()}resetProgress(){const e={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},n={...this.getState().files},r={};Object.keys(n).forEach(i=>{r[i]={...n[i],progress:{...n[i].progress,...e}}}),this.setState({files:r,...na()}),this.emit("reset-progress")}clearUploadedFiles(){this.setState({...na(),files:{}})}addPreProcessor(e){L(this,wr)[wr].add(e)}removePreProcessor(e){return L(this,wr)[wr].delete(e)}addPostProcessor(e){L(this,_n)[_n].add(e)}removePostProcessor(e){return L(this,_n)[_n].delete(e)}addUploader(e){L(this,br)[br].add(e)}removeUploader(e){return L(this,br)[br].delete(e)}setMeta(e){const n={...this.getState().meta,...e},r={...this.getState().files};Object.keys(r).forEach(i=>{r[i]={...r[i],meta:{...r[i].meta,...e}}}),this.log("Adding metadata:"),this.log(e),this.setState({meta:n,files:r})}setFileMeta(e,n){const r={...this.getState().files};if(!r[e]){this.log("Was trying to set metadata for a file that has been removed: ",e);return}const i={...r[e].meta,...n};r[e]={...r[e],meta:i},this.setState({files:r})}getFile(e){return this.getState().files[e]}getFiles(){const{files:e}=this.getState();return Object.values(e)}getFilesByIds(e){return e.map(n=>this.getFile(n))}getObjectOfFilesPerState(){const{files:e,totalProgress:n,error:r}=this.getState(),i=Object.values(e),s=i.filter(y=>{let{progress:b}=y;return!b.uploadComplete&&b.uploadStarted}),o=i.filter(y=>!y.progress.uploadStarted),a=i.filter(y=>y.progress.uploadStarted||y.progress.preprocess||y.progress.postprocess),l=i.filter(y=>y.progress.uploadStarted),u=i.filter(y=>y.isPaused),d=i.filter(y=>y.progress.uploadComplete),c=i.filter(y=>y.error),h=s.filter(y=>!y.isPaused),g=i.filter(y=>y.progress.preprocess||y.progress.postprocess);return{newFiles:o,startedFiles:a,uploadStartedFiles:l,pausedFiles:u,completeFiles:d,erroredFiles:c,inProgressFiles:s,inProgressNotPausedFiles:h,processingFiles:g,isUploadStarted:l.length>0,isAllComplete:n===100&&d.length===i.length&&g.length===0,isAllErrored:!!r&&c.length===i.length,isAllPaused:s.length!==0&&u.length===s.length,isUploadInProgress:s.length>0,isSomeGhost:i.some(y=>y.isGhost)}}validateRestrictions(e,n){n===void 0&&(n=this.getFiles());try{L(this,pt)[pt].validate(n,[e])}catch(r){return r}return null}checkIfFileAlreadyExists(e){const{files:n}=this.getState();return!!(n[e]&&!n[e].isGhost)}addFile(e){L(this,qi)[qi](e);const{nextFilesState:n,validFilesToAdd:r,errors:i}=L(this,Gi)[Gi]([e]),s=i.filter(a=>a.isRestriction);if(L(this,ht)[ht](s),i.length>0)throw i[0];this.setState({files:n});const[o]=r;return this.emit("file-added",o),this.emit("files-added",r),this.log(`Added file: ${o.name}, ${o.id}, mime type: ${o.type}`),L(this,Vi)[Vi](),o.id}addFiles(e){L(this,qi)[qi]();const{nextFilesState:n,validFilesToAdd:r,errors:i}=L(this,Gi)[Gi](e),s=i.filter(a=>a.isRestriction);L(this,ht)[ht](s);const o=i.filter(a=>!a.isRestriction);if(o.length>0){let a=`Multiple errors occurred while adding files:
`;if(o.forEach(l=>{a+=`
 * ${l.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:o.length}),details:a},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(o,a);{const l=new Error(a);throw l.errors=o,l}}this.setState({files:n}),r.forEach(a=>{this.emit("file-added",a)}),this.emit("files-added",r),r.length>5?this.log(`Added batch of ${r.length} files`):Object.values(r).forEach(a=>{this.log(`Added file: ${a.name}
 id: ${a.id}
 type: ${a.type}`)}),r.length>0&&L(this,Vi)[Vi]()}removeFiles(e,n){const{files:r,currentUploads:i}=this.getState(),s={...r},o={...i},a=Object.create(null);e.forEach(c=>{r[c]&&(a[c]=r[c],delete s[c])});function l(c){return a[c]===void 0}Object.keys(o).forEach(c=>{const h=i[c].fileIDs.filter(l);if(h.length===0){delete o[c];return}const{capabilities:g}=this.getState();if(h.length!==i[c].fileIDs.length&&!g.individualCancellation)throw new Error("individualCancellation is disabled");o[c]={...i[c],fileIDs:h}});const u={currentUploads:o,files:s};Object.keys(s).length===0&&(u.allowNewUpload=!0,u.error=null,u.recoveredState=null),this.setState(u),this.calculateTotalProgress();const d=Object.keys(a);d.forEach(c=>{this.emit("file-removed",a[c],n)}),d.length>5?this.log(`Removed ${d.length} files`):this.log(`Removed files: ${d.join(", ")}`)}removeFile(e,n){n===void 0&&(n=null),this.removeFiles([e],n)}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).uploadComplete)return;const r=!(this.getFile(e).isPaused||!1);return this.setFileState(e,{isPaused:r}),this.emit("upload-pause",e,r),r}pauseAll(){const e={...this.getState().files};Object.keys(e).filter(r=>!e[r].progress.uploadComplete&&e[r].progress.uploadStarted).forEach(r=>{const i={...e[r],isPaused:!0};e[r]=i}),this.setState({files:e}),this.emit("pause-all")}resumeAll(){const e={...this.getState().files};Object.keys(e).filter(r=>!e[r].progress.uploadComplete&&e[r].progress.uploadStarted).forEach(r=>{const i={...e[r],isPaused:!1,error:null};e[r]=i}),this.setState({files:e}),this.emit("resume-all")}retryAll(){const e={...this.getState().files},n=Object.keys(e).filter(i=>e[i].error);if(n.forEach(i=>{const s={...e[i],isPaused:!1,error:null};e[i]=s}),this.setState({files:e,error:null}),this.emit("retry-all",n),n.length===0)return Promise.resolve({successful:[],failed:[]});const r=L(this,on)[on](n,{forceAllowNewUpload:!0});return L(this,an)[an](r)}cancelAll(e){let{reason:n="user"}=e===void 0?{}:e;if(this.emit("cancel-all",{reason:n}),n==="user"){const{files:r}=this.getState(),i=Object.keys(r);i.length&&this.removeFiles(i,"cancel-all"),this.setState(na())}}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",e);const n=L(this,on)[on]([e],{forceAllowNewUpload:!0});return L(this,an)[an](n)}logout(){this.iteratePlugins(e=>{e.provider&&e.provider.logout&&e.provider.logout()})}calculateTotalProgress(){const n=this.getFiles().filter(u=>u.progress.uploadStarted||u.progress.preprocess||u.progress.postprocess);if(n.length===0){this.emit("progress",0),this.setState({totalProgress:0});return}const r=n.filter(u=>u.progress.bytesTotal!=null),i=n.filter(u=>u.progress.bytesTotal==null);if(r.length===0){const u=n.length*100,d=i.reduce((h,g)=>h+g.progress.percentage,0),c=Math.round(d/u*100);this.setState({totalProgress:c});return}let s=r.reduce((u,d)=>u+d.progress.bytesTotal,0);const o=s/r.length;s+=o*i.length;let a=0;r.forEach(u=>{a+=u.progress.bytesUploaded}),i.forEach(u=>{a+=o*(u.progress.percentage||0)/100});let l=s===0?0:Math.round(a/s*100);l>100&&(l=100),this.setState({totalProgress:l}),this.emit("progress",l)}updateOnlineStatus(){(typeof window.navigator.onLine<"u"?window.navigator.onLine:!0)?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(e,n){if(typeof e!="function"){const o=`Expected a plugin class, but got ${e===null?"null":typeof e}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(o)}const r=new e(this,n),i=r.id;if(!i)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");const s=this.getPlugin(i);if(s){const o=`Already found a plugin named '${s.id}'. Tried to use: '${i}'.
Uppy plugins must have unique \`id\` options. See https://uppy.io/docs/plugins/#id.`;throw new Error(o)}return e.VERSION&&this.log(`Using ${i} v${e.VERSION}`),r.type in L(this,Ae)[Ae]?L(this,Ae)[Ae][r.type].push(r):L(this,Ae)[Ae][r.type]=[r],r.install(),this.emit("plugin-added",r),this}getPlugin(e){for(const n of Object.values(L(this,Ae)[Ae])){const r=n.find(i=>i.id===e);if(r!=null)return r}}[kv](e){return L(this,Ae)[Ae][e]}iteratePlugins(e){Object.values(L(this,Ae)[Ae]).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();const n=L(this,Ae)[Ae][e.type],r=n.findIndex(o=>o.id===e.id);r!==-1&&n.splice(r,1);const s={plugins:{...this.getState().plugins,[e.id]:void 0}};this.setState(s)}close(e){let{reason:n}=e===void 0?{}:e;this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll({reason:n}),L(this,Wi)[Wi](),this.iteratePlugins(r=>{this.removePlugin(r)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",L(this,Mt)[Mt]),window.removeEventListener("offline",L(this,Mt)[Mt]))}hideInfo(){const{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,n,r){n===void 0&&(n="info"),r===void 0&&(r=3e3);const i=typeof e=="object";this.setState({info:[...this.getState().info,{type:n,message:i?e.message:e,details:i?e.details:null}]}),setTimeout(()=>this.hideInfo(),r),this.emit("info-visible")}log(e,n){const{logger:r}=this.opts;switch(n){case"error":r.error(e);break;case"warning":r.warn(e);break;default:r.debug(e);break}}restore(e){return this.log(`Core: attempting to restore upload "${e}"`),this.getState().currentUploads[e]?L(this,an)[an](e):(L(this,Cr)[Cr](e),Promise.reject(new Error("Nonexistent upload")))}[Cv](){return L(this,on)[on](...arguments)}addResultData(e,n){if(!L(this,_u)[_u](e)){this.log(`Not setting result for an upload that has been removed: ${e}`);return}const{currentUploads:r}=this.getState(),i={...r[e],result:{...r[e].result,...n}};this.setState({currentUploads:{...r,[e]:i}})}upload(){var e;(e=L(this,Ae)[Ae].uploader)!=null&&e.length||this.log("No uploader type plugins are used","warning");let{files:n}=this.getState();const r=this.opts.onBeforeUpload(n);return r===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(r&&typeof r=="object"&&(n=r,this.setState({files:n})),Promise.resolve().then(()=>L(this,pt)[pt].validateMinNumberOfFiles(n)).catch(i=>{throw L(this,ht)[ht]([i]),i}).then(()=>{if(!L(this,wu)[wu](n))throw new Dt(this.i18n("missingRequiredMetaField"))}).catch(i=>{throw i}).then(()=>{const{currentUploads:i}=this.getState(),s=Object.values(i).flatMap(l=>l.fileIDs),o=[];Object.keys(n).forEach(l=>{const u=this.getFile(l);!u.progress.uploadStarted&&s.indexOf(l)===-1&&o.push(u.id)});const a=L(this,on)[on](o);return L(this,an)[an](a)}).catch(i=>{throw this.emit("error",i),this.log(i,"error"),i}))}}function xS(t){for(const s of t){const{file:o,isRestriction:a}=s;a?this.emit("restriction-failed",o,s):this.emit("error",s),this.log(s,"warning")}const e=t.filter(s=>s.isUserFacing),n=4,r=e.slice(0,n),i=e.slice(n);r.forEach(s=>{let{message:o,details:a=""}=s;this.info({message:o,details:a},"error",this.opts.infoTimeout)}),i.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:i.length})})}function AS(t){const{missingFields:e,error:n}=L(this,pt)[pt].getMissingRequiredMetaFields(t);return e.length>0?(this.setFileState(t.id,{missingRequiredMetaFields:e}),this.log(n.message),this.emit("restriction-failed",t,n),!1):!0}function US(t){let e=!0;for(const n of Object.values(t))L(this,po)[po](n)||(e=!1);return e}function NS(t){const{allowNewUpload:e}=this.getState();if(e===!1){const n=new Dt(this.i18n("noMoreFilesAllowed"),{file:t});throw L(this,ht)[ht]([n]),n}}function RS(t){const e=t instanceof File?{name:t.name,type:t.type,size:t.size,data:t}:t,n=Ap(e),r=gS(n,e),i=xp(r).extension,s=!!e.isRemote,o=Pv(e),a=e.meta||{};a.name=r,a.type=n;const l=Number.isFinite(e.data.size)?e.data.size:null;return{source:e.source||"",id:o,name:r,extension:i||"",meta:{...this.getState().meta,...a},type:n,data:e.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:l,uploadComplete:!1,uploadStarted:null},size:l,isRemote:s,remote:e.remote||"",preview:e.preview}}function IS(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(t=>{t.isRestriction||this.log(t.stack||t.message||t)})},4))}function DS(t){const{files:e}=this.getState(),n={...e},r=[],i=[];for(const o of t)try{var s;let a=L(this,Zc)[Zc](o);if((s=e[a.id])!=null&&s.isGhost){const{isGhost:u,...d}=e[a.id];a={...d,data:o.data},this.log(`Replaced the blob in the restored ghost file: ${a.name}, ${a.id}`)}const l=this.opts.onBeforeFileAdded(a,n);if(!l&&this.checkIfFileAlreadyExists(a.id))throw new Dt(this.i18n("noDuplicates",{fileName:a.name}),{file:o});if(l===!1)throw new Dt("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:o});typeof l=="object"&&l!==null&&(a=l),L(this,pt)[pt].validateSingleFile(a),n[a.id]=a,r.push(a)}catch(a){i.push(a)}try{L(this,pt)[pt].validateAggregateRestrictions(Object.values(e),r)}catch(o){return i.push(o),{nextFilesState:e,validFilesToAdd:[],errors:i}}return{nextFilesState:n,validFilesToAdd:r,errors:i}}function LS(){const t=(r,i,s)=>{let o=r.message||"Unknown error";r.details&&(o+=` ${r.details}`),this.setState({error:o}),i!=null&&i.id in this.getState().files&&this.setFileState(i.id,{error:o,response:s})};this.on("error",t),this.on("upload-error",(r,i,s)=>{if(t(i,r,s),typeof i=="object"&&i.message){this.log(i.message,"error");const o=new Error(this.i18n("failedToUpload",{file:r==null?void 0:r.name}));o.isUserFacing=!0,o.details=i.message,i.details&&(o.details+=` ${i.details}`),L(this,ht)[ht]([o])}else L(this,ht)[ht]([i])});let e;this.on("upload-stalled",(r,i)=>{const{message:s}=r,o=i.map(a=>a.meta.name).join(", ");e||(this.info({message:s,details:o},"warning",this.opts.infoTimeout),e=setTimeout(()=>{e=null},this.opts.infoTimeout)),this.log(`${s} ${o}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const n=r=>{const i=r.filter(o=>{const a=o!=null&&this.getFile(o.id);return a||this.log(`Not setting progress for a file that has been removed: ${o==null?void 0:o.id}`),a}),s=Object.fromEntries(i.map(o=>[o.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:o.size}}]));this.patchFilesState(s)};this.on("upload-start",r=>{r.forEach(i=>{this.emit("upload-started",i)}),n(r)}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(r,i)=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}const s=this.getFile(r.id).progress;this.setFileState(r.id,{progress:{...s,postprocess:L(this,_n)[_n].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:s.bytesTotal},response:i,uploadURL:i.uploadURL,isPaused:!1}),r.size==null&&this.setFileState(r.id,{size:i.bytesUploaded||s.bytesTotal}),this.calculateTotalProgress()}),this.on("preprocess-progress",(r,i)=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}this.setFileState(r.id,{progress:{...this.getFile(r.id).progress,preprocess:i}})}),this.on("preprocess-complete",r=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}const i={...this.getState().files};i[r.id]={...i[r.id],progress:{...i[r.id].progress}},delete i[r.id].progress.preprocess,this.setState({files:i})}),this.on("postprocess-progress",(r,i)=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}this.setFileState(r.id,{progress:{...this.getState().files[r.id].progress,postprocess:i}})}),this.on("postprocess-complete",r=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}const i={...this.getState().files};i[r.id]={...i[r.id],progress:{...i[r.id].progress}},delete i[r.id].progress.postprocess,this.setState({files:i})}),this.on("restored",()=>{this.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",r=>{r&&L(this,po)[po](r)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",L(this,Mt)[Mt]),window.addEventListener("offline",L(this,Mt)[Mt]),setTimeout(L(this,Mt)[Mt],3e3))}function $S(t,e){e===void 0&&(e={});const{forceAllowNewUpload:n=!1}=e,{allowNewUpload:r,currentUploads:i}=this.getState();if(!r&&!n)throw new Error("Cannot create a new upload: already uploading.");const s=Dl();return this.emit("upload",{id:s,fileIDs:t}),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...i,[s]:{fileIDs:t,step:0,result:{}}}}),s}function BS(t){const{currentUploads:e}=this.getState();return e[t]}function MS(t){const e={...this.getState().currentUploads};delete e[t],this.setState({currentUploads:e})}async function zS(t){const e=()=>{const{currentUploads:s}=this.getState();return s[t]};let n=e();const r=[...L(this,wr)[wr],...L(this,br)[br],...L(this,_n)[_n]];try{for(let s=n.step||0;s<r.length&&n;s++){const o=r[s];this.setState({currentUploads:{...this.getState().currentUploads,[t]:{...n,step:s}}});const{fileIDs:a}=n;await o(a,t),n=e()}}catch(s){throw L(this,Cr)[Cr](t),s}if(n){n.fileIDs.forEach(l=>{const u=this.getFile(l);u&&u.progress.postprocess&&this.emit("postprocess-complete",u)});const s=n.fileIDs.map(l=>this.getFile(l)),o=s.filter(l=>!l.error),a=s.filter(l=>l.error);await this.addResultData(t,{successful:o,failed:a,uploadID:t}),n=e()}let i;return n&&(i=n.result,this.emit("complete",i),L(this,Cr)[Cr](t)),i==null&&this.log(`Not setting result for an upload that has been removed: ${t}`),i}Fv.VERSION=OS.version;const Tv=Fv;var No,j,Ov,_r,Pf,xv,ed,ho={},Av=[],jS=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ll=Array.isArray;function kn(t,e){for(var n in e)t[n]=e[n];return t}function Uv(t){var e=t.parentNode;e&&e.removeChild(t)}function p(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?No.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return Us(t,o,r,i,null)}function Us(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++Ov,__i:-1,__u:0};return i==null&&j.vnode!=null&&j.vnode(s),s}function HS(){return{current:null}}function en(t){return t.children}function Wt(t,e){this.props=t,this.context=e}function ki(t,e){if(e==null)return t.__?ki(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?ki(t):null}function Nv(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Nv(t)}}function Ef(t){(!t.__d&&(t.__d=!0)&&_r.push(t)&&!cl.__r++||Pf!==j.debounceRendering)&&((Pf=j.debounceRendering)||xv)(cl)}function cl(){var t,e,n,r,i,s,o,a,l;for(_r.sort(ed);t=_r.shift();)t.__d&&(e=_r.length,r=void 0,s=(i=(n=t).__v).__e,a=[],l=[],(o=n.__P)&&((r=kn({},i)).__v=i.__v+1,j.vnode&&j.vnode(r),Up(o,r,i,n.__n,o.ownerSVGElement!==void 0,32&i.__u?[s]:null,a,s??ki(i),!!(32&i.__u),l),r.__.__k[r.__i]=r,Dv(a,r,l),r.__e!=s&&Nv(r)),_r.length>e&&_r.sort(ed));cl.__r=0}function Rv(t,e,n,r,i,s,o,a,l,u,d){var c,h,g,y,b,S=r&&r.__k||Av,m=e.length;for(n.__d=l,WS(n,e,S),l=n.__d,c=0;c<m;c++)(g=n.__k[c])!=null&&typeof g!="boolean"&&typeof g!="function"&&(h=g.__i===-1?ho:S[g.__i]||ho,g.__i=c,Up(t,g,h,i,s,o,a,l,u,d),y=g.__e,g.ref&&h.ref!=g.ref&&(h.ref&&Np(h.ref,null,g),d.push(g.ref,g.__c||y,g)),b==null&&y!=null&&(b=y),65536&g.__u||h.__k===g.__k?l=Iv(g,l,t):typeof g.type=="function"&&g.__d!==void 0?l=g.__d:y&&(l=y.nextSibling),g.__d=void 0,g.__u&=-196609);n.__d=l,n.__e=b}function WS(t,e,n){var r,i,s,o,a,l=e.length,u=n.length,d=u,c=0;for(t.__k=[],r=0;r<l;r++)(i=t.__k[r]=(i=e[r])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?Us(null,i,null,null,i):Ll(i)?Us(en,{children:i},null,null,null):i.__b>0?Us(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=t,i.__b=t.__b+1,a=qS(i,n,o=r+c,d),i.__i=a,s=null,a!==-1&&(d--,(s=n[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&c--,typeof i.type!="function"&&(i.__u|=65536)):a!==o&&(a===o+1?c++:a>o?d>l-o?c+=a-o:c--:c=a<o&&a==o-1?a-o:0,a!==r+c&&(i.__u|=65536))):(s=n[r])&&s.key==null&&s.__e&&(s.__e==t.__d&&(t.__d=ki(s)),td(s,s,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(s=n[r])!=null&&!(131072&s.__u)&&(s.__e==t.__d&&(t.__d=ki(s)),td(s,s))}function Iv(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=Iv(r[i],e,n));return e}return t.__e!=e&&(n.insertBefore(t.__e,e||null),e=t.__e),e&&e.nextSibling}function wn(t,e){return e=e||[],t==null||typeof t=="boolean"||(Ll(t)?t.some(function(n){wn(n,e)}):e.push(t)),e}function qS(t,e,n,r){var i=t.key,s=t.type,o=n-1,a=n+1,l=e[n];if(l===null||l&&i==l.key&&s===l.type)return n;if(r>(l!=null&&!(131072&l.__u)?1:0))for(;o>=0||a<e.length;){if(o>=0){if((l=e[o])&&!(131072&l.__u)&&i==l.key&&s===l.type)return o;o--}if(a<e.length){if((l=e[a])&&!(131072&l.__u)&&i==l.key&&s===l.type)return a;a++}}return-1}function kf(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||jS.test(e)?n:n+"px"}function ra(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||kf(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||kf(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=Date.now(),t.addEventListener(e,s?Ff:Cf,s)):t.removeEventListener(e,s?Ff:Cf,s);else{if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function Cf(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(j.event?j.event(t):t)}function Ff(t){return this.l[t.type+!0](j.event?j.event(t):t)}function Up(t,e,n,r,i,s,o,a,l,u){var d,c,h,g,y,b,S,m,f,v,E,O,x,C,A,R=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),s=[a=e.__e=n.__e]),(d=j.__b)&&d(e);e:if(typeof R=="function")try{if(m=e.props,f=(d=R.contextType)&&r[d.__c],v=d?f?f.props.value:d.__:r,n.__c?S=(c=e.__c=n.__c).__=c.__E:("prototype"in R&&R.prototype.render?e.__c=c=new R(m,v):(e.__c=c=new Wt(m,v),c.constructor=R,c.render=GS),f&&f.sub(c),c.props=m,c.state||(c.state={}),c.context=v,c.__n=r,h=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),R.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=kn({},c.__s)),kn(c.__s,R.getDerivedStateFromProps(m,c.__s))),g=c.props,y=c.state,c.__v=e,h)R.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(R.getDerivedStateFromProps==null&&m!==g&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(m,v),!c.__e&&(c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(m,c.__s,v)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(c.props=m,c.state=c.__s,c.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(B){B&&(B.__=e)}),E=0;E<c._sb.length;E++)c.__h.push(c._sb[E]);c._sb=[],c.__h.length&&o.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(m,c.__s,v),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(g,y,b)})}if(c.context=v,c.props=m,c.__P=t,c.__e=!1,O=j.__r,x=0,"prototype"in R&&R.prototype.render){for(c.state=c.__s,c.__d=!1,O&&O(e),d=c.render(c.props,c.state,c.context),C=0;C<c._sb.length;C++)c.__h.push(c._sb[C]);c._sb=[]}else do c.__d=!1,O&&O(e),d=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++x<25);c.state=c.__s,c.getChildContext!=null&&(r=kn(kn({},r),c.getChildContext())),h||c.getSnapshotBeforeUpdate==null||(b=c.getSnapshotBeforeUpdate(g,y)),Rv(t,Ll(A=d!=null&&d.type===en&&d.key==null?d.props.children:d)?A:[A],e,n,r,i,s,o,a,l,u),c.base=e.__e,e.__u&=-161,c.__h.length&&o.push(c),S&&(c.__E=c.__=null)}catch(B){e.__v=null,l||s!=null?(e.__e=a,e.__u|=l?160:32,s[s.indexOf(a)]=null):(e.__e=n.__e,e.__k=n.__k),j.__e(B,e,n)}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=VS(n.__e,e,n,r,i,s,o,l,u);(d=j.diffed)&&d(e)}function Dv(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)Np(n[r],n[++r],n[++r]);j.__c&&j.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){j.__e(s,i.__v)}})}function VS(t,e,n,r,i,s,o,a,l){var u,d,c,h,g,y,b,S=n.props,m=e.props,f=e.type;if(f==="svg"&&(i=!0),s!=null){for(u=0;u<s.length;u++)if((g=s[u])&&"setAttribute"in g==!!f&&(f?g.localName===f:g.nodeType===3)){t=g,s[u]=null;break}}if(t==null){if(f===null)return document.createTextNode(m);t=i?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,m.is&&m),s=null,a=!1}if(f===null)S===m||a&&t.data===m||(t.data=m);else{if(s=s&&No.call(t.childNodes),S=n.props||ho,!a&&s!=null)for(S={},u=0;u<t.attributes.length;u++)S[(g=t.attributes[u]).name]=g.value;for(u in S)g=S[u],u=="children"||(u=="dangerouslySetInnerHTML"?c=g:u==="key"||u in m||ra(t,u,null,g,i));for(u in m)g=m[u],u=="children"?h=g:u=="dangerouslySetInnerHTML"?d=g:u=="value"?y=g:u=="checked"?b=g:u==="key"||a&&typeof g!="function"||S[u]===g||ra(t,u,g,S[u],i);if(d)a||c&&(d.__html===c.__html||d.__html===t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(c&&(t.innerHTML=""),Rv(t,Ll(h)?h:[h],e,n,r,i&&f!=="foreignObject",s,o,s?s[0]:n.__k&&ki(n,0),a,l),s!=null)for(u=s.length;u--;)s[u]!=null&&Uv(s[u]);a||(u="value",y!==void 0&&(y!==t[u]||f==="progress"&&!y||f==="option"&&y!==S[u])&&ra(t,u,y,S[u],!1),u="checked",b!==void 0&&b!==t[u]&&ra(t,u,b,S[u],!1))}return t}function Np(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){j.__e(r,n)}}function td(t,e,n){var r,i;if(j.unmount&&j.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||Np(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){j.__e(s,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&td(r[i],e,n||typeof t.type!="function");n||t.__e==null||Uv(t.__e),t.__=t.__e=t.__d=void 0}function GS(t,e,n){return this.constructor(t,n)}function Tf(t,e,n){var r,i,s,o;j.__&&j.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,s=[],o=[],Up(e,t=(!r&&n||e).__k=p(en,null,[t]),i||ho,ho,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?No.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r,o),Dv(s,t,o)}function Lv(t,e,n){var r,i,s,o,a=kn({},t.props);for(s in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)s=="key"?r=e[s]:s=="ref"?i=e[s]:a[s]=e[s]===void 0&&o!==void 0?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?No.call(arguments,2):n),Us(t.type,a,r||t.key,i||t.ref,null)}No=Av.slice,j={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},Ov=0,Wt.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=kn({},this.state),typeof t=="function"&&(t=t(kn({},n),this.props)),t&&kn(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Ef(this))},Wt.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ef(this))},Wt.prototype.render=en,_r=[],xv=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ed=function(t,e){return t.__v.__b-e.__v.__b},cl.__r=0;function $v(t){return typeof t!="object"||t===null||!("nodeType"in t)?!1:t.nodeType===Node.ELEMENT_NODE}function KS(t,e){return e===void 0&&(e=document),typeof t=="string"?e.querySelector(t):$v(t)?t:null}function Bv(t){for(var e;t&&!t.dir;)t=t.parentNode;return(e=t)==null?void 0:e.dir}class Rp{constructor(e,n){n===void 0&&(n={}),this.uppy=e,this.opts=n}getPluginState(){const{plugins:e}=this.uppy.getState();return e[this.id]||{}}setPluginState(e){const{plugins:n}=this.uppy.getState();this.uppy.setState({plugins:{...n,[this.id]:{...n[this.id],...e}}})}setOptions(e){this.opts={...this.opts,...e},this.setPluginState(),this.i18nInit()}i18nInit(){const e=new mv([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState()}addTarget(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}render(){throw new Error("Extend the render method to add your plugin to a DOM element")}update(){}afterUpdate(){}}function Of(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var QS=0;function YS(t){return"__private_"+QS+++"_"+t}function XS(t){let e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=i,e||(e=Promise.resolve().then(()=>(e=null,t(...n)))),e}}var Ki=YS("updateUI");class Ip extends Rp{constructor(){super(...arguments),Object.defineProperty(this,Ki,{writable:!0,value:void 0})}getTargetPlugin(e){let n;if(typeof e=="object"&&e instanceof Ip)n=e;else if(typeof e=="function"){const r=e;this.uppy.iteratePlugins(i=>{i instanceof r&&(n=i)})}return n}mount(e,n){const r=n.id,i=KS(e);if(i){this.isTargetDOMEl=!0;const a=document.createElement("div");return a.classList.add("uppy-Root"),Of(this,Ki)[Ki]=XS(l=>{this.uppy.getPlugin(this.id)&&(Tf(this.render(l),a),this.afterUpdate())}),this.uppy.log(`Installing ${r} to a DOM element '${e}'`),this.opts.replaceTargetContent&&(i.innerHTML=""),Tf(this.render(this.uppy.getState()),a),this.el=a,i.appendChild(a),a.dir=this.opts.direction||Bv(a)||"ltr",this.onMount(),this.el}const s=this.getTargetPlugin(e);if(s)return this.uppy.log(`Installing ${r} to ${s.id}`),this.parent=s,this.el=s.addTarget(n),this.onMount(),this.el;this.uppy.log(`Not installing ${r}`);let o=`Invalid target option given to ${r}.`;throw typeof e=="function"?o+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":o+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(o)}update(e){if(this.el!=null){var n,r;(n=(r=Of(this,Ki))[Ki])==null||n.call(r,e)}}unmount(){if(this.isTargetDOMEl){var e;(e=this.el)==null||e.remove()}this.onUnmount()}onMount(){}onUnmount(){}}const Nn=Ip;function xf(t,e,n,r){return n===0||t===e?t:r===0?e:t+(e-t)*2**(-r/n)}const _t={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};var Mv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Mv);var JS=Mv.exports;const Qe=rt(JS);function Su(t){const e=[];let n,r;for(const{progress:s}of Object.values(t)){const{preprocess:o,postprocess:a}=s;r==null&&(o||a)&&({mode:n,message:r}=o||a),(o==null?void 0:o.mode)==="determinate"&&e.push(o.value),(a==null?void 0:a.mode)==="determinate"&&e.push(a.value)}const i=e.reduce((s,o)=>s+o/e.length,0);return{mode:n,message:r,value:i}}function ZS(t){const e=Math.floor(t/3600)%24,n=Math.floor(t/60)%60,r=Math.floor(t%60);return{hours:e,minutes:n,seconds:r}}function eP(t){const e=ZS(t),n=e.hours===0?"":`${e.hours}h`,r=e.minutes===0?"":`${e.hours===0?e.minutes:` ${e.minutes.toString(10).padStart(2,"0")}`}m`,i=e.hours!==0?"":`${e.minutes===0?e.seconds:` ${e.seconds.toString(10).padStart(2,"0")}`}s`;return`${n}${r}${i}`}const tP="",Af=()=>` ${tP} `;function nP(t){const{newFiles:e,isUploadStarted:n,recoveredState:r,i18n:i,uploadState:s,isSomeGhost:o,startUpload:a}=t,l=Qe("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":s===_t.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),u=e&&n&&!r?i("uploadXNewFiles",{smart_count:e}):i("uploadXFiles",{smart_count:e});return p("button",{type:"button",className:l,"aria-label":i("uploadXFiles",{smart_count:e}),onClick:a,disabled:o,"data-uppy-super-focusable":!0},u)}function rP(t){const{i18n:e,uppy:n}=t;return p("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:()=>n.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry"},p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},p("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),e("retry"))}function iP(t){const{i18n:e,uppy:n}=t;return p("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:()=>n.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0},p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},p("g",{fill:"none",fillRule:"evenodd"},p("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),p("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}function sP(t){const{isAllPaused:e,i18n:n,isAllComplete:r,resumableUploads:i,uppy:s}=t,o=n(e?"resume":"pause");function a(){return r?null:i?e?s.resumeAll():s.pauseAll():s.cancelAll()}return p("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:a,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0},p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},p("g",{fill:"none",fillRule:"evenodd"},p("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),p("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}function oP(t){const{i18n:e,doneButtonHandler:n}=t;return p("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:n,"data-uppy-super-focusable":!0},e("done"))}function zv(){return p("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},p("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function aP(t){const{progress:e}=t,{value:n,mode:r,message:i}=e,s=Math.round(n*100),o="";return p("div",{className:"uppy-StatusBar-content"},p(zv,null),r==="determinate"?`${s}% ${o} `:"",i)}function lP(t){const{numUploads:e,complete:n,totalUploadedSize:r,totalSize:i,totalETA:s,i18n:o}=t,a=e>1;return p("div",{className:"uppy-StatusBar-statusSecondary"},a&&o("filesUploadedOfTotal",{complete:n,smart_count:e}),p("span",{className:"uppy-StatusBar-additionalInfo"},a&&Af(),o("dataUploadedOfTotal",{complete:As(r),total:As(i)}),Af(),o("xTimeLeft",{time:eP(s)})))}function jv(t){const{i18n:e,complete:n,numUploads:r}=t;return p("div",{className:"uppy-StatusBar-statusSecondary"},e("filesUploadedOfTotal",{complete:n,smart_count:r}))}function uP(t){const{i18n:e,newFiles:n,startUpload:r}=t,i=Qe("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return p("div",{className:"uppy-StatusBar-statusSecondary"},p("div",{className:"uppy-StatusBar-statusSecondaryHint"},e("xMoreFilesAdded",{smart_count:n})),p("button",{type:"button",className:i,"aria-label":e("uploadXFiles",{smart_count:n}),onClick:r},e("upload")))}function cP(t){const{i18n:e,supportsUploadProgress:n,totalProgress:r,showProgressDetails:i,isUploadStarted:s,isAllComplete:o,isAllPaused:a,newFiles:l,numUploads:u,complete:d,totalUploadedSize:c,totalSize:h,totalETA:g,startUpload:y}=t,b=l&&s;if(!s||o)return null;const S=e(a?"paused":"uploading");function m(){return!a&&!b&&i?n?p(lP,{numUploads:u,complete:d,totalUploadedSize:c,totalSize:h,totalETA:g,i18n:e}):p(jv,{i18n:e,complete:d,numUploads:u}):null}return p("div",{className:"uppy-StatusBar-content","aria-label":S,title:S},a?null:p(zv,null),p("div",{className:"uppy-StatusBar-status"},p("div",{className:"uppy-StatusBar-statusPrimary"},n?`${S}: ${r}%`:S),m(),b?p(uP,{i18n:e,newFiles:l,startUpload:y}):null))}function dP(t){const{i18n:e}=t;return p("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete")},p("div",{className:"uppy-StatusBar-status"},p("div",{className:"uppy-StatusBar-statusPrimary"},p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},p("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),e("complete"))))}function pP(t){const{error:e,i18n:n,complete:r,numUploads:i}=t;function s(){const o=`${n("uploadFailed")} 

 ${e}`;alert(o)}return p("div",{className:"uppy-StatusBar-content",title:n("uploadFailed")},p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},p("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),p("div",{className:"uppy-StatusBar-status"},p("div",{className:"uppy-StatusBar-statusPrimary"},n("uploadFailed"),p("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":n("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:s,type:"button"},"?")),p(jv,{i18n:n,complete:r,numUploads:i})))}const{STATE_ERROR:Uf,STATE_WAITING:Nf,STATE_PREPROCESSING:Pu,STATE_UPLOADING:ia,STATE_POSTPROCESSING:Eu,STATE_COMPLETE:sa}=_t;function hP(t){const{newFiles:e,allowNewUpload:n,isUploadInProgress:r,isAllPaused:i,resumableUploads:s,error:o,hideUploadButton:a,hidePauseResumeButton:l,hideCancelButton:u,hideRetryButton:d,recoveredState:c,uploadState:h,totalProgress:g,files:y,supportsUploadProgress:b,hideAfterFinish:S,isSomeGhost:m,doneButtonHandler:f,isUploadStarted:v,i18n:E,startUpload:O,uppy:x,isAllComplete:C,showProgressDetails:A,numUploads:R,complete:B,totalSize:J,totalETA:Se,totalUploadedSize:Z}=t;function te(){switch(h){case Eu:case Pu:{const re=Su(y);return re.mode==="determinate"?re.value*100:g}case Uf:return null;case ia:return b?g:null;default:return g}}function X(){switch(h){case Eu:case Pu:{const{mode:re}=Su(y);return re==="indeterminate"}case ia:return!b;default:return!1}}function P(){if(c)return!1;switch(h){case Nf:return a||e===0;case sa:return S;default:return!1}}const _=te(),w=P(),k=_??100,F=!o&&e&&!r&&!i&&n&&!a,T=!u&&h!==Nf&&h!==sa,I=s&&!l&&h===ia,z=o&&!C&&!d,H=f&&h===sa,ye=Qe("uppy-StatusBar-progress",{"is-indeterminate":X()}),ee=Qe("uppy-StatusBar",`is-${h}`,{"has-ghosts":m});return p("div",{className:ee,"aria-hidden":w},p("div",{className:ye,style:{width:`${k}%`},role:"progressbar","aria-label":`${k}%`,"aria-valuetext":`${k}%`,"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":_}),(()=>{switch(h){case Pu:case Eu:return p(aP,{progress:Su(y)});case sa:return p(dP,{i18n:E});case Uf:return p(pP,{error:o,i18n:E,numUploads:R,complete:B});case ia:return p(cP,{i18n:E,supportsUploadProgress:b,totalProgress:g,showProgressDetails:A,isUploadStarted:v,isAllComplete:C,isAllPaused:i,newFiles:e,numUploads:R,complete:B,totalUploadedSize:Z,totalSize:J,totalETA:Se,startUpload:O});default:return null}})(),p("div",{className:"uppy-StatusBar-actions"},c||F?p(nP,{newFiles:e,isUploadStarted:v,recoveredState:c,i18n:E,isSomeGhost:m,startUpload:O,uploadState:h}):null,z?p(rP,{i18n:E,uppy:x}):null,I?p(sP,{isAllPaused:i,i18n:E,isAllComplete:C,resumableUploads:s,uppy:x}):null,T?p(iP,{i18n:E,uppy:x}):null,H?p(oP,{i18n:E,doneButtonHandler:f}):null))}const fP={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function de(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var mP=0;function Ai(t){return"__private_"+mP+++"_"+t}const gP={version:"3.2.5"},yP=2e3,vP=2e3;function wP(t,e,n,r){if(t)return _t.STATE_ERROR;if(e)return _t.STATE_COMPLETE;if(n)return _t.STATE_WAITING;let i=_t.STATE_WAITING;const s=Object.keys(r);for(let o=0;o<s.length;o++){const{progress:a}=r[s[o]];if(a.uploadStarted&&!a.uploadComplete)return _t.STATE_UPLOADING;a.preprocess&&i!==_t.STATE_UPLOADING&&(i=_t.STATE_PREPROCESSING),a.postprocess&&i!==_t.STATE_UPLOADING&&i!==_t.STATE_PREPROCESSING&&(i=_t.STATE_POSTPROCESSING)}return i}var St=Ai("lastUpdateTime"),Lt=Ai("previousUploadedBytes"),bn=Ai("previousSpeed"),at=Ai("previousETA"),ku=Ai("computeSmoothETA"),Qi=Ai("onUploadStart");let Dp=class extends Nn{constructor(e,n){super(e,n),Object.defineProperty(this,ku,{value:bP}),Object.defineProperty(this,St,{writable:!0,value:void 0}),Object.defineProperty(this,Lt,{writable:!0,value:void 0}),Object.defineProperty(this,bn,{writable:!0,value:void 0}),Object.defineProperty(this,at,{writable:!0,value:void 0}),this.startUpload=()=>this.uppy.upload().catch(()=>{}),Object.defineProperty(this,Qi,{writable:!0,value:()=>{const{recoveredState:i}=this.uppy.getState();if(de(this,bn)[bn]=null,de(this,at)[at]=null,i){de(this,Lt)[Lt]=Object.values(i.files).reduce((s,o)=>{let{progress:a}=o;return s+a.bytesUploaded},0),this.uppy.emit("restore-confirmed");return}de(this,St)[St]=performance.now(),de(this,Lt)[Lt]=0}}),this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=fP;const r={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};this.opts={...r,...n},this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(e){const{capabilities:n,files:r,allowNewUpload:i,totalProgress:s,error:o,recoveredState:a}=e,{newFiles:l,startedFiles:u,completeFiles:d,isUploadStarted:c,isAllComplete:h,isAllErrored:g,isAllPaused:y,isUploadInProgress:b,isSomeGhost:S}=this.uppy.getObjectOfFilesPerState(),m=a?Object.values(r):l,f=!!n.resumableUploads,v=n.uploadProgress!==!1;let E=0,O=0;u.forEach(C=>{E+=C.progress.bytesTotal||0,O+=C.progress.bytesUploaded||0});const x=de(this,ku)[ku]({uploaded:O,total:E,remaining:E-O});return hP({error:o,uploadState:wP(o,h,a,e.files||{}),allowNewUpload:i,totalProgress:s,totalSize:E,totalUploadedSize:O,isAllComplete:!1,isAllPaused:y,isAllErrored:g,isUploadStarted:c,isUploadInProgress:b,isSomeGhost:S,recoveredState:a,complete:d.length,newFiles:m.length,numUploads:u.length,totalETA:x,files:r,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:f,supportsUploadProgress:v,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}onMount(){const e=this.el;Bv(e)||(e.dir="ltr")}install(){const{target:e}=this.opts;e&&this.mount(e,this),this.uppy.on("upload",de(this,Qi)[Qi]),de(this,St)[St]=performance.now(),de(this,Lt)[Lt]=this.uppy.getFiles().reduce((n,r)=>n+r.progress.bytesUploaded,0)}uninstall(){this.unmount(),this.uppy.off("upload",de(this,Qi)[Qi])}};function bP(t){var e,n;if(t.total===0||t.remaining===0)return 0;(n=(e=de(this,St))[St])!=null||(e[St]=performance.now());const r=performance.now()-de(this,St)[St];if(r===0){var i;return Math.round(((i=de(this,at)[at])!=null?i:0)/100)/10}const s=t.uploaded-de(this,Lt)[Lt];if(de(this,Lt)[Lt]=t.uploaded,s<=0){var o;return Math.round(((o=de(this,at)[at])!=null?o:0)/100)/10}const a=s/r,l=de(this,bn)[bn]==null?a:xf(a,de(this,bn)[bn],yP,r);de(this,bn)[bn]=l;const u=t.remaining/l,d=Math.max(de(this,at)[at]-r,0),c=de(this,at)[at]==null?u:xf(u,d,vP,r);return de(this,at)[at]=c,de(this,St)[St]=performance.now(),Math.round(c/100)/10}Dp.VERSION=gP.version;const Rf=300;class _P extends Wt{constructor(){super(...arguments),this.ref=HS()}componentWillEnter(e){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(e,Rf)}componentWillLeave(e){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(e,Rf)}render(){const{children:e}=this.props;return p("div",{className:"uppy-Informer-animated",ref:this.ref},e)}}function SP(t,e){return Object.assign(t,e)}function PP(t,e){var n;return(n=t==null?void 0:t.key)!=null?n:e}function EP(t,e){const n=t._ptgLinkedRefs||(t._ptgLinkedRefs={});return n[e]||(n[e]=r=>{t.refs[e]=r})}function Yi(t){const e={};for(let n=0;n<t.length;n++)if(t[n]!=null){const r=PP(t[n],n.toString(36));e[r]=t[n]}return e}function kP(t,e){t=t||{},e=e||{};const n=o=>e.hasOwnProperty(o)?e[o]:t[o],r={};let i=[];for(const o in t)e.hasOwnProperty(o)?i.length&&(r[o]=i,i=[]):i.push(o);const s={};for(const o in e){if(r.hasOwnProperty(o))for(let a=0;a<r[o].length;a++){const l=r[o][a];s[r[o][a]]=n(l)}s[o]=n(o)}for(let o=0;o<i.length;o++)s[i[o]]=n(i[o]);return s}const CP=t=>t;class Hv extends Wt{constructor(e,n){super(e,n),this.refs={},this.state={children:Yi(wn(wn(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const e=this.state.children;for(const n in e)e[n]&&this.performAppear(n)}componentWillReceiveProps(e){const n=Yi(wn(e.children)||[]),r=this.state.children;this.setState(s=>({children:kP(s.children,n)}));let i;for(i in n)if(n.hasOwnProperty(i)){const s=r&&r.hasOwnProperty(i);n[i]&&s&&this.currentlyTransitioningKeys[i]?(this.keysToEnter.push(i),this.keysToAbortLeave.push(i)):n[i]&&!s&&!this.currentlyTransitioningKeys[i]&&this.keysToEnter.push(i)}for(i in r)if(r.hasOwnProperty(i)){const s=n&&n.hasOwnProperty(i);r[i]&&!s&&!this.currentlyTransitioningKeys[i]&&this.keysToLeave.push(i)}}componentDidUpdate(){const{keysToEnter:e}=this;this.keysToEnter=[],e.forEach(this.performEnter);const{keysToLeave:n}=this;this.keysToLeave=[],n.forEach(this.performLeave)}_finishAbort(e){const n=this.keysToAbortLeave.indexOf(e);n!==-1&&this.keysToAbortLeave.splice(n,1)}performAppear(e){this.currentlyTransitioningKeys[e]=!0;const n=this.refs[e];n!=null&&n.componentWillAppear?n.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}_handleDoneAppearing(e){const n=this.refs[e];n!=null&&n.componentDidAppear&&n.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const r=Yi(wn(this.props.children)||[]);(!r||!r.hasOwnProperty(e))&&this.performLeave(e)}performEnter(e){this.currentlyTransitioningKeys[e]=!0;const n=this.refs[e];n!=null&&n.componentWillEnter?n.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}_handleDoneEntering(e){const n=this.refs[e];n!=null&&n.componentDidEnter&&n.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const r=Yi(wn(this.props.children)||[]);(!r||!r.hasOwnProperty(e))&&this.performLeave(e)}performLeave(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;this.currentlyTransitioningKeys[e]=!0;const r=this.refs[e];r!=null&&r.componentWillLeave?r.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}_handleDoneLeaving(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;const r=this.refs[e];r!=null&&r.componentDidLeave&&r.componentDidLeave(),delete this.currentlyTransitioningKeys[e];const i=Yi(wn(this.props.children)||[]);if(i&&i.hasOwnProperty(e))this.performEnter(e);else{const s=SP({},this.state.children);delete s[e],this.setState({children:s})}}render(e,n){let{childFactory:r,transitionLeave:i,transitionName:s,transitionAppear:o,transitionEnter:a,transitionLeaveTimeout:l,transitionEnterTimeout:u,transitionAppearTimeout:d,component:c,...h}=e,{children:g}=n;const y=Object.entries(g).map(b=>{let[S,m]=b;if(!m)return;const f=EP(this,S);return Lv(r(m),{ref:f,key:S})}).filter(Boolean);return p(c,h,y)}}Hv.defaultProps={component:"span",childFactory:CP};const FP={version:"3.0.4"};class Wv extends Nn{constructor(e,n){super(e,n),this.render=i=>p("div",{className:"uppy uppy-Informer"},p(Hv,null,i.info.map(s=>p(_P,{key:s.message},p("p",{role:"alert"},s.message," ",s.details&&p("span",{"aria-label":s.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${s.message} 

 ${s.details}`)},"?")))))),this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer";const r={};this.opts={...r,...n}}install(){const{target:e}=this.opts;e&&this.mount(e,this)}}Wv.VERSION=FP.version;const TP=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function OP(t,e,n){var r,i;const s=TP.exec(t),o=(r=(i=e.mimeType)!=null?i:s==null?void 0:s[1])!=null?r:"plain/text";let a;if((s==null?void 0:s[2])!=null){const l=atob(decodeURIComponent(s[3])),u=new Uint8Array(l.length);for(let d=0;d<l.length;d++)u[d]=l.charCodeAt(d);a=[u]}else(s==null?void 0:s[3])!=null&&(a=[decodeURIComponent(s[3])]);return n?new File(a,e.name||"",{type:o}):new Blob(a,{type:o})}function If(t){return t.startsWith("blob:")}function nd(t){return t?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(t):!1}function Q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qv=typeof self<"u"?self:global;const fo=typeof navigator<"u",xP=fo&&typeof HTMLImageElement>"u",Df=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),Vv=qv.Buffer,Gv=!!Vv,AP=t=>t!==void 0;function Kv(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(AP).length===0)}function xe(t){let e=new Error(t);throw delete e.stack,e}function Lf(t){let e=function(n){let r=0;return n.ifd0.enabled&&(r+=1024),n.exif.enabled&&(r+=2048),n.makerNote&&(r+=2048),n.userComment&&(r+=1024),n.gps.enabled&&(r+=512),n.interop.enabled&&(r+=100),n.ifd1.enabled&&(r+=1024),r+2048}(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}const Cu=t=>String.fromCharCode.apply(null,t),$f=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;let mo=class Gr{static from(e,n){return e instanceof this&&e.le===n?e:new Gr(e,void 0,void 0,n)}constructor(e,n=0,r,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){r===void 0&&(r=e.byteLength-n);let s=new DataView(e,n,r);this._swapDataView(s)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof Gr){r===void 0&&(r=e.byteLength-n),(n+=e.byteOffset)+r>e.byteOffset+e.byteLength&&xe("Creating view outside of available memory in ArrayBuffer");let s=new DataView(e.buffer,n,r);this._swapDataView(s)}else if(typeof e=="number"){let s=new DataView(new ArrayBuffer(e));this._swapDataView(s)}else xe("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,n,r=Gr){return e instanceof DataView||e instanceof Gr?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||xe("BufferView.set(): Invalid data argument."),this.toUint8().set(e,n),new r(this,n,e.byteLength)}subarray(e,n){return n=n||this._lengthToEnd(e),new Gr(this,e,n)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,n){return new Uint8Array(this.buffer,this.byteOffset+e,n)}getString(e=0,n=this.byteLength){return i=this.getUint8Array(e,n),$f?$f.decode(i):Gv?Buffer.from(i).toString("utf8"):decodeURIComponent(escape(Cu(i)));var i}getLatin1String(e=0,n=this.byteLength){let r=this.getUint8Array(e,n);return Cu(r)}getUnicodeString(e=0,n=this.byteLength){const r=[];for(let i=0;i<n&&e+i<this.byteLength;i+=2)r.push(this.getUint16(e+i));return Cu(r)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,n=this.le){return this.dataView.getInt16(e,n)}getInt32(e,n=this.le){return this.dataView.getInt32(e,n)}getUint16(e,n=this.le){return this.dataView.getUint16(e,n)}getUint32(e,n=this.le){return this.dataView.getUint32(e,n)}getFloat32(e,n=this.le){return this.dataView.getFloat32(e,n)}getFloat64(e,n=this.le){return this.dataView.getFloat64(e,n)}getFloat(e,n=this.le){return this.dataView.getFloat32(e,n)}getDouble(e,n=this.le){return this.dataView.getFloat64(e,n)}getUintBytes(e,n,r){switch(n){case 1:return this.getUint8(e,r);case 2:return this.getUint16(e,r);case 4:return this.getUint32(e,r);case 8:return this.getUint64&&this.getUint64(e,r)}}getUint(e,n,r){switch(n){case 8:return this.getUint8(e,r);case 16:return this.getUint16(e,r);case 32:return this.getUint32(e,r);case 64:return this.getUint64&&this.getUint64(e,r)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}};function rd(t,e){xe(`${t} '${e}' was not loaded, try using full build of exifr.`)}let Lp=class extends Map{constructor(e){super(),this.kind=e}get(e,n){return this.has(e)||rd(this.kind,e),n&&(e in n||function(r,i){xe(`Unknown ${r} '${i}'.`)}(this.kind,e),n[e].enabled||rd(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}};var Qv=new Lp("file parser"),$t=new Lp("segment parser"),$p=new Lp("file reader");let UP=qv.fetch;function Bf(t,e){return(n=t).startsWith("data:")||n.length>1e4?sd(t,e,"base64"):Df&&t.includes("://")?id(t,e,"url",Mf):Df?sd(t,e,"fs"):fo?id(t,e,"url",Mf):void xe("Invalid input argument");var n}async function id(t,e,n,r){return $p.has(n)?sd(t,e,n):r?async function(i,s){let o=await s(i);return new mo(o)}(t,r):void xe(`Parser ${n} is not loaded`)}async function sd(t,e,n){let r=new($p.get(n))(t,e);return await r.read(),r}const Mf=t=>UP(t).then(e=>e.arrayBuffer()),od=t=>new Promise((e,n)=>{let r=new FileReader;r.onloadend=()=>e(r.result||new ArrayBuffer),r.onerror=n,r.readAsArrayBuffer(t)}),Bp=new Map,NP=new Map,RP=new Map,oa=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],Yv=["jfif","xmp","icc","iptc","ihdr"],ad=["tiff",...Yv],Fe=["ifd0","ifd1","exif","gps","interop"],aa=[...ad,...Fe],la=["makerNote","userComment"],Xv=["translateKeys","translateValues","reviveValues","multiSegment"],ua=[...Xv,"sanitize","mergeOutput","silentErrors"];class Jv{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class Xi extends Jv{get needed(){return this.enabled||this.deps.size>0}constructor(e,n,r,i){if(super(),Q(this,"enabled",!1),Q(this,"skip",new Set),Q(this,"pick",new Set),Q(this,"deps",new Set),Q(this,"translateKeys",!1),Q(this,"translateValues",!1),Q(this,"reviveValues",!1),this.key=e,this.enabled=n,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=Fe.includes(e),this.canBeFiltered&&(this.dict=Bp.get(e)),r!==void 0)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if(typeof r=="object"){if(this.enabled=!0,this.parse=r.parse!==!1,this.canBeFiltered){let{pick:s,skip:o}=r;s&&s.length>0&&this.translateTagSet(s,this.pick),o&&o.length>0&&this.translateTagSet(o,this.skip)}this.applyInheritables(r)}else r===!0||r===!1?this.parse=this.enabled=r:xe(`Invalid options argument: ${r}`)}applyInheritables(e){let n,r;for(n of Xv)r=e[n],r!==void 0&&(this[n]=r)}translateTagSet(e,n){if(this.dict){let r,i,{tagKeys:s,tagValues:o}=this.dict;for(r of e)typeof r=="string"?(i=o.indexOf(r),i===-1&&(i=s.indexOf(Number(r))),i!==-1&&n.add(Number(s[i]))):n.add(r)}else for(let r of e)n.add(r)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,dl(this.pick,this.deps)):this.enabled&&this.pick.size>0&&dl(this.pick,this.deps)}}var We={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},zf=new Map;class Mp extends Jv{static useCached(e){let n=zf.get(e);return n!==void 0||(n=new this(e),zf.set(e,n)),n}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):xe(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=fo?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of oa)this[e]=We[e];for(e of ua)this[e]=We[e];for(e of la)this[e]=We[e];for(e of aa)this[e]=new Xi(e,We[e],void 0,this)}setupFromTrue(){let e;for(e of oa)this[e]=We[e];for(e of ua)this[e]=We[e];for(e of la)this[e]=!0;for(e of aa)this[e]=new Xi(e,!0,void 0,this)}setupFromArray(e){let n;for(n of oa)this[n]=We[n];for(n of ua)this[n]=We[n];for(n of la)this[n]=We[n];for(n of aa)this[n]=new Xi(n,!1,void 0,this);this.setupGlobalFilters(e,void 0,Fe)}setupFromObject(e){let n;for(n of(Fe.ifd0=Fe.ifd0||Fe.image,Fe.ifd1=Fe.ifd1||Fe.thumbnail,Object.assign(this,e),oa))this[n]=Fu(e[n],We[n]);for(n of ua)this[n]=Fu(e[n],We[n]);for(n of la)this[n]=Fu(e[n],We[n]);for(n of ad)this[n]=new Xi(n,We[n],e[n],this);for(n of Fe)this[n]=new Xi(n,We[n],e[n],this.tiff);this.setupGlobalFilters(e.pick,e.skip,Fe,aa),e.tiff===!0?this.batchEnableWithBool(Fe,!0):e.tiff===!1?this.batchEnableWithUserValue(Fe,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,Fe):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,Fe)}batchEnableWithBool(e,n){for(let r of e)this[r].enabled=n}batchEnableWithUserValue(e,n){for(let r of e){let i=n[r];this[r].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(e,n,r,i=r){if(e&&e.length){for(let o of i)this[o].enabled=!1;let s=jf(e,r);for(let[o,a]of s)dl(this[o].pick,a),this[o].enabled=!0}else if(n&&n.length){let s=jf(n,r);for(let[o,a]of s)dl(this[o].skip,a)}}filterNestedSegmentTags(){let{ifd0:e,exif:n,xmp:r,iptc:i,icc:s}=this;this.makerNote?n.deps.add(37500):n.skip.add(37500),this.userComment?n.deps.add(37510):n.skip.add(37510),r.enabled||e.skip.add(700),i.enabled||e.skip.add(33723),s.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:n,gps:r,interop:i}=this;i.needed&&(n.deps.add(40965),e.deps.add(40965)),n.needed&&e.deps.add(34665),r.needed&&e.deps.add(34853),this.tiff.enabled=Fe.some(s=>this[s].enabled===!0)||this.makerNote||this.userComment;for(let s of Fe)this[s].finalizeFilters()}get onlyTiff(){return!Yv.map(e=>this[e].enabled).some(e=>e===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let e of ad)this[e].enabled&&!$t.has(e)&&rd("segment parser",e)}}function jf(t,e){let n,r,i,s,o=[];for(i of e){for(s of(n=Bp.get(i),r=[],n))(t.includes(s[0])||t.includes(s[1]))&&r.push(s[0]);r.length&&o.push([i,r])}return o}function Fu(t,e){return t!==void 0?t:e!==void 0?e:void 0}function dl(t,e){for(let n of e)t.add(n)}Q(Mp,"default",We);class IP{constructor(e){Q(this,"parsers",{}),Q(this,"output",{}),Q(this,"errors",[]),Q(this,"pushToErrors",n=>this.errors.push(n)),this.options=Mp.useCached(e)}async read(e){this.file=await function(n,r){return typeof n=="string"?Bf(n,r):fo&&!xP&&n instanceof HTMLImageElement?Bf(n.src,r):n instanceof Uint8Array||n instanceof ArrayBuffer||n instanceof DataView?new mo(n):fo&&n instanceof Blob?id(n,r,"blob",od):void xe("Invalid input argument")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,n=e.getUint16(0);for(let[r,i]of Qv)if(i.canHandle(e,n))return this.fileParser=new i(this.options,this.file,this.parsers),e[r]=!0;this.file.close&&this.file.close(),xe("Unknown file format")}async parse(){let{output:e,errors:n}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),n.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&n.length>0&&(e.errors=n),Kv(r=e)?void 0:r;var r}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let n=Object.values(this.parsers).map(async r=>{let i=await r.parse();r.assignToOutput(e,i)});this.options.silentErrors&&(n=n.map(r=>r.catch(this.pushToErrors))),await Promise.all(n)}async extractThumbnail(){this.setup();let{options:e,file:n}=this,r=$t.get("tiff",e);var i;if(n.tiff?i={start:0,type:"tiff"}:n.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let s=await this.fileParser.ensureSegmentChunk(i),o=this.parsers.tiff=new r(s,e,n),a=await o.extractThumbnail();return n.close&&n.close(),a}}class li{static findPosition(e,n){let r=e.getUint16(n+2)+2,i=typeof this.headerLength=="function"?this.headerLength(e,n,r):this.headerLength,s=n+i,o=r-i;return{offset:n,length:r,headerLength:i,start:s,size:o,end:s+o}}static parse(e,n={}){return new this(e,new Mp({[this.type]:n}),e).parse()}normalizeInput(e){return e instanceof mo?e:new mo(e)}constructor(e,n={},r){Q(this,"errors",[]),Q(this,"raw",new Map),Q(this,"handleError",i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)}),this.chunk=this.normalizeInput(e),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,n){let r=RP.get(n),i=NP.get(n),s=Bp.get(n),o=this.options[n],a=o.reviveValues&&!!r,l=o.translateValues&&!!i,u=o.translateKeys&&!!s,d={};for(let[c,h]of e)a&&r.has(c)?h=r.get(c)(h):l&&i.has(c)&&(h=this.translateValue(h,i.get(c))),u&&s.has(c)&&(c=s.get(c)||c),d[c]=h;return d}translateValue(e,n){return n[e]||n.DEFAULT||e}assignToOutput(e,n){this.assignObjectToOutput(e,this.constructor.type,n)}assignObjectToOutput(e,n,r){if(this.globalOptions.mergeOutput)return Object.assign(e,r);e[n]?Object.assign(e[n],r):e[n]=r}}Q(li,"headerLength",4),Q(li,"type",void 0),Q(li,"multiSegment",!1),Q(li,"canHandle",()=>!1);function DP(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function LP(t){return t>=224&&t<=239}function $P(t,e,n){for(let[r,i]of $t)if(i.canHandle(t,e,n))return r}class Hf extends class{constructor(e,n,r){Q(this,"errors",[]),Q(this,"ensureSegmentChunk",async i=>{let s=i.start,o=i.size||65536;if(this.file.chunked)if(this.file.available(s,o))i.chunk=this.file.subarray(s,o);else try{i.chunk=await this.file.readChunk(s,o)}catch(a){xe(`Couldn't read segment: ${JSON.stringify(i)}. ${a.message}`)}else this.file.byteLength>s+o?i.chunk=this.file.subarray(s,o):i.size===void 0?i.chunk=this.file.subarray(s):xe("Segment unreachable: "+JSON.stringify(i));return i.chunk}),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=n,this.parsers=r}injectSegment(e,n){this.options[e].enabled&&this.createParser(e,n)}createParser(e,n){let r=new($t.get(e))(n,this.options,this.file);return this.parsers[e]=r}createParsers(e){for(let n of e){let{type:r,chunk:i}=n,s=this.options[r];if(s&&s.enabled){let o=this.parsers[r];o&&o.append||o||this.createParser(r,i)}}}async readSegments(e){let n=e.map(this.ensureSegmentChunk);await Promise.all(n)}}{constructor(...e){super(...e),Q(this,"appSegments",[]),Q(this,"jpegSegments",[]),Q(this,"unknownSegments",[])}static canHandle(e,n){return n===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set($t.keyList())):(e=e===void 0?$t.keyList().filter(n=>this.options[n].enabled):e.filter(n=>this.options[n].enabled&&$t.has(n)),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,n){this.setupSegmentFinderArgs(n);let{file:r,findAll:i,wanted:s,remaining:o}=this;if(!i&&this.file.chunked&&(i=Array.from(s).some(a=>{let l=$t.get(a),u=this.options[a];return l.multiSegment&&u.multiSegment}),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,r.byteLength),!this.options.onlyTiff&&r.chunked){let a=!1;for(;o.size>0&&!a&&(r.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:l}=r,u=this.appSegments.some(d=>!this.file.available(d.offset||d.start,d.length||d.size));if(a=e>l&&!u?!await r.readNextChunk(e):!await r.readNextChunk(l),(e=this.findAppSegmentsInRange(e,r.byteLength))===void 0)return}}}findAppSegmentsInRange(e,n){n-=2;let r,i,s,o,a,l,{file:u,findAll:d,wanted:c,remaining:h,options:g}=this;for(;e<n;e++)if(u.getUint8(e)===255){if(r=u.getUint8(e+1),LP(r)){if(i=u.getUint16(e+2),s=$P(u,e,i),s&&c.has(s)&&(o=$t.get(s),a=o.findPosition(u,e),l=g[s],a.type=s,this.appSegments.push(a),!d&&(o.multiSegment&&l.multiSegment?(this.unfinishedMultiSegment=a.chunkNumber<a.chunkCount,this.unfinishedMultiSegment||h.delete(s)):h.delete(s),h.size===0)))break;g.recordUnknownSegments&&(a=li.findPosition(u,e),a.marker=r,this.unknownSegments.push(a)),e+=i+1}else if(DP(r)){if(i=u.getUint16(e+2),r===218&&g.stopAfterSos!==!1)return;g.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:r}),e+=i+1}}return e}mergeMultiSegments(){if(!this.appSegments.some(n=>n.multiSegment))return;let e=function(n,r){let i,s,o,a=new Map;for(let l=0;l<n.length;l++)i=n[l],s=i[r],a.has(s)?o=a.get(s):a.set(s,o=[]),o.push(i);return Array.from(a)}(this.appSegments,"type");this.mergedAppSegments=e.map(([n,r])=>{let i=$t.get(n,this.options);return i.handleMultiSegments?{type:n,chunk:i.handleMultiSegments(r)}:r[0]})}getSegment(e){return this.appSegments.find(n=>n.type===e)}async getOrFindSegment(e){let n=this.getSegment(e);return n===void 0&&(await this.findAppSegments(0,[e]),n=this.getSegment(e)),n}}Q(Hf,"type","jpeg"),Qv.set("jpeg",Hf);const BP=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class MP extends li{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,n,r=new Map){let{pick:i,skip:s}=this.options[n];i=new Set(i);let o=i.size>0,a=s.size===0,l=this.chunk.getUint16(e);e+=2;for(let u=0;u<l;u++){let d=this.chunk.getUint16(e);if(o){if(i.has(d)&&(r.set(d,this.parseTag(e,d,n)),i.delete(d),i.size===0))break}else!a&&s.has(d)||r.set(d,this.parseTag(e,d,n));e+=12}return r}parseTag(e,n,r){let{chunk:i}=this,s=i.getUint16(e+2),o=i.getUint32(e+4),a=BP[s];if(a*o<=4?e+=8:e=i.getUint32(e+8),(s<1||s>13)&&xe(`Invalid TIFF value type. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${s}, offset ${e}`),e>i.byteLength&&xe(`Invalid TIFF value offset. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${s}, offset ${e} is outside of chunk size ${i.byteLength}`),s===1)return i.getUint8Array(e,o);if(s===2)return(l=function(u){for(;u.endsWith("\0");)u=u.slice(0,-1);return u}(l=i.getString(e,o)).trim())===""?void 0:l;var l;if(s===7)return i.getUint8Array(e,o);if(o===1)return this.parseTagValue(s,e);{let u=new(function(c){switch(c){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(s))(o),d=a;for(let c=0;c<o;c++)u[c]=this.parseTagValue(s,e),e+=d;return u}}parseTagValue(e,n){let{chunk:r}=this;switch(e){case 1:return r.getUint8(n);case 3:return r.getUint16(n);case 4:return r.getUint32(n);case 5:return r.getUint32(n)/r.getUint32(n+4);case 6:return r.getInt8(n);case 8:return r.getInt16(n);case 9:return r.getInt32(n);case 10:return r.getInt32(n)/r.getInt32(n+4);case 11:return r.getFloat(n);case 12:return r.getDouble(n);case 13:return r.getUint32(n);default:xe(`Invalid tiff type ${e}`)}}}class Tu extends MP{static canHandle(e,n){return e.getUint8(n+1)===225&&e.getUint32(n+4)===1165519206&&e.getUint16(n+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let n=this[e]();return n.catch!==void 0&&(n=n.catch(this.handleError)),n}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),n=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(n)}}parseBlock(e,n){let r=new Map;return this[n]=r,this.parseTags(e,n,r),r}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&xe("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&xe(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,Lf(this.options));let n=this.parseBlock(this.ifd0Offset,"ifd0");return n.size!==0?(this.exifOffset=n.get(34665),this.interopOffset=n.get(40965),this.gpsOffset=n.get(34853),this.xmp=n.get(700),this.iptc=n.get(33723),this.icc=n.get(34675),this.options.sanitize&&(n.delete(34665),n.delete(40965),n.delete(34853),n.delete(700),n.delete(33723),n.delete(34675)),n):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,Lf(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,n){let r=e.get(n);r&&r.length===1&&e.set(n,r[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",Wf(...e.get(2),e.get(1))),e.set("longitude",Wf(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),n=this.ifd1.get(514);return this.chunk.getUint8Array(e,n)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,n,r,i={};for(n of Fe)if(e=this[n],!Kv(e))if(r=this.canTranslate?this.translateBlock(e,n):Object.fromEntries(e),this.options.mergeOutput){if(n==="ifd1")continue;Object.assign(i,r)}else i[n]=r;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,n){if(this.globalOptions.mergeOutput)Object.assign(e,n);else for(let[r,i]of Object.entries(n))this.assignObjectToOutput(e,r,i)}}function Wf(t,e,n,r){var i=t+e/60+n/3600;return r!=="S"&&r!=="W"||(i*=-1),i}Q(Tu,"type","tiff"),Q(Tu,"headerLength",10),$t.set("tiff",Tu);const zp={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},zp,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},zp,{tiff:!1,ifd1:!0,mergeOutput:!1});const zP=Object.assign({},zp,{firstChunkSize:4e4,ifd0:[274]});async function jP(t){let e=new IP(zP);await e.read(t);let n=await e.parse();if(n&&n.ifd0)return n.ifd0[274]}const HP=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let ys=!0,vs=!0;if(typeof navigator=="object"){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let e=t.match(/OS (\d+)_(\d+)/);if(e){let[,n,r]=e;ys=Number(n)+.1*Number(r)<13.4,vs=!1}}else if(t.includes("OS X 10")){let[,e]=t.match(/OS X 10[_.](\d+)/);ys=vs=Number(e)<15}if(t.includes("Chrome/")){let[,e]=t.match(/Chrome\/(\d+)/);ys=vs=Number(e)<81}else if(t.includes("Firefox/")){let[,e]=t.match(/Firefox\/(\d+)/);ys=vs=Number(e)<77}}async function WP(t){let e=await jP(t);return Object.assign({canvas:ys,css:vs},HP[e])}class qP extends mo{constructor(...e){super(...e),Q(this,"ranges",new VP),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,n,r){if(e===0&&this.byteLength===0&&r){let i=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(i)}else{let i=e+n;if(i>this.byteLength){let{dataView:s}=this._extend(i);this._swapDataView(s)}}}_extend(e){let n;n=Gv?Vv.allocUnsafe(e):new Uint8Array(e);let r=new DataView(n.buffer,n.byteOffset,n.byteLength);return n.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:n,dataView:r}}subarray(e,n,r=!1){return n=n||this._lengthToEnd(e),r&&this._tryExtend(e,n),this.ranges.add(e,n),super.subarray(e,n)}set(e,n,r=!1){r&&this._tryExtend(n,e.byteLength,e);let i=super.set(e,n);return this.ranges.add(n,i.byteLength),i}async ensureChunk(e,n){this.chunked&&(this.ranges.available(e,n)||await this.readChunk(e,n))}available(e,n){return this.ranges.available(e,n)}}class VP{constructor(){Q(this,"list",[])}get length(){return this.list.length}add(e,n,r=0){let i=e+n,s=this.list.filter(o=>qf(e,o.offset,i)||qf(e,o.end,i));if(s.length>0){e=Math.min(e,...s.map(a=>a.offset)),i=Math.max(i,...s.map(a=>a.end)),n=i-e;let o=s.shift();o.offset=e,o.length=n,o.end=i,this.list=this.list.filter(a=>!s.includes(a))}else this.list.push({offset:e,length:n,end:i})}available(e,n){let r=e+n;return this.list.some(i=>i.offset<=e&&r<=i.end)}}function qf(t,e,n){return t<=e&&e<=n}class GP extends qP{constructor(e,n){super(0),Q(this,"chunksRead",0),this.input=e,this.options=n}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let n=this.options.chunkSize,r=await this.readChunk(e,n);return!!r&&r.byteLength===n}async readChunk(e,n){if(this.chunksRead++,(n=this.safeWrapAddress(e,n))!==0)return this._readChunk(e,n)}safeWrapAddress(e,n){return this.size!==void 0&&e+n>this.size?Math.max(0,this.size-e):n}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}$p.set("blob",class extends GP{async readWhole(){this.chunked=!1;let t=await od(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,e){let n=e?t+e:void 0,r=this.input.slice(t,n),i=await od(r);return this.set(i,t,!0)}});const KP={strings:{generatingThumbnails:"Generating thumbnails..."}},QP={version:"3.0.6"};function YP(t,e,n){try{t.getContext("2d").getImageData(0,0,1,1)}catch(r){if(r.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return t.toBlob?new Promise(r=>{t.toBlob(r,e,n)}).then(r=>{if(r===null)throw new Error("cannot read image, probably an svg with external resources");return r}):Promise.resolve().then(()=>OP(t.toDataURL(e,n),{})).then(r=>{if(r===null)throw new Error("could not extract blob, probably an old browser");return r})}function XP(t,e){let n=t.width,r=t.height;(e.deg===90||e.deg===270)&&(n=t.height,r=t.width);const i=document.createElement("canvas");i.width=n,i.height=r;const s=i.getContext("2d");return s.translate(n/2,r/2),e.canvas&&(s.rotate(e.rad),s.scale(e.scaleX,e.scaleY)),s.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),i}function JP(t){const e=t.width/t.height,n=5e6,r=4096;let i=Math.floor(Math.sqrt(n*e)),s=Math.floor(n/Math.sqrt(n*e));if(i>r&&(i=r,s=Math.round(i/e)),s>r&&(s=r,i=Math.round(e*s)),t.width>i){const o=document.createElement("canvas");return o.width=i,o.height=s,o.getContext("2d").drawImage(t,0,0,i,s),o}return t}class Zv extends Nn{constructor(e,n){super(e,n),this.onFileAdded=i=>{!i.preview&&i.data&&nd(i.type)&&!i.isRemote&&this.addToQueue(i.id)},this.onCancelRequest=i=>{const s=this.queue.indexOf(i.id);s!==-1&&this.queue.splice(s,1)},this.onFileRemoved=i=>{const s=this.queue.indexOf(i.id);s!==-1&&this.queue.splice(s,1),i.preview&&If(i.preview)&&URL.revokeObjectURL(i.preview)},this.onRestored=()=>{this.uppy.getFiles().filter(s=>s.isRestored).forEach(s=>{(!s.preview||If(s.preview))&&this.addToQueue(s.id)})},this.onAllFilesRemoved=()=>{this.queue=[]},this.waitUntilAllProcessed=i=>{i.forEach(o=>{const a=this.uppy.getFile(o);this.uppy.emit("preprocess-progress",a,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const s=()=>{i.forEach(o=>{const a=this.uppy.getFile(o);this.uppy.emit("preprocess-complete",a)})};return new Promise(o=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{s(),o()}):(s(),o())})},this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType||"image/jpeg",this.defaultLocale=KP;const r={thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1};if(this.opts={...r,...n},this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(e,n,r){const i=URL.createObjectURL(e.data),s=new Promise((a,l)=>{const u=new Image;u.src=i,u.addEventListener("load",()=>{URL.revokeObjectURL(i),a(u)}),u.addEventListener("error",d=>{URL.revokeObjectURL(i),l(d.error||new Error("Could not create thumbnail"))})}),o=WP(e.data).catch(()=>1);return Promise.all([s,o]).then(a=>{let[l,u]=a;const d=this.getProportionalDimensions(l,n,r,u.deg),c=XP(l,u),h=this.resizeImage(c,d.width,d.height);return YP(h,this.thumbnailType,80)}).then(a=>URL.createObjectURL(a))}getProportionalDimensions(e,n,r,i){let s=e.width/e.height;return(i===90||i===270)&&(s=e.height/e.width),n!=null?{width:n,height:Math.round(n/s)}:r!=null?{width:Math.round(r*s),height:r}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/s)}}resizeImage(e,n,r){let i=JP(e),s=Math.ceil(Math.log2(i.width/n));s<1&&(s=1);let o=n*2**(s-1),a=r*2**(s-1);const l=2;for(;s--;){const u=document.createElement("canvas");u.width=o,u.height=a,u.getContext("2d").drawImage(i,0,0,o,a),i=u,o=Math.round(o/l),a=Math.round(a/l)}return i}setPreviewURL(e,n){this.uppy.setFileState(e,{preview:n})}addToQueue(e){this.queue.push(e),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const e=this.uppy.getFile(this.queue.shift());return e?this.requestThumbnail(e).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(e){return nd(e.type)&&!e.isRemote?this.createThumbnail(e,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(n=>{this.setPreviewURL(e.id,n),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${e.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(e.id),n)}).catch(n=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${e.id}:`,"warning"),this.uppy.log(n,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(e.id),n)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}Zv.VERSION=QP.version;function Vf(t){if(typeof t=="string"){const e=document.querySelectorAll(t);return e.length===0?null:Array.from(e)}return typeof t=="object"&&$v(t)?[t]:null}const Nr=Array.from;function e0(t,e,n,r){let{onSuccess:i}=r;t.readEntries(s=>{const o=[...e,...s];s.length?queueMicrotask(()=>{e0(t,o,n,{onSuccess:i})}):i(o)},s=>{n(s),i(e)})}function t0(t,e){return t==null?t:{kind:t.isFile?"file":t.isDirectory?"directory":void 0,name:t.name,getFile(){return new Promise((n,r)=>t.file(n,r))},async*values(){const n=t.createReader();yield*await new Promise(i=>{e0(n,[],e,{onSuccess:s=>i(s.map(o=>t0(o,e)))})})},isSameEntry:void 0}}function n0(t,e,n){try{return n===void 0&&(n=void 0),async function*(){const r=()=>`${e}/${t.name}`;if(t.kind==="file"){const i=await t.getFile();i!=null?(i.relativePath=e?r():null,yield i):n!=null&&(yield n)}else if(t.kind==="directory")for await(const i of t.values())yield*n0(i,e?r():t.name);else n!=null&&(yield n)}()}catch(r){return Promise.reject(r)}}async function*ZP(t,e){const n=await Promise.all(Array.from(t.items,async r=>{var i;let s;const o=()=>typeof r.getAsEntry=="function"?r.getAsEntry():r.webkitGetAsEntry();return(i=s)!=null||(s=t0(o(),e)),{fileSystemHandle:s,lastResortFile:r.getAsFile()}}));for(const{lastResortFile:r,fileSystemHandle:i}of n)if(i!=null)try{yield*n0(i,"",r)}catch(s){r!=null?yield r:e(s)}else r!=null&&(yield r)}function e2(t){const e=Nr(t.files);return Promise.resolve(e)}async function r0(t,e){var n;const r=(n=e==null?void 0:e.logDropError)!=null?n:Function.prototype;try{const i=[];for await(const s of ZP(t,r))i.push(s);return i}catch{return e2(t)}}var i0={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,c,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,c||l,h),y=n?n+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],g]:l._events[y].push(g):(l._events[y]=g,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,c;if(this._eventsCount===0)return u;for(c in d=this._events)e.call(d,c)&&u.push(n?c.slice(1):c);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=n?n+u:u,c=this._events[d];if(!c)return[];if(c.fn)return[c.fn];for(var h=0,g=c.length,y=new Array(g);h<g;h++)y[h]=c[h].fn;return y},a.prototype.listenerCount=function(u){var d=n?n+u:u,c=this._events[d];return c?c.fn?1:c.length:0},a.prototype.emit=function(u,d,c,h,g,y){var b=n?n+u:u;if(!this._events[b])return!1;var S=this._events[b],m=arguments.length,f,v;if(S.fn){switch(S.once&&this.removeListener(u,S.fn,void 0,!0),m){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,d),!0;case 3:return S.fn.call(S.context,d,c),!0;case 4:return S.fn.call(S.context,d,c,h),!0;case 5:return S.fn.call(S.context,d,c,h,g),!0;case 6:return S.fn.call(S.context,d,c,h,g,y),!0}for(v=1,f=new Array(m-1);v<m;v++)f[v-1]=arguments[v];S.fn.apply(S.context,f)}else{var E=S.length,O;for(v=0;v<E;v++)switch(S[v].once&&this.removeListener(u,S[v].fn,void 0,!0),m){case 1:S[v].fn.call(S[v].context);break;case 2:S[v].fn.call(S[v].context,d);break;case 3:S[v].fn.call(S[v].context,d,c);break;case 4:S[v].fn.call(S[v].context,d,c,h);break;default:if(!f)for(O=1,f=new Array(m-1);O<m;O++)f[O-1]=arguments[O];S[v].fn.apply(S[v].context,f)}}return!0},a.prototype.on=function(u,d,c){return s(this,u,d,c,!1)},a.prototype.once=function(u,d,c){return s(this,u,d,c,!0)},a.prototype.removeListener=function(u,d,c,h){var g=n?n+u:u;if(!this._events[g])return this;if(!d)return o(this,g),this;var y=this._events[g];if(y.fn)y.fn===d&&(!h||y.once)&&(!c||y.context===c)&&o(this,g);else{for(var b=0,S=[],m=y.length;b<m;b++)(y[b].fn!==d||h&&!y[b].once||c&&y[b].context!==c)&&S.push(y[b]);S.length?this._events[g]=S.length===1?S[0]:S:o(this,g)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(i0);var t2=i0.exports;const n2=rt(t2);class s0 extends Error{constructor(e){super(e),this.name="TimeoutError"}}let r2=class extends Error{constructor(e){super(),this.name="AbortError",this.message=e}};const Gf=t=>globalThis.DOMException===void 0?new r2(t):new DOMException(t),Kf=t=>{const e=t.reason===void 0?Gf("This operation was aborted."):t.reason;return e instanceof Error?e:Gf(e)};function i2(t,e,n,r){let i;const s=new Promise((o,a)=>{if(typeof e!="number"||Math.sign(e)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${e}\``);if(e===Number.POSITIVE_INFINITY){o(t);return}if(r={customTimers:{setTimeout,clearTimeout},...r},r.signal){const{signal:l}=r;l.aborted&&a(Kf(l)),l.addEventListener("abort",()=>{a(Kf(l))})}i=r.customTimers.setTimeout.call(void 0,()=>{if(typeof n=="function"){try{o(n())}catch(d){a(d)}return}const l=typeof n=="string"?n:`Promise timed out after ${e} milliseconds`,u=n instanceof Error?n:new s0(l);typeof t.cancel=="function"&&t.cancel(),a(u)},e),(async()=>{try{o(await t)}catch(l){a(l)}finally{r.customTimers.clearTimeout.call(void 0,i)}})()});return s.clear=()=>{clearTimeout(i),i=void 0},s}function s2(t,e,n){let r=0,i=t.length;for(;i>0;){const s=Math.trunc(i/2);let o=r+s;n(t[o],e)<=0?(r=++o,i-=s+1):i=s}return r}var ir=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},gn;class o2{constructor(){gn.set(this,[])}enqueue(e,n){n={priority:0,...n};const r={priority:n.priority,run:e};if(this.size&&ir(this,gn,"f")[this.size-1].priority>=n.priority){ir(this,gn,"f").push(r);return}const i=s2(ir(this,gn,"f"),r,(s,o)=>o.priority-s.priority);ir(this,gn,"f").splice(i,0,r)}dequeue(){const e=ir(this,gn,"f").shift();return e==null?void 0:e.run}filter(e){return ir(this,gn,"f").filter(n=>n.priority===e.priority).map(n=>n.run)}get size(){return ir(this,gn,"f").length}}gn=new WeakMap;var ce=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},$=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},we,Ns,Rs,Mn,pl,Is,xa,Ut,ws,lt,Aa,ct,Ds,Ln,Ua,Qf,Yf,o0,Xf,Jf,Na,Ou,xu,hl,a0,Ra;let l0=class extends Error{};class a2 extends n2{constructor(e){var n,r,i,s;if(super(),we.add(this),Ns.set(this,void 0),Rs.set(this,void 0),Mn.set(this,0),pl.set(this,void 0),Is.set(this,void 0),xa.set(this,0),Ut.set(this,void 0),ws.set(this,void 0),lt.set(this,void 0),Aa.set(this,void 0),ct.set(this,0),Ds.set(this,void 0),Ln.set(this,void 0),Ua.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:o2,...e},!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(r=(n=e.intervalCap)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(s=(i=e.interval)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""}\` (${typeof e.interval})`);ce(this,Ns,e.carryoverConcurrencyCount,"f"),ce(this,Rs,e.intervalCap===Number.POSITIVE_INFINITY||e.interval===0,"f"),ce(this,pl,e.intervalCap,"f"),ce(this,Is,e.interval,"f"),ce(this,lt,new e.queueClass,"f"),ce(this,Aa,e.queueClass,"f"),this.concurrency=e.concurrency,this.timeout=e.timeout,ce(this,Ua,e.throwOnTimeout===!0,"f"),ce(this,Ln,e.autoStart===!1,"f")}get concurrency(){return $(this,Ds,"f")}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);ce(this,Ds,e,"f"),$(this,we,"m",hl).call(this)}async add(e,n={}){return n={timeout:this.timeout,throwOnTimeout:$(this,Ua,"f"),...n},new Promise((r,i)=>{$(this,lt,"f").enqueue(async()=>{var s,o,a;ce(this,ct,(o=$(this,ct,"f"),o++,o),"f"),ce(this,Mn,(a=$(this,Mn,"f"),a++,a),"f");try{if(!((s=n.signal)===null||s===void 0)&&s.aborted)throw new l0("The task was aborted.");let l=e({signal:n.signal});n.timeout&&(l=i2(Promise.resolve(l),n.timeout)),n.signal&&(l=Promise.race([l,$(this,we,"m",a0).call(this,n.signal)]));const u=await l;r(u),this.emit("completed",u)}catch(l){if(l instanceof s0&&!n.throwOnTimeout){r();return}i(l),this.emit("error",l)}finally{$(this,we,"m",o0).call(this)}},n),this.emit("add"),$(this,we,"m",Na).call(this)})}async addAll(e,n){return Promise.all(e.map(async r=>this.add(r,n)))}start(){return $(this,Ln,"f")?(ce(this,Ln,!1,"f"),$(this,we,"m",hl).call(this),this):this}pause(){ce(this,Ln,!0,"f")}clear(){ce(this,lt,new($(this,Aa,"f")),"f")}async onEmpty(){$(this,lt,"f").size!==0&&await $(this,we,"m",Ra).call(this,"empty")}async onSizeLessThan(e){$(this,lt,"f").size<e||await $(this,we,"m",Ra).call(this,"next",()=>$(this,lt,"f").size<e)}async onIdle(){$(this,ct,"f")===0&&$(this,lt,"f").size===0||await $(this,we,"m",Ra).call(this,"idle")}get size(){return $(this,lt,"f").size}sizeBy(e){return $(this,lt,"f").filter(e).length}get pending(){return $(this,ct,"f")}get isPaused(){return $(this,Ln,"f")}}Ns=new WeakMap,Rs=new WeakMap,Mn=new WeakMap,pl=new WeakMap,Is=new WeakMap,xa=new WeakMap,Ut=new WeakMap,ws=new WeakMap,lt=new WeakMap,Aa=new WeakMap,ct=new WeakMap,Ds=new WeakMap,Ln=new WeakMap,Ua=new WeakMap,we=new WeakSet,Qf=function(){return $(this,Rs,"f")||$(this,Mn,"f")<$(this,pl,"f")},Yf=function(){return $(this,ct,"f")<$(this,Ds,"f")},o0=function(){var e;ce(this,ct,(e=$(this,ct,"f"),e--,e),"f"),$(this,we,"m",Na).call(this),this.emit("next")},Xf=function(){$(this,we,"m",xu).call(this),$(this,we,"m",Ou).call(this),ce(this,ws,void 0,"f")},Jf=function(){const e=Date.now();if($(this,Ut,"f")===void 0){const n=$(this,xa,"f")-e;if(n<0)ce(this,Mn,$(this,Ns,"f")?$(this,ct,"f"):0,"f");else return $(this,ws,"f")===void 0&&ce(this,ws,setTimeout(()=>{$(this,we,"m",Xf).call(this)},n),"f"),!0}return!1},Na=function(){if($(this,lt,"f").size===0)return $(this,Ut,"f")&&clearInterval($(this,Ut,"f")),ce(this,Ut,void 0,"f"),this.emit("empty"),$(this,ct,"f")===0&&this.emit("idle"),!1;if(!$(this,Ln,"f")){const e=!$(this,we,"a",Jf);if($(this,we,"a",Qf)&&$(this,we,"a",Yf)){const n=$(this,lt,"f").dequeue();return n?(this.emit("active"),n(),e&&$(this,we,"m",Ou).call(this),!0):!1}}return!1},Ou=function(){$(this,Rs,"f")||$(this,Ut,"f")!==void 0||(ce(this,Ut,setInterval(()=>{$(this,we,"m",xu).call(this)},$(this,Is,"f")),"f"),ce(this,xa,Date.now()+$(this,Is,"f"),"f"))},xu=function(){$(this,Mn,"f")===0&&$(this,ct,"f")===0&&$(this,Ut,"f")&&(clearInterval($(this,Ut,"f")),ce(this,Ut,void 0,"f")),ce(this,Mn,$(this,Ns,"f")?$(this,ct,"f"):0,"f"),$(this,we,"m",hl).call(this)},hl=function(){for(;$(this,we,"m",Na).call(this););},a0=async function(e){return new Promise((n,r)=>{e.addEventListener("abort",()=>{r(new l0("The task was aborted."))},{once:!0})})},Ra=async function(e,n){return new Promise(r=>{const i=()=>{n&&!n()||(this.off(e,i),r())};this.on(e,i)})};function l2(){return p("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},p("g",{fill:"none","fill-rule":"evenodd"},p("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),p("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),p("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),p("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),p("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),p("path",{d:"M4 4h18v18H4z"})))}function u2(t){const{pluginName:e,pluginIcon:n,i18nArray:r,handleAuth:i}=t,s=e==="Google Drive",o=p("span",{className:"uppy-Provider-authTitleName"},e,p("br",null));return p("div",{className:"uppy-Provider-auth"},p("div",{className:"uppy-Provider-authIcon"},n()),p("div",{className:"uppy-Provider-authTitle"},r("authenticateWithTitle",{pluginName:o})),s?p("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google",onClick:i,"data-uppy-super-focusable":!0},p(l2,null),r("signInWithGoogle")):p("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn",onClick:i,"data-uppy-super-focusable":!0},r("authenticateWith",{pluginName:e})))}const c2=t=>{let{i18n:e,logout:n,username:r}=t;return[p("span",{className:"uppy-ProviderBrowser-user",key:"username"},r),p("button",{type:"button",onClick:n,className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowser-userLogout",key:"logout"},e("logOut"))]},d2=t=>{const{getFolder:e,title:n,isLast:r}=t;return p(en,null,p("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:e},n),r?"":" / ")},p2=t=>{const{getFolder:e,title:n,breadcrumbsIcon:r,breadcrumbs:i}=t;return p("div",{className:"uppy-Provider-breadcrumbs"},p("div",{className:"uppy-Provider-breadcrumbsIcon"},r),i.map((s,o)=>p(d2,{key:s.id,getFolder:()=>e(s.requestPath),title:o===0?n:s.name,isLast:o+1===i.length})))},h2=t=>{const e=[];return t.showBreadcrumbs&&e.push(p2({getFolder:t.getFolder,breadcrumbs:t.breadcrumbs,breadcrumbsIcon:t.pluginIcon&&t.pluginIcon(),title:t.title})),e.push(c2({logout:t.logout,username:t.username,i18n:t.i18n})),e};function u0(t){return{...t,type:t.mimeType,extension:t.name?xp(t.name).extension:null}}var go,be,Au,Zf,fl=0,c0=[],Ia=[],em=j.__b,tm=j.__r,nm=j.diffed,rm=j.__c,im=j.unmount;function jp(t,e){j.__h&&j.__h(be,t,fl||e),fl=0;var n=be.__H||(be.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:Ia}),n.__[t]}function ml(t){return fl=1,f2(h0,t)}function f2(t,e,n){var r=jp(go++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):h0(void 0,e),function(a){var l=r.__N?r.__N[0]:r.__[0],u=r.t(l,a);l!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=be,!be.u)){var i=function(a,l,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(h){return h.__c});if(d.every(function(h){return!h.__N}))return!s||s.call(this,a,l,u);var c=!1;return d.forEach(function(h){if(h.__N){var g=h.__[0];h.__=h.__N,h.__N=void 0,g!==h.__[0]&&(c=!0)}}),!(!c&&r.__c.props===a)&&(!s||s.call(this,a,l,u))};be.u=!0;var s=be.shouldComponentUpdate,o=be.componentWillUpdate;be.componentWillUpdate=function(a,l,u){if(this.__e){var d=s;s=void 0,i(a,l,u),s=d}o&&o.call(this,a,l,u)},be.shouldComponentUpdate=i}return r.__N||r.__}function d0(t,e){var n=jp(go++,3);!j.__s&&p0(n.__H,e)&&(n.__=t,n.i=e,be.__H.__h.push(n))}function Hp(t,e){var n=jp(go++,7);return p0(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function ld(t,e){return fl=8,Hp(function(){return t},e)}function m2(){for(var t;t=c0.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Da),t.__H.__h.forEach(ud),t.__H.__h=[]}catch(e){t.__H.__h=[],j.__e(e,t.__v)}}j.__b=function(t){be=null,em&&em(t)},j.__r=function(t){tm&&tm(t),go=0;var e=(be=t.__c).__H;e&&(Au===be?(e.__h=[],be.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Ia,n.__N=n.i=void 0})):(e.__h.forEach(Da),e.__h.forEach(ud),e.__h=[],go=0)),Au=be},j.diffed=function(t){nm&&nm(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(c0.push(e)!==1&&Zf===j.requestAnimationFrame||((Zf=j.requestAnimationFrame)||g2)(m2)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Ia&&(n.__=n.__V),n.i=void 0,n.__V=Ia})),Au=be=null},j.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Da),n.__h=n.__h.filter(function(r){return!r.__||ud(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],j.__e(r,n.__v)}}),rm&&rm(t,e)},j.unmount=function(t){im&&im(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Da(r)}catch(i){e=i}}),n.__H=void 0,e&&j.__e(e,n.__v))};var sm=typeof requestAnimationFrame=="function";function g2(t){var e,n=function(){clearTimeout(r),sm&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);sm&&(e=requestAnimationFrame(n))}function Da(t){var e=be,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),be=e}function ud(t){var e=be;t.__c=t.__(),be=e}function p0(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function h0(t,e){return typeof e=="function"?e(t):e}function cd(){return cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cd.apply(this,arguments)}const y2={position:"relative",width:"100%",minHeight:"100%"},v2={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};class f0 extends Wt{constructor(e){super(e),this.handleScroll=()=>{this.setState({offset:this.base.scrollTop})},this.handleResize=()=>{this.resize()},this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){const{height:e}=this.state;e!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render(e){let{data:n,rowHeight:r,renderRow:i,overscanCount:s=10,...o}=e;const{offset:a,height:l}=this.state;let u=Math.floor(a/r),d=Math.floor(l/r);s&&(u=Math.max(0,u-u%s),d+=s);const c=u+d+4,h=n.slice(u,c),g={...y2,height:n.length*r},y={...v2,top:u*r};return p("div",cd({onScroll:this.handleScroll},o),p("div",{role:"presentation",style:g},p("div",{role:"presentation",style:y},h.map(i))))}}function m0(t){const{search:e,searchOnInput:n,searchTerm:r,showButton:i,inputLabel:s,clearSearchLabel:o,buttonLabel:a,clearSearch:l,inputClassName:u,buttonCSSClassName:d}=t,[c,h]=ml(r??""),g=ld(m=>{m.preventDefault(),e(c)},[e,c]),y=ld(m=>{const f=m.target.value;h(f),n&&e(f)},[h,n,e]),b=()=>{h(""),l&&l()},[S]=ml(()=>{const m=document.createElement("form");return m.setAttribute("tabindex","-1"),m.id=Dl(),m});return d0(()=>(document.body.appendChild(S),S.addEventListener("submit",g),()=>{S.removeEventListener("submit",g),document.body.removeChild(S)}),[S,g]),p(en,null,p("input",{className:`uppy-u-reset ${u}`,type:"search","aria-label":s,placeholder:s,value:c,onInput:y,form:S.id,"data-uppy-super-focusable":!0}),!i&&p("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon uppy-ProviderBrowser-searchFilterIcon",width:"12",height:"12",viewBox:"0 0 12 12"},p("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),!i&&c&&p("button",{className:"uppy-u-reset uppy-ProviderBrowser-searchFilterReset",type:"button","aria-label":o,title:o,onClick:b},p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19"},p("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))),i&&p("button",{className:`uppy-u-reset uppy-c-btn uppy-c-btn-primary ${d}`,type:"submit",form:S.id},a))}const w2=t=>{let{cancel:e,done:n,i18n:r,selected:i}=t;return p("div",{className:"uppy-ProviderBrowser-footer"},p("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onClick:n,type:"button"},r("selectX",{smart_count:i})),p("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:e,type:"button"},r("cancel")))};function b2(){return p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},p("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}function _2(){return p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},p("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))}function S2(){return p("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},p("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),p("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}const P2=t=>{const{itemIconString:e}=t;if(e!==null)switch(e){case"file":return p(b2,null);case"folder":return p(_2,null);case"video":return p(S2,null);default:{const{alt:n}=t;return p("img",{src:e,alt:n,loading:"lazy",width:16,height:16})}}};function om(t){const{className:e,isDisabled:n,restrictionError:r,isChecked:i,title:s,itemIconEl:o,showTitles:a,toggleCheckbox:l,recordShiftKeyPress:u,id:d,children:c}=t,h=Qe("uppy-u-reset","uppy-ProviderBrowserItem-checkbox","uppy-ProviderBrowserItem-checkbox--grid",{"uppy-ProviderBrowserItem-checkbox--is-checked":i});return p("li",{className:e,title:n?r==null?void 0:r.message:null},p("input",{type:"checkbox",className:h,onChange:l,onKeyDown:u,onMouseDown:u,name:"listitem",id:d,checked:i,disabled:n,"data-uppy-super-focusable":!0}),p("label",{htmlFor:d,"aria-label":s,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},o,a&&s,c))}function E2(t){const{className:e,isDisabled:n,restrictionError:r,isCheckboxDisabled:i,isChecked:s,toggleCheckbox:o,recordShiftKeyPress:a,type:l,id:u,itemIconEl:d,title:c,handleFolderClick:h,showTitles:g,i18n:y}=t;return p("li",{className:e,title:n?r==null?void 0:r.message:null},i?null:p("input",{type:"checkbox",className:`uppy-u-reset uppy-ProviderBrowserItem-checkbox ${s?"uppy-ProviderBrowserItem-checkbox--is-checked":""}`,onChange:o,onKeyDown:a,onMouseDown:a,name:"listitem",id:u,checked:s,"aria-label":l==="file"?null:y("allFilesFromFolderNamed",{name:c}),disabled:n,"data-uppy-super-focusable":!0}),l==="file"?p("label",{htmlFor:u,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},p("div",{className:"uppy-ProviderBrowserItem-iconWrap"},d),g&&c):p("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowserItem-inner",onClick:h,"aria-label":y("openFolderNamed",{name:c})},p("div",{className:"uppy-ProviderBrowserItem-iconWrap"},d),g&&p("span",null,c)))}function Ls(){return Ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ls.apply(this,arguments)}const am=t=>{const{author:e,getItemIcon:n,isChecked:r,isDisabled:i,viewType:s}=t,o=n(),a=Qe("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":r},{"uppy-ProviderBrowserItem--disabled":i},{"uppy-ProviderBrowserItem--noPreview":o==="video"}),l=p(P2,{itemIconString:o});switch(s){case"grid":return p(om,Ls({},t,{className:a,itemIconEl:l}));case"list":return p(E2,Ls({},t,{className:a,itemIconEl:l}));case"unsplash":return p(om,Ls({},t,{className:a,itemIconEl:l}),p("a",{href:`${e.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author",tabIndex:"-1"},e.name));default:throw new Error(`There is no such type ${s}`)}},k2="shared-with-me";function lm(t){const{currentSelection:e,uppyFiles:n,viewType:r,isChecked:i,toggleCheckbox:s,recordShiftKeyPress:o,showTitles:a,i18n:l,validateRestrictions:u,getNextFolder:d,columns:c,f:h}=t;if(h.isFolder){var g;return am({columns:c,showTitles:a,viewType:r,i18n:l,id:h.id,title:h.name,getItemIcon:()=>h.icon,isChecked:i(h),toggleCheckbox:b=>s(b,h),recordShiftKeyPress:o,type:"folder",isDisabled:(g=i(h))==null?void 0:g.loading,isCheckboxDisabled:h.id===k2,handleFolderClick:()=>d(h)})}const y=u(u0(h),[...n,...e]);return am({id:h.id,title:h.name,author:h.author,getItemIcon:()=>h.icon,isChecked:i(h),toggleCheckbox:b=>s(b,h),recordShiftKeyPress:o,columns:c,showTitles:a,viewType:r,i18n:l,type:"file",isDisabled:y&&!i(h),restrictionError:y})}function g0(t){const{currentSelection:e,folders:n,files:r,uppyFiles:i,viewType:s,headerComponent:o,showBreadcrumbs:a,isChecked:l,toggleCheckbox:u,recordShiftKeyPress:d,handleScroll:c,showTitles:h,i18n:g,validateRestrictions:y,isLoading:b,showSearchFilter:S,search:m,searchTerm:f,clearSearch:v,searchOnInput:E,searchInputLabel:O,clearSearchLabel:x,getNextFolder:C,cancel:A,done:R,columns:B,noResultsLabel:J,loadAllFiles:Se}=t,Z=e.length,te=Hp(()=>[...n,...r],[n,r]);return p("div",{className:Qe("uppy-ProviderBrowser",`uppy-ProviderBrowser-viewType--${s}`)},o&&p("div",{className:"uppy-ProviderBrowser-header"},p("div",{className:Qe("uppy-ProviderBrowser-headerBar",!a&&"uppy-ProviderBrowser-headerBar--simple")},o)),S&&p("div",{class:"uppy-ProviderBrowser-searchFilter"},p(m0,{search:m,searchTerm:f,clearSearch:v,inputLabel:O,clearSearchLabel:x,inputClassName:"uppy-ProviderBrowser-searchFilterInput",searchOnInput:E})),(()=>b?p("div",{className:"uppy-Provider-loading"},p("span",null,g("loading"))):!n.length&&!r.length?p("div",{className:"uppy-Provider-empty"},J):Se?p("div",{className:"uppy-ProviderBrowser-body"},p("ul",{className:"uppy-ProviderBrowser-list"},p(f0,{data:te,renderRow:X=>p(lm,{currentSelection:e,uppyFiles:i,viewType:s,isChecked:l,toggleCheckbox:u,recordShiftKeyPress:d,showTitles:h,i18n:g,validateRestrictions:y,getNextFolder:C,columns:B,f:X}),rowHeight:31}))):p("div",{className:"uppy-ProviderBrowser-body"},p("ul",{className:"uppy-ProviderBrowser-list",onScroll:c,role:"listbox",tabIndex:"-1"},te.map(X=>p(lm,{currentSelection:e,uppyFiles:i,viewType:s,isChecked:l,toggleCheckbox:u,recordShiftKeyPress:d,showTitles:h,i18n:g,validateRestrictions:y,getNextFolder:C,columns:B,f:X})))))(),Z>0&&p(w2,{selected:Z,done:R,cancel:A,i18n:g}))}const C2=t=>{let{i18n:e,loading:n}=t;return p("div",{className:"uppy-Provider-loading"},p("span",null,e("loading")),typeof n=="string"&&p("span",{style:{marginTop:".7em"}},n))};class $s extends Wt{componentWillUnmount(){const{onUnmount:e}=this.props;e()}render(){const{children:e}=this.props;return wn(e)[0]}}class y0{constructor(e,n){this.filterItems=r=>{const i=this.plugin.getPluginState();return!i.filterInput||i.filterInput===""?r:r.filter(s=>s.name.toLowerCase().indexOf(i.filterInput.toLowerCase())!==-1)},this.recordShiftKeyPress=r=>{this.isShiftKeyPressed=r.shiftKey},this.toggleCheckbox=(r,i)=>{r.stopPropagation(),r.preventDefault(),r.currentTarget.focus();const{folders:s,files:o}=this.plugin.getPluginState(),a=this.filterItems(s.concat(o));if(this.lastCheckbox&&this.isShiftKeyPressed){const{currentSelection:u}=this.plugin.getPluginState(),d=a.indexOf(this.lastCheckbox),c=a.indexOf(i),h=d<c?a.slice(d,c+1):a.slice(c,d+1),g=[];for(const y of h){const{uppy:b}=this.plugin,S=b.validateRestrictions(u0(y),[...b.getFiles(),...g]);S?b.info({message:S.message},"error",b.opts.infoTimeout):g.push(y)}this.plugin.setPluginState({currentSelection:[...new Set([...u,...g])]});return}this.lastCheckbox=i;const{currentSelection:l}=this.plugin.getPluginState();this.isChecked(i)?this.plugin.setPluginState({currentSelection:l.filter(u=>u.id!==i.id)}):this.plugin.setPluginState({currentSelection:l.concat([i])})},this.isChecked=r=>{const{currentSelection:i}=this.plugin.getPluginState();return i.some(s=>s.id===r.id)},this.plugin=e,this.provider=n.provider,this.isHandlingScroll=!1,this.preFirstRender=this.preFirstRender.bind(this),this.handleError=this.handleError.bind(this),this.clearSelection=this.clearSelection.bind(this),this.cancelPicking=this.cancelPicking.bind(this)}preFirstRender(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender()}shouldHandleScroll(e){const{scrollHeight:n,scrollTop:r,offsetHeight:i}=e.target;return n-(r+i)<50&&!this.isHandlingScroll}clearSelection(){this.plugin.setPluginState({currentSelection:[],filterInput:""})}cancelPicking(){this.clearSelection();const e=this.plugin.uppy.getPlugin("Dashboard");e&&e.hideAllPanels()}handleError(e){var n;const{uppy:r}=this.plugin,i=r.i18n("companionError");r.log(e.toString()),!(e.isAuthError||((n=e.cause)==null?void 0:n.name)==="AbortError")&&r.info({message:i,details:e.toString()},"error",5e3)}getTagFile(e){const n={id:e.id,source:this.plugin.id,data:e,name:e.name||e.id,type:e.mimeType,isRemote:!0,meta:{},body:{fileId:e.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:`${this.provider.fileUrl(e.requestPath)}`,body:{fileId:e.id},providerName:this.provider.name,provider:this.provider.provider}};Object.defineProperty(n.remote,"requestClient",{value:this.provider,enumerable:!1});const r=Ap(n);return r&&nd(r)&&(n.preview=e.thumbnail),e.author&&(e.author.name!=null&&(n.meta.authorName=String(e.author.name)),e.author.url&&(n.meta.authorUrl=e.author.url)),e.relDirPath!=null&&(n.meta.relativePath=e.relDirPath?`${e.relDirPath}/${n.name}`:null),e.absDirPath!=null&&(n.meta.absolutePath=e.absDirPath?`/${e.absDirPath}/${n.name}`:`/${n.name}`),n}setLoading(e){this.plugin.setPluginState({loading:e})}}function ft(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var F2=0;function Ro(t){return"__private_"+F2+++"_"+t}const T2={version:"3.7.0"};function O2(t){return t.slice(1).map(e=>e.name).join("/")}function dd(t,e){return t?`${t}/${e}`:e}function v0(){return p("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},p("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}var gr=Ro("abortController"),ln=Ro("withAbort"),yo=Ro("list"),Ji=Ro("listFilesAndFolders"),Bs=Ro("recursivelyListAllFiles");class Io extends y0{constructor(e,n){super(e,n),Object.defineProperty(this,Bs,{value:N2}),Object.defineProperty(this,Ji,{value:U2}),Object.defineProperty(this,yo,{value:A2}),Object.defineProperty(this,ln,{value:x2}),Object.defineProperty(this,gr,{writable:!0,value:void 0});const r={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0,loadAllFiles:!1};this.opts={...r,...n},this.filterQuery=this.filterQuery.bind(this),this.clearFilter=this.clearFilter.bind(this),this.getFolder=this.getFolder.bind(this),this.getNextFolder=this.getNextFolder.bind(this),this.logout=this.logout.bind(this),this.handleAuth=this.handleAuth.bind(this),this.handleScroll=this.handleScroll.bind(this),this.donePicking=this.donePicking.bind(this),this.render=this.render.bind(this),this.plugin.setPluginState({authenticated:!1,files:[],folders:[],breadcrumbs:[],filterInput:"",isSearchVisible:!1,currentSelection:[]})}tearDown(){}async getFolder(e,n){this.setLoading(!0);try{await ft(this,ln)[ln](async r=>{this.lastCheckbox=void 0;let{breadcrumbs:i}=this.plugin.getPluginState();const s=i.findIndex(l=>e===l.requestPath);s!==-1?i=i.slice(0,s+1):i=[...i,{requestPath:e,name:n}],this.nextPagePath=e;let o=[],a=[];do{const{files:l,folders:u}=await ft(this,Ji)[Ji]({breadcrumbs:i,signal:r});o=o.concat(l),a=a.concat(u),this.setLoading(this.plugin.uppy.i18n("loadedXFiles",{numFiles:o.length+a.length}))}while(this.opts.loadAllFiles&&this.nextPagePath);this.plugin.setPluginState({folders:a,files:o,breadcrumbs:i,filterInput:""})})}catch(r){this.handleError(r)}finally{this.setLoading(!1)}}getNextFolder(e){this.getFolder(e.requestPath,e.name),this.lastCheckbox=void 0}async logout(){try{await ft(this,ln)[ln](async e=>{const n=await this.provider.logout({signal:e});if(n.ok){if(!n.revoked){const i=this.plugin.uppy.i18n("companionUnauthorizeHint",{provider:this.plugin.title,url:n.manual_revoke_url});this.plugin.uppy.info(i,"info",7e3)}const r={authenticated:!1,files:[],folders:[],breadcrumbs:[],filterInput:""};this.plugin.setPluginState(r)}})}catch(e){this.handleError(e)}}filterQuery(e){this.plugin.setPluginState({filterInput:e})}clearFilter(){this.plugin.setPluginState({filterInput:""})}async handleAuth(){const e=`@uppy/provider-views=${Io.VERSION}`;try{await this.provider.login({uppyVersions:e}),this.plugin.setPluginState({authenticated:!0}),this.preFirstRender()}catch(n){this.plugin.uppy.log(`login failed: ${n.message}`)}}async handleScroll(e){if(this.shouldHandleScroll(e)&&this.nextPagePath){this.isHandlingScroll=!0;try{await ft(this,ln)[ln](async n=>{const{files:r,folders:i,breadcrumbs:s}=this.plugin.getPluginState(),{files:o,folders:a}=await ft(this,Ji)[Ji]({breadcrumbs:s,signal:n}),l=r.concat(o),u=i.concat(a);this.plugin.setPluginState({folders:u,files:l})})}catch(n){this.handleError(n)}finally{this.isHandlingScroll=!1}}}async donePicking(){this.setLoading(!0);try{await ft(this,ln)[ln](async e=>{const{currentSelection:n}=this.plugin.getPluginState(),r=[],i=[];for(const s of n){const{requestPath:o}=s,a=l=>({...l,relDirPath:l.absDirPath.replace(s.absDirPath,"").replace(/^\//,"")});if(s.isFolder){let l=!0,u=0;const d=new a2({concurrency:6}),c=g=>{for(const y of g){const b=this.getTagFile(y),S=Pv(b);this.plugin.uppy.checkIfFileAlreadyExists(S)||(i.push(a(y)),u++,this.setLoading(this.plugin.uppy.i18n("addedNumFiles",{numFiles:u}))),l=!1}};await ft(this,Bs)[Bs]({requestPath:o,absDirPath:dd(s.absDirPath,s.name),relDirPath:s.name,queue:d,onFiles:c,signal:e}),await d.onIdle();let h;l?h=this.plugin.uppy.i18n("emptyFolderAdded"):u===0?h=this.plugin.uppy.i18n("folderAlreadyAdded",{folder:s.name}):h=this.plugin.uppy.i18n("folderAdded",{smart_count:u,folder:s.name}),r.push(h)}else i.push(a(s))}this.plugin.uppy.log("Adding files from a remote provider"),this.plugin.uppy.addFiles(i.map(s=>this.getTagFile(s))),this.plugin.setPluginState({filterInput:""}),r.forEach(s=>this.plugin.uppy.info(s)),this.clearSelection()})}catch(e){this.handleError(e)}finally{this.setLoading(!1)}}render(e,n){var r=this;n===void 0&&(n={});const{authenticated:i,didFirstRender:s}=this.plugin.getPluginState(),{i18n:o}=this.plugin.uppy;s||this.preFirstRender();const a={...this.opts,...n},{files:l,folders:u,filterInput:d,loading:c,currentSelection:h}=this.plugin.getPluginState(),{isChecked:g,toggleCheckbox:y,recordShiftKeyPress:b,filterItems:S}=this,m=d!=="",f=this.plugin.icon||v0,v={showBreadcrumbs:a.showBreadcrumbs,getFolder:this.getFolder,breadcrumbs:this.plugin.getPluginState().breadcrumbs,pluginIcon:f,title:this.plugin.title,logout:this.logout,username:this.username,i18n:o},E={isChecked:g,toggleCheckbox:y,recordShiftKeyPress:b,currentSelection:h,files:m?S(l):l,folders:m?S(u):u,username:this.username,getNextFolder:this.getNextFolder,getFolder:this.getFolder,loadAllFiles:this.opts.loadAllFiles,showSearchFilter:a.showFilter,search:this.filterQuery,clearSearch:this.clearFilter,searchTerm:d,searchOnInput:!0,searchInputLabel:o("filter"),clearSearchLabel:o("resetFilter"),noResultsLabel:o("noFilesFound"),logout:this.logout,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,headerComponent:h2(v),title:this.plugin.title,viewType:a.viewType,showTitles:a.showTitles,showBreadcrumbs:a.showBreadcrumbs,pluginIcon:f,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){return r.plugin.uppy.validateRestrictions(...arguments)}};return c?p($s,{onUnmount:this.clearSelection},p(C2,{i18n:this.plugin.uppy.i18n,loading:c})):i?p($s,{onUnmount:this.clearSelection},p(g0,E)):p($s,{onUnmount:this.clearSelection},p(u2,{pluginName:this.plugin.title,pluginIcon:f,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18n,i18nArray:this.plugin.uppy.i18nArray}))}}async function x2(t){var e;(e=ft(this,gr)[gr])==null||e.abort();const n=new AbortController;ft(this,gr)[gr]=n;const r=()=>{n.abort(),this.clearSelection()};try{this.plugin.uppy.on("dashboard:close-panel",r),this.plugin.uppy.on("cancel-all",r),await t(n.signal)}finally{this.plugin.uppy.off("dashboard:close-panel",r),this.plugin.uppy.off("cancel-all",r),ft(this,gr)[gr]=void 0}}async function A2(t){let{requestPath:e,absDirPath:n,signal:r}=t;const{username:i,nextPagePath:s,items:o}=await this.provider.list(e,{signal:r});return this.username=i||this.username,{items:o.map(a=>({...a,absDirPath:n})),nextPagePath:s}}async function U2(t){let{breadcrumbs:e,signal:n}=t;const r=O2(e),{items:i,nextPagePath:s}=await ft(this,yo)[yo]({requestPath:this.nextPagePath,absDirPath:r,signal:n});this.nextPagePath=s;const o=[],a=[];return i.forEach(l=>{l.isFolder?a.push(l):o.push(l)}),{files:o,folders:a}}async function N2(t){let{requestPath:e,absDirPath:n,relDirPath:r,queue:i,onFiles:s,signal:o}=t,a=e;for(;a;){const l=await ft(this,yo)[yo]({requestPath:a,absDirPath:n,signal:o});a=l.nextPagePath;const u=l.items.filter(h=>!h.isFolder),d=l.items.filter(h=>h.isFolder);s(u);const c=d.map(async h=>i.add(async()=>ft(this,Bs)[Bs]({requestPath:h.requestPath,absDirPath:dd(n,h.name),relDirPath:dd(r,h.name),queue:i,onFiles:s,signal:o})));await Promise.all(c)}}Io.VERSION=T2.version;function um(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var R2=0;function I2(t){return"__private_"+R2+++"_"+t}const D2={version:"3.7.0"};var Zi=I2("updateFilesAndInputMode");class L2 extends y0{constructor(e,n){super(e,n),Object.defineProperty(this,Zi,{value:$2});const r={viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1};this.opts={...r,...n},this.search=this.search.bind(this),this.clearSearch=this.clearSearch.bind(this),this.resetPluginState=this.resetPluginState.bind(this),this.handleScroll=this.handleScroll.bind(this),this.donePicking=this.donePicking.bind(this),this.render=this.render.bind(this),this.defaultState={isInputMode:!0,files:[],folders:[],breadcrumbs:[],filterInput:"",currentSelection:[],searchTerm:null},this.plugin.setPluginState(this.defaultState)}tearDown(){}resetPluginState(){this.plugin.setPluginState(this.defaultState)}async search(e){const{searchTerm:n}=this.plugin.getPluginState();if(!(e&&e===n)){this.setLoading(!0);try{const r=await this.provider.search(e);um(this,Zi)[Zi](r,[])}catch(r){this.handleError(r)}finally{this.setLoading(!1)}}}clearSearch(){this.plugin.setPluginState({currentSelection:[],files:[],searchTerm:null})}async handleScroll(e){const n=this.nextPageQuery||null;if(this.shouldHandleScroll(e)&&n){this.isHandlingScroll=!0;try{const{files:r,searchTerm:i}=this.plugin.getPluginState(),s=await this.provider.search(i,n);um(this,Zi)[Zi](s,r)}catch(r){this.handleError(r)}finally{this.isHandlingScroll=!1}}}donePicking(){const{currentSelection:e}=this.plugin.getPluginState();this.plugin.uppy.log("Adding remote search provider files"),this.plugin.uppy.addFiles(e.map(n=>this.getTagFile(n))),this.resetPluginState()}render(e,n){var r=this;n===void 0&&(n={});const{didFirstRender:i,isInputMode:s,searchTerm:o}=this.plugin.getPluginState(),{i18n:a}=this.plugin.uppy;i||this.preFirstRender();const l={...this.opts,...n},{files:u,folders:d,filterInput:c,loading:h,currentSelection:g}=this.plugin.getPluginState(),{isChecked:y,toggleCheckbox:b,filterItems:S,recordShiftKeyPress:m}=this,f=c!=="",v={isChecked:y,toggleCheckbox:b,recordShiftKeyPress:m,currentSelection:g,files:f?S(u):u,folders:f?S(d):d,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,showSearchFilter:l.showFilter,search:this.search,clearSearch:this.clearSearch,searchTerm:o,searchOnInput:!1,searchInputLabel:a("search"),clearSearchLabel:a("resetSearch"),noResultsLabel:a("noSearchResults"),title:this.plugin.title,viewType:l.viewType,showTitles:l.showTitles,showFilter:l.showFilter,isLoading:h,showBreadcrumbs:l.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:a,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){return r.plugin.uppy.validateRestrictions(...arguments)}};return s?p($s,{onUnmount:this.resetPluginState},p("div",{className:"uppy-SearchProvider"},p(m0,{search:this.search,clearSelection:this.clearSelection,inputLabel:a("enterTextToSearch"),buttonLabel:a("searchImages"),inputClassName:"uppy-c-textInput uppy-SearchProvider-input",buttonCSSClassName:"uppy-SearchProvider-searchButton",showButton:!0}))):p($s,{onUnmount:this.resetPluginState},p(g0,v))}}function $2(t,e){this.nextPageQuery=t.nextPageQuery,t.items.forEach(n=>{e.push(n)}),this.plugin.setPluginState({currentSelection:[],isInputMode:!1,files:e,searchTerm:t.searchedFor})}L2.VERSION=D2.version;var cm=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function B2(t,e){return!!(t===e||cm(t)&&cm(e))}function M2(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!B2(t[n],e[n]))return!1;return!0}function dm(t,e){e===void 0&&(e=M2);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}const w0=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function b0(t,e){if(e){const n=t.querySelector(`[data-uppy-paneltype="${e}"]`);if(n)return n}return t}function pm(t,e){const n=e[0];n&&(n.focus(),t.preventDefault())}function z2(t,e){const n=e[e.length-1];n&&(n.focus(),t.preventDefault())}function j2(t){return t.contains(document.activeElement)}function _0(t,e,n){const r=b0(n,e),i=Nr(r.querySelectorAll(w0)),s=i.indexOf(document.activeElement);j2(r)?t.shiftKey&&s===0?z2(t,i):!t.shiftKey&&s===i.length-1&&pm(t,i):pm(t,i)}function H2(t,e,n){e===null||_0(t,e,n)}function W2(){let t=!1;return rS((n,r)=>{const i=b0(n,r),s=i.contains(document.activeElement);if(s&&t)return;const o=i.querySelector("[data-uppy-super-focusable]");if(!(s&&!o))if(o)o.focus({preventScroll:!0}),t=!0;else{const a=i.querySelector(w0);a==null||a.focus({preventScroll:!0}),t=!1}},260)}function S0(){const t=document.body;return!(!("draggable"in t)||!("ondragstart"in t&&"ondrop"in t)||!("FormData"in window)||!("FileReader"in window))}var q2=function(e,n){if(e===n)return!0;for(var r in e)if(!(r in n))return!1;for(var r in n)if(e[r]!==n[r])return!1;return!0};const V2=rt(q2);function G2(){return p("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},p("g",{fill:"#686DE0",fillRule:"evenodd"},p("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),p("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),p("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}function K2(){return p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},p("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))}function Q2(){return p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},p("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))}function Y2(){return p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},p("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))}function X2(){return p("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},p("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}function J2(){return p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},p("g",{fill:"#A7AFB7",fillRule:"nonzero"},p("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),p("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))}function Z2(){return p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},p("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))}function Wp(t){const e={color:"#838999",icon:J2()};if(!t)return e;const n=t.split("/")[0],r=t.split("/")[1];return n==="text"?{color:"#5a5e69",icon:Z2()}:n==="image"?{color:"#686de0",icon:G2()}:n==="audio"?{color:"#068dbb",icon:K2()}:n==="video"?{color:"#19af67",icon:Q2()}:n==="application"&&r==="pdf"?{color:"#e25149",icon:Y2()}:n==="application"&&["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(r)!==-1?{color:"#00C469",icon:X2()}:e}function P0(t){const{file:e}=t;if(e.preview)return p("img",{className:"uppy-Dashboard-Item-previewImg",alt:e.name,src:e.preview});const{color:n,icon:r}=Wp(e.type);return p("div",{className:"uppy-Dashboard-Item-previewIconWrap"},p("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:n}},r),p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},p("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}const e5=(t,e)=>(typeof e=="function"?e():e).filter(i=>i.id===t)[0].name;function E0(t){const{file:e,toggleFileCard:n,i18n:r,metaFields:i}=t,{missingRequiredMetaFields:s}=e;if(!(s!=null&&s.length))return null;const o=s.map(a=>e5(a,i)).join(", ");return p("div",{className:"uppy-Dashboard-Item-errorMessage"},r("missingRequiredMetaFields",{smart_count:s.length,fields:o})," ",p("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>n(!0,e.id)},r("editFile")))}function t5(t){const{file:e,i18n:n,toggleFileCard:r,metaFields:i,showLinkToFileUploadResult:s}=t,o="rgba(255, 255, 255, 0.5)",a=e.preview?o:Wp(t.file.type).color;return p("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:a}},s&&e.uploadURL&&p("a",{className:"uppy-Dashboard-Item-previewLink",href:e.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.meta.name},p("span",{hidden:!0},e.meta.name)),p(P0,{file:e}),p(E0,{file:e,i18n:n,toggleFileCard:r,metaFields:i}))}function n5(t){if(!t.isUploaded){if(t.error&&!t.hideRetryButton){t.uppy.retryUpload(t.file.id);return}t.resumableUploads&&!t.hidePauseResumeButton?t.uppy.pauseResume(t.file.id):t.individualCancellation&&!t.hideCancelButton&&t.uppy.removeFile(t.file.id)}}function hm(t){return t.isUploaded?t.i18n("uploadComplete"):t.error?t.i18n("retryUpload"):t.resumableUploads?t.file.isPaused?t.i18n("resumeUpload"):t.i18n("pauseUpload"):t.individualCancellation?t.i18n("cancelUpload"):""}function Uu(t){return p("div",{className:"uppy-Dashboard-Item-progress"},p("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":hm(t),title:hm(t),onClick:()=>n5(t)},t.children))}function ca(t){let{children:e}=t;return p("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},e)}function Nu(t){let{progress:e}=t;const n=2*Math.PI*15;return p("g",null,p("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),p("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":n,"stroke-dashoffset":n-n/100*e}))}function r5(t){if(!t.file.progress.uploadStarted)return null;if(t.isUploaded)return p("div",{className:"uppy-Dashboard-Item-progress"},p("div",{className:"uppy-Dashboard-Item-progressIndicator"},p(ca,null,p("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),p("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"}))));if(!t.recoveredState)return t.error&&!t.hideRetryButton?p(Uu,t,p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},p("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),p("path",{d:"M7.9 3H10v2H7.9z"}),p("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),p("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):t.resumableUploads&&!t.hidePauseResumeButton?p(Uu,t,p(ca,null,p(Nu,{progress:t.file.progress.percentage}),t.file.isPaused?p("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):p("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},p("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),p("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):!t.resumableUploads&&t.individualCancellation&&!t.hideCancelButton?p(Uu,t,p(ca,null,p(Nu,{progress:t.file.progress.percentage}),p("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):p("div",{className:"uppy-Dashboard-Item-progress"},p("div",{className:"uppy-Dashboard-Item-progressIndicator"},p(ca,null,p(Nu,{progress:t.file.progress.percentage}))))}var i5=function(e){if(typeof e!="number"||isNaN(e))throw new TypeError("Expected a number, got "+typeof e);var n=e<0,r=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(n&&(e=-e),e<1)return(n?"-":"")+e+" B";var i=Math.min(Math.floor(Math.log(e)/Math.log(1024)),r.length-1);e=Number(e/Math.pow(1024,i));var s=r[i];return e>=10||e%1===0?(n?"-":"")+e.toFixed(0)+" "+s:(n?"-":"")+e.toFixed(1)+" "+s};const s5=rt(i5),Ru="...";function k0(t,e){if(e===0)return"";if(t.length<=e)return t;if(e<=Ru.length+1)return`${t.slice(0,e-1)}`;const n=e-Ru.length,r=Math.ceil(n/2),i=Math.floor(n/2);return t.slice(0,r)+Ru+t.slice(-i)}const o5=t=>{const{author:e,name:n}=t.file.meta;function r(){return t.isSingleFile&&t.containerHeight>=350?90:t.containerWidth<=352?35:t.containerWidth<=576?60:e?20:30}return p("div",{className:"uppy-Dashboard-Item-name",title:n},k0(n,r()))},a5=t=>{const{author:e}=t.file.meta,{providerName:n}=t.file.remote,r="";return e?p("div",{className:"uppy-Dashboard-Item-author"},p("a",{href:`${e.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer"},k0(e.name,13)),n?p(en,null,` ${r} `,n,` ${r} `):null):null},l5=t=>t.file.size&&p("div",{className:"uppy-Dashboard-Item-statusSize"},s5(t.file.size)),u5=t=>t.file.isGhost&&p("span",null,"  ",p("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:t.toggleAddFilesPanel},t.i18n("reSelect"))),c5=t=>{let{file:e,onClick:n}=t;return e.error?p("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":e.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:n,type:"button"},"?"):null};function d5(t){const{file:e}=t;return p("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.source},p("div",{className:"uppy-Dashboard-Item-fileName"},o5(t),p(c5,{file:t.file,onClick:()=>alert(t.file.error)})),p("div",{className:"uppy-Dashboard-Item-status"},a5(t),l5(t),u5(t)),p(E0,{file:t.file,i18n:t.i18n,toggleFileCard:t.toggleFileCard,metaFields:t.metaFields}))}function p5(t,e){return e===void 0&&(e="Copy the URL below"),new Promise(n=>{const r=document.createElement("textarea");r.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),r.value=t,document.body.appendChild(r),r.select();const i=()=>{document.body.removeChild(r),window.prompt(e,t),n()};try{return document.execCommand("copy")?(document.body.removeChild(r),n()):i("copy command unavailable")}catch{return document.body.removeChild(r),i()}})}function h5(t){let{file:e,uploadInProgressOrComplete:n,metaFields:r,canEditFile:i,i18n:s,onClick:o}=t;return!n&&r&&r.length>0||!n&&i(e)?p("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":s("editFileWithFilename",{file:e.meta.name}),title:s("editFileWithFilename",{file:e.meta.name}),onClick:()=>o()},p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},p("g",{fillRule:"evenodd"},p("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),p("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),p("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function f5(t){let{i18n:e,onClick:n,file:r}=t;return p("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":e("removeFile",{file:r.meta.name}),title:e("removeFile",{file:r.meta.name}),onClick:()=>n()},p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},p("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),p("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}const m5=(t,e)=>{p5(e.file.uploadURL,e.i18n("copyLinkToClipboardFallback")).then(()=>{e.uppy.log("Link copied to clipboard."),e.uppy.info(e.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(e.uppy.log).then(()=>t.target.focus({preventScroll:!0}))};function g5(t){const{i18n:e}=t;return p("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":e("copyLink"),title:e("copyLink"),onClick:n=>m5(n,t)},p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},p("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}function y5(t){const{uppy:e,file:n,uploadInProgressOrComplete:r,canEditFile:i,metaFields:s,showLinkToFileUploadResult:o,showRemoveButton:a,i18n:l,toggleFileCard:u,openFileEditor:d}=t;return p("div",{className:"uppy-Dashboard-Item-actionWrapper"},p(h5,{i18n:l,file:n,uploadInProgressOrComplete:r,canEditFile:i,metaFields:s,onClick:()=>{s&&s.length>0?u(!0,n.id):d(n)}}),o&&n.uploadURL?p(g5,{file:n,uppy:e,i18n:l}):null,a?p(f5,{i18n:l,file:n,uppy:e,onClick:()=>t.uppy.removeFile(n.id,"removed-by-user")}):null)}class v5 extends Wt{componentDidMount(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}shouldComponentUpdate(e){return!V2(this.props,e)}componentDidUpdate(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}componentWillUnmount(){const{file:e}=this.props;e.preview||this.props.handleCancelThumbnail(e)}render(){const{file:e}=this.props,n=e.progress.preprocess||e.progress.postprocess,r=e.progress.uploadComplete&&!n&&!e.error,i=e.progress.uploadStarted||n,s=e.progress.uploadStarted&&!e.progress.uploadComplete||n,o=e.error||!1,{isGhost:a}=e;let l=(this.props.individualCancellation||!s)&&!r;r&&this.props.showRemoveButtonAfterComplete&&(l=!0);const u=Qe({"uppy-Dashboard-Item":!0,"is-inprogress":s&&!this.props.recoveredState,"is-processing":n,"is-complete":r,"is-error":!!o,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":a});return p("div",{className:u,id:`uppy_${e.id}`,role:this.props.role},p("div",{className:"uppy-Dashboard-Item-preview"},p(t5,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),p(r5,{uppy:this.props.uppy,file:e,error:o,isUploaded:r,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),p("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},p(d5,{file:e,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),p(y5,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:l,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:i,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}}function w5(t,e){const n=[];let r=[];return t.forEach(i=>{r.length<e?r.push(i):(n.push(r),r=[i])}),r.length&&n.push(r),n}const b5=t=>{let{id:e,error:n,i18n:r,uppy:i,files:s,acquirers:o,resumableUploads:a,hideRetryButton:l,hidePauseResumeButton:u,hideCancelButton:d,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:h,isWide:g,metaFields:y,isSingleFile:b,toggleFileCard:S,handleRequestThumbnail:m,handleCancelThumbnail:f,recoveredState:v,individualCancellation:E,itemsPerRow:O,openFileEditor:x,canEditFile:C,toggleAddFilesPanel:A,containerWidth:R,containerHeight:B}=t;const J=O===1?71:200,Se=Hp(()=>{const te=(P,_)=>s[_].isGhost-s[P].isGhost,X=Object.keys(s);return v&&X.sort(te),w5(X,O)},[s,O,v]),Z=te=>p("div",{class:"uppy-Dashboard-filesInner",role:"presentation",key:te[0]},te.map(X=>p(v5,{key:X,uppy:i,id:e,error:n,i18n:r,acquirers:o,resumableUploads:a,individualCancellation:E,hideRetryButton:l,hidePauseResumeButton:u,hideCancelButton:d,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:h,isWide:g,metaFields:y,recoveredState:v,isSingleFile:b,containerWidth:R,containerHeight:B,toggleFileCard:S,handleRequestThumbnail:m,handleCancelThumbnail:f,role:"listitem",openFileEditor:x,canEditFile:C,toggleAddFilesPanel:A,file:s[X]})));return b?p("div",{class:"uppy-Dashboard-files"},Z(Se[0])):p(f0,{class:"uppy-Dashboard-files",role:"list",data:Se,renderRow:Z,rowHeight:J})};let C0;C0=Symbol.for("uppy test: disable unused locale key warning");class F0 extends Wt{constructor(){super(...arguments),this.triggerFileInputClick=()=>{this.fileInput.click()},this.triggerFolderInputClick=()=>{this.folderInput.click()},this.triggerVideoCameraInputClick=()=>{this.mobileVideoFileInput.click()},this.triggerPhotoCameraInputClick=()=>{this.mobilePhotoFileInput.click()},this.onFileInputChange=e=>{this.props.handleInputChange(e),e.target.value=null},this.renderHiddenInput=(e,n)=>p("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:e,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:this.props.allowedFileTypes,ref:n}),this.renderHiddenCameraInput=(e,n,r)=>{const s={photo:"image/*",video:"video/*"}[e];return p("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${e}`,onChange:this.onFileInputChange,capture:n,accept:s,ref:r})},this.renderMyDeviceAcquirer=()=>p("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},p("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick},p("div",{className:"uppy-DashboardTab-inner"},p("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},p("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"}))),p("div",{className:"uppy-DashboardTab-name"},this.props.i18n("myDevice")))),this.renderPhotoCamera=()=>p("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera"},p("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick},p("div",{className:"uppy-DashboardTab-inner"},p("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},p("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"}))),p("div",{className:"uppy-DashboardTab-name"},this.props.i18n("takePictureBtn")))),this.renderVideoCamera=()=>p("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera"},p("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick},p("div",{className:"uppy-DashboardTab-inner"},p("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32"},p("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "}))),p("div",{className:"uppy-DashboardTab-name"},this.props.i18n("recordVideoBtn")))),this.renderBrowseButton=(e,n)=>{const r=this.props.acquirers.length;return p("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:n,"data-uppy-super-focusable":r===0},e)},this.renderDropPasteBrowseTagline=e=>{const n=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),r=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),i=this.props.fileManagerSelectionType,s=i.charAt(0).toUpperCase()+i.slice(1);return p("div",{class:"uppy-Dashboard-AddFiles-title"},this.props.disableLocalFiles?this.props.i18n("importFiles"):e>0?this.props.i18nArray(`dropPasteImport${s}`,{browseFiles:n,browseFolders:r,browse:n}):this.props.i18nArray(`dropPaste${s}`,{browseFiles:n,browseFolders:r,browse:n}))},this.renderAcquirer=e=>p("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":e.id},p("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":e.id,"aria-controls":`uppy-DashboardContent-panel--${e.id}`,"aria-selected":this.props.activePickerPanel.id===e.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(e.id)},p("div",{className:"uppy-DashboardTab-inner"},e.icon()),p("div",{className:"uppy-DashboardTab-name"},e.name))),this.renderAcquirers=e=>{const n=[...e],r=n.splice(e.length-2,e.length);return p(en,null,n.map(i=>this.renderAcquirer(i)),p("span",{role:"presentation",style:{"white-space":"nowrap"}},r.map(i=>this.renderAcquirer(i))))},this.renderSourcesList=(e,n)=>{const{showNativePhotoCameraButton:r,showNativeVideoCameraButton:i}=this.props;let s=[];const o="myDevice";n||(s.push({key:o,elements:this.renderMyDeviceAcquirer()}),r&&s.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),i&&s.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()})),s.push(...e.map(c=>({key:c.id,elements:this.renderAcquirer(c)}))),s.length===1&&s[0].key===o&&(s=[]);const l=[...s],u=l.splice(s.length-2,s.length),d=c=>c.map(h=>{let{key:g,elements:y}=h;return p(en,{key:g},y)});return p(en,null,this.renderDropPasteBrowseTagline(s.length),p("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},d(l),p("span",{role:"presentation",style:{"white-space":"nowrap"}},d(u))))}}[C0](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:e}=this.props,n=p("span",null,p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},p("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),p("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy")),r=e("poweredBy",{uppy:n});return p("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},r)}render(){const{showNativePhotoCameraButton:e,showNativeVideoCameraButton:n,nativeCameraFacingMode:r}=this.props;return p("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,i=>{this.fileInput=i}),this.renderHiddenInput(!0,i=>{this.folderInput=i}),e&&this.renderHiddenCameraInput("photo",r,i=>{this.mobilePhotoFileInput=i}),n&&this.renderHiddenCameraInput("video",r,i=>{this.mobileVideoFileInput=i}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),p("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&p("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}}const _5=t=>p("div",{className:Qe("uppy-Dashboard-AddFilesPanel",t.className),"data-uppy-panelType":"AddFiles","aria-hidden":!t.showAddFilesPanel},p("div",{className:"uppy-DashboardContent-bar"},p("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},t.i18n("addingMoreFiles")),p("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>t.toggleAddFilesPanel(!1)},t.i18n("back"))),p(F0,t));function Wn(t){const{tagName:e}=t.target;if(e==="INPUT"||e==="TEXTAREA"){t.stopPropagation();return}t.preventDefault(),t.stopPropagation()}function S5(t){let{activePickerPanel:e,className:n,hideAllPanels:r,i18n:i,state:s,uppy:o}=t;return p("div",{className:Qe("uppy-DashboardContent-panel",n),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${e.id}`,onDragOver:Wn,onDragLeave:Wn,onDrop:Wn,onPaste:Wn},p("div",{className:"uppy-DashboardContent-bar"},p("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},i("importFrom",{name:e.name})),p("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r},i("cancel"))),p("div",{className:"uppy-DashboardContent-panelBody"},o.getPlugin(e.id).render(s)))}function P5(t){const e=t.files[t.fileCardFor],n=()=>{t.uppy.emit("file-editor:cancel",e),t.hideAllPanels()};return p("div",{className:Qe("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},p("div",{className:"uppy-DashboardContent-bar"},p("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},t.i18nArray("editing",{file:p("span",{className:"uppy-DashboardContent-titleFile"},e.meta?e.meta.name:e.name)})),p("button",{className:"uppy-DashboardContent-back",type:"button",onClick:n},t.i18n("cancel")),p("button",{className:"uppy-DashboardContent-save",type:"button",onClick:t.saveFileEditor},t.i18n("save"))),p("div",{className:"uppy-DashboardContent-panelBody"},t.editors.map(r=>t.uppy.getPlugin(r.id).render(t.state))))}const Kt={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function E5(t,e,n,r){if(r===void 0&&(r={}),t)return Kt.STATE_ERROR;if(e)return Kt.STATE_COMPLETE;if(n)return Kt.STATE_PAUSED;let i=Kt.STATE_WAITING;const s=Object.keys(r);for(let o=0;o<s.length;o++){const{progress:a}=r[s[o]];if(a.uploadStarted&&!a.uploadComplete)return Kt.STATE_UPLOADING;a.preprocess&&i!==Kt.STATE_UPLOADING&&(i=Kt.STATE_PREPROCESSING),a.postprocess&&i!==Kt.STATE_UPLOADING&&i!==Kt.STATE_PREPROCESSING&&(i=Kt.STATE_POSTPROCESSING)}return i}function k5(t){let{files:e,i18n:n,isAllComplete:r,isAllErrored:i,isAllPaused:s,inProgressNotPausedFiles:o,newFiles:a,processingFiles:l}=t;switch(E5(i,r,s,e)){case"uploading":return n("uploadingXFiles",{smart_count:o.length});case"preprocessing":case"postprocessing":return n("processingXFiles",{smart_count:l.length});case"paused":return n("uploadPaused");case"waiting":return n("xFilesSelected",{smart_count:a.length});case"complete":return n("uploadComplete");case"error":return n("error")}}function C5(t){const{i18n:e,isAllComplete:n,hideCancelButton:r,maxNumberOfFiles:i,toggleAddFilesPanel:s,uppy:o}=t;let{allowNewUpload:a}=t;return a&&i&&(a=t.totalFileCount<t.maxNumberOfFiles),p("div",{className:"uppy-DashboardContent-bar"},!n&&!r?p("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>o.cancelAll()},e("cancel")):p("div",null),p("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},p(k5,t)),a?p("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":e("addMoreFiles"),title:e("addMoreFiles"),onClick:()=>s(!0)},p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},p("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),p("span",{className:"uppy-DashboardContent-addMoreCaption"},e("addMore"))):p("div",null))}function F5(t){const{computedMetaFields:e,requiredMetaFields:n,updateMeta:r,form:i,formState:s}=t,o={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return e.map(a=>{const l=`uppy-Dashboard-FileCard-input-${a.id}`,u=n.includes(a.id);return p("fieldset",{key:a.id,className:"uppy-Dashboard-FileCard-fieldset"},p("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:l},a.name),a.render!==void 0?a.render({value:s[a.id],onChange:d=>r(d,a.id),fieldCSSClasses:o,required:u,form:i.id},p):p("input",{className:o.text,id:l,form:i.id,type:a.type||"text",required:u,value:s[a.id],placeholder:a.placeholder,onInput:d=>r(d.target.value,a.id),"data-uppy-super-focusable":!0}))})}function T5(t){var e;const{files:n,fileCardFor:r,toggleFileCard:i,saveFileCard:s,metaFields:o,requiredMetaFields:a,openFileEditor:l,i18n:u,i18nArray:d,className:c,canEditFile:h}=t,g=()=>typeof o=="function"?o(n[r]):o,y=n[r],b=(e=g())!=null?e:[],S=h(y),m={};b.forEach(A=>{var R;m[A.id]=(R=y.meta[A.id])!=null?R:""});const[f,v]=ml(m),E=ld(A=>{A.preventDefault(),s(f,r)},[s,f,r]),O=(A,R)=>{v({...f,[R]:A})},x=()=>{i(!1)},[C]=ml(()=>{const A=document.createElement("form");return A.setAttribute("tabindex","-1"),A.id=Dl(),A});return d0(()=>(document.body.appendChild(C),C.addEventListener("submit",E),()=>{C.removeEventListener("submit",E),document.body.removeChild(C)}),[C,E]),p("div",{className:Qe("uppy-Dashboard-FileCard",c),"data-uppy-panelType":"FileCard",onDragOver:Wn,onDragLeave:Wn,onDrop:Wn,onPaste:Wn},p("div",{className:"uppy-DashboardContent-bar"},p("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},d("editing",{file:p("span",{className:"uppy-DashboardContent-titleFile"},y.meta?y.meta.name:y.name)})),p("button",{className:"uppy-DashboardContent-back",type:"button",form:C.id,title:u("finishEditingFile"),onClick:x},u("cancel"))),p("div",{className:"uppy-Dashboard-FileCard-inner"},p("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:Wp(y.type).color}},p(P0,{file:y}),S&&p("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:A=>{E(A),l(y)}},u("editFile"))),p("div",{className:"uppy-Dashboard-FileCard-info"},p(F5,{computedMetaFields:b,requiredMetaFields:a,updateMeta:O,form:C,formState:f})),p("div",{className:"uppy-Dashboard-FileCard-actions"},p("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:C.id},u("saveChanges")),p("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:x,form:C.id},u("cancel")))))}const qr="uppy-transition-slideDownUp",fm=250;class da extends Wt{constructor(e){super(e),this.state={cachedChildren:null,className:""}}componentWillUpdate(e){const{cachedChildren:n}=this.state,r=wn(e.children)[0];if(n===r)return null;const i={cachedChildren:r};r&&!n&&(i.className=`${qr}-enter`,cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame(()=>{this.setState({className:`${qr}-enter ${qr}-enter-active`}),this.enterTimeout=setTimeout(()=>{this.setState({className:""})},fm)})),n&&!r&&this.leaveTimeout===void 0&&(i.cachedChildren=n,i.className=`${qr}-leave`,cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame(()=>{this.setState({className:`${qr}-leave ${qr}-leave-active`}),this.leaveTimeout=setTimeout(()=>{this.setState({cachedChildren:null,className:""})},fm)})),this.setState(i)}render(){const{cachedChildren:e,className:n}=this.state;return e?Lv(e,{className:Qe(n,e.props.className)}):null}}function Sr(){return Sr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sr.apply(this,arguments)}const mm=900,gm=700,Iu=576,ym=330;function O5(t){const e=t.totalFileCount===0,n=t.totalFileCount===1,r=t.containerWidth>Iu,i=t.containerHeight>ym,s=Qe({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":t.disabled,"uppy-Dashboard--animateOpenClose":t.animateOpenClose,"uppy-Dashboard--isClosing":t.isClosing,"uppy-Dashboard--isDraggingOver":t.isDraggingOver,"uppy-Dashboard--modal":!t.inline,"uppy-size--md":t.containerWidth>Iu,"uppy-size--lg":t.containerWidth>gm,"uppy-size--xl":t.containerWidth>mm,"uppy-size--height-md":t.containerHeight>ym,"uppy-Dashboard--isAddFilesPanelVisible":t.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":t.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":t.singleFileFullScreen&&n&&i});let o=1;t.containerWidth>mm?o=5:t.containerWidth>gm?o=4:t.containerWidth>Iu&&(o=3);const a=t.showSelectedFiles&&!e,l=t.recoveredState?Object.keys(t.recoveredState.files).length:null,u=t.files?Object.keys(t.files).filter(h=>t.files[h].isGhost).length:null,d=()=>u>0?t.i18n("recoveredXFiles",{smart_count:u}):t.i18n("recoveredAllFiles");return p("div",{className:s,"data-uppy-theme":t.theme,"data-uppy-num-acquirers":t.acquirers.length,"data-uppy-drag-drop-supported":!t.disableLocalFiles&&S0(),"aria-hidden":t.inline?"false":t.isHidden,"aria-disabled":t.disabled,"aria-label":t.inline?t.i18n("dashboardTitle"):t.i18n("dashboardWindowTitle"),onPaste:t.handlePaste,onDragOver:t.handleDragOver,onDragLeave:t.handleDragLeave,onDrop:t.handleDrop},p("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:t.handleClickOutside}),p("div",{className:"uppy-Dashboard-inner","aria-modal":!t.inline&&"true",role:!t.inline&&"dialog",style:{width:t.inline&&t.width?t.width:"",height:t.inline&&t.height?t.height:""}},t.inline?null:p("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":t.i18n("closeModal"),title:t.i18n("closeModal"),onClick:t.closeModal},p("span",{"aria-hidden":"true"},"")),p("div",{className:"uppy-Dashboard-innerWrap"},p("div",{className:"uppy-Dashboard-dropFilesHereHint"},t.i18n("dropHint")),a&&p(C5,t),l&&p("div",{className:"uppy-Dashboard-serviceMsg"},p("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},p("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},p("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),p("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),p("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),p("strong",{className:"uppy-Dashboard-serviceMsg-title"},t.i18n("sessionRestored")),p("div",{className:"uppy-Dashboard-serviceMsg-text"},d())),a?p(b5,{id:t.id,error:t.error,i18n:t.i18n,uppy:t.uppy,files:t.files,acquirers:t.acquirers,resumableUploads:t.resumableUploads,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,showLinkToFileUploadResult:t.showLinkToFileUploadResult,showRemoveButtonAfterComplete:t.showRemoveButtonAfterComplete,isWide:t.isWide,metaFields:t.metaFields,toggleFileCard:t.toggleFileCard,handleRequestThumbnail:t.handleRequestThumbnail,handleCancelThumbnail:t.handleCancelThumbnail,recoveredState:t.recoveredState,individualCancellation:t.individualCancellation,openFileEditor:t.openFileEditor,canEditFile:t.canEditFile,toggleAddFilesPanel:t.toggleAddFilesPanel,isSingleFile:n,itemsPerRow:o}):p(F0,Sr({},t,{isSizeMD:r})),p(da,null,t.showAddFilesPanel?p(_5,Sr({key:"AddFiles"},t,{isSizeMD:r})):null),p(da,null,t.fileCardFor?p(T5,Sr({key:"FileCard"},t)):null),p(da,null,t.activePickerPanel?p(S5,Sr({key:"Picker"},t)):null),p(da,null,t.showFileEditor?p(P5,Sr({key:"Editor"},t)):null),p("div",{className:"uppy-Dashboard-progressindicators"},t.progressindicators.map(h=>t.uppy.getPlugin(h.id).render(t.state))))))}const x5={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}};function ae(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var A5=0;function Vt(t){return"__private_"+A5+++"_"+t}const U5={version:"3.7.1"},Du=dm.default||dm,vm=9,N5=27;function wm(){const t={};return t.promise=new Promise((e,n)=>{t.resolve=e,t.reject=n}),t}var sr=Vt("disabledNodes"),un=Vt("generateLargeThumbnailIfSingleFile"),es=Vt("openFileEditorWhenFilesAdded"),or=Vt("attachRenderFunctionToTarget"),Lu=Vt("isTargetSupported"),$u=Vt("getAcquirers"),Bu=Vt("getProgressIndicators"),cn=Vt("getEditors"),Mu=Vt("addSpecifiedPluginsFromOptions"),zu=Vt("autoDiscoverPlugins"),ar=Vt("addSupportedPluginIfNoTarget");let qp=class extends Nn{constructor(e,n){var r;super(e,n),r=this,Object.defineProperty(this,sr,{writable:!0,value:null}),this.removeTarget=s=>{const a=this.getPluginState().targets.filter(l=>l.id!==s.id);this.setPluginState({targets:a})},this.addTarget=s=>{const o=s.id||s.constructor.name,a=s.title||o,l=s.type;if(l!=="acquirer"&&l!=="progressindicator"&&l!=="editor"){const h="Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor";this.uppy.log(h,"error");return}const u={id:o,name:a,type:l},c=this.getPluginState().targets.slice();return c.push(u),this.setPluginState({targets:c}),this.el},this.hideAllPanels=()=>{const s=this.getPluginState(),o={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};s.activePickerPanel===o.activePickerPanel&&s.showAddFilesPanel===o.showAddFilesPanel&&s.showFileEditor===o.showFileEditor&&s.activeOverlayType===o.activeOverlayType||(this.setPluginState(o),this.uppy.emit("dashboard:close-panel",s.activePickerPanel.id))},this.showPanel=s=>{const{targets:o}=this.getPluginState(),a=o.filter(l=>l.type==="acquirer"&&l.id===s)[0];this.setPluginState({activePickerPanel:a,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",s)},this.canEditFile=s=>{const{targets:o}=this.getPluginState();return ae(this,cn)[cn](o).some(l=>this.uppy.getPlugin(l.id).canEditFile(s))},this.openFileEditor=s=>{const{targets:o}=this.getPluginState(),a=ae(this,cn)[cn](o);this.setPluginState({showFileEditor:!0,fileCardFor:s.id||null,activeOverlayType:"FileEditor"}),a.forEach(l=>{this.uppy.getPlugin(l.id).selectFile(s)})},this.saveFileEditor=()=>{const{targets:s}=this.getPluginState();ae(this,cn)[cn](s).forEach(a=>{this.uppy.getPlugin(a.id).save()}),this.hideAllPanels()},this.openModal=()=>{const{promise:s,resolve:o}=wm();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const a=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",a,!1),o()};this.el.addEventListener("animationend",a,!1)}else this.setPluginState({isHidden:!1}),o();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),s},this.closeModal=function(s){s===void 0&&(s={});const{manualClose:o=!0}=s,{isHidden:a,isClosing:l}=r.getPluginState();if(a||l)return;const{promise:u,resolve:d}=wm();if(r.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),r.opts.animateOpenClose){r.setPluginState({isClosing:!0});const h=()=>{r.setPluginState({isHidden:!0,isClosing:!1}),r.superFocus.cancel(),r.savedActiveElement.focus(),r.el.removeEventListener("animationend",h,!1),d()};r.el.addEventListener("animationend",h,!1)}else r.setPluginState({isHidden:!0}),r.superFocus.cancel(),r.savedActiveElement.focus(),d();if(document.removeEventListener("keydown",r.handleKeyDownInModal),o&&r.opts.browserBackButtonClose){var c;(c=history.state)!=null&&c[r.modalName]&&history.back()}return r.uppy.emit("dashboard:modal-closed"),u},this.isModalOpen=()=>!this.getPluginState().isHidden||!1,this.requestCloseModal=()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal(),this.setDarkModeCapability=s=>{const{capabilities:o}=this.uppy.getState();this.uppy.setState({capabilities:{...o,darkMode:s}})},this.handleSystemDarkModeChange=s=>{const o=s.matches;this.uppy.log(`[Dashboard] Dark mode is ${o?"on":"off"}`),this.setDarkModeCapability(o)},this.toggleFileCard=(s,o)=>{const a=this.uppy.getFile(o);s?this.uppy.emit("dashboard:file-edit-start",a):this.uppy.emit("dashboard:file-edit-complete",a),this.setPluginState({fileCardFor:s?o:null,activeOverlayType:s?"FileCard":null})},this.toggleAddFilesPanel=s=>{this.setPluginState({showAddFilesPanel:s,activeOverlayType:s?"AddFiles":null})},this.addFiles=s=>{const o=s.map(a=>({source:this.id,name:a.name,type:a.type,data:a,meta:{relativePath:a.relativePath||a.webkitRelativePath||null}}));try{this.uppy.addFiles(o)}catch(a){this.uppy.log(a)}},this.startListeningToResize=()=>{this.resizeObserver=new ResizeObserver(s=>{const o=s[0],{width:a,height:l}=o.contentRect;this.setPluginState({containerWidth:a,containerHeight:l,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const s=this.getPluginState(),o=!this.opts.inline&&s.isHidden;!s.areInsidesReadyToBeVisible&&!o&&(this.uppy.log("[Dashboard] resize event didnt fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},this.stopListeningToResize=()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)},this.recordIfFocusedOnUppyRecently=s=>{this.el.contains(s.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())},this.disableInteractiveElements=s=>{var o;const a=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],l=(o=ae(this,sr)[sr])!=null?o:Nr(this.el.querySelectorAll(a)).filter(u=>!u.classList.contains("uppy-Dashboard-close"));for(const u of l)u.tagName==="A"?u.setAttribute("aria-disabled",s):u.disabled=s;s?ae(this,sr)[sr]=l:ae(this,sr)[sr]=null,this.dashboardIsDisabled=s},this.updateBrowserHistory=()=>{var s;(s=history.state)!=null&&s[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)},this.handlePopState=s=>{var o;this.isModalOpen()&&(!s.state||!s.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&(o=s.state)!=null&&o[this.modalName]&&history.back()},this.handleKeyDownInModal=s=>{s.keyCode===N5&&this.requestCloseModal(s),s.keyCode===vm&&_0(s,this.getPluginState().activeOverlayType,this.el)},this.handleClickOutside=()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()},this.handlePaste=s=>{this.uppy.iteratePlugins(a=>{a.type==="acquirer"&&(a.handleRootPaste==null||a.handleRootPaste(s))});const o=Nr(s.clipboardData.files);o.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(o))},this.handleInputChange=s=>{s.preventDefault();const o=Nr(s.target.files);o.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(o))},this.handleDragOver=s=>{var o,a;s.preventDefault(),s.stopPropagation();const l=()=>{let h=!0;return this.uppy.iteratePlugins(g=>{g.canHandleRootDrop!=null&&g.canHandleRootDrop(s)&&(h=!0)}),h},u=()=>{const{types:h}=s.dataTransfer;return h.some(g=>g==="Files")},d=l(),c=u();if(!d&&!c||this.opts.disabled||this.opts.disableLocalFiles&&(c||!d)||!this.uppy.getState().allowNewUpload){s.dataTransfer.dropEffect="none",clearTimeout(this.removeDragOverClassTimeout);return}s.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),(o=(a=this.opts).onDragOver)==null||o.call(a,s)},this.handleDragLeave=s=>{var o,a;s.preventDefault(),s.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{this.setPluginState({isDraggingOver:!1})},50),(o=(a=this.opts).onDragLeave)==null||o.call(a,s)},this.handleDrop=async s=>{var o,a;s.preventDefault(),s.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(c=>{c.type==="acquirer"&&(c.handleRootDrop==null||c.handleRootDrop(s))});let l=!1;const u=c=>{this.uppy.log(c,"error"),l||(this.uppy.info(c.message,"error"),l=!0)};this.uppy.log("[Dashboard] Processing dropped files");const d=await r0(s.dataTransfer,{logDropError:u});d.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(d)),(o=(a=this.opts).onDrop)==null||o.call(a,s)},this.handleRequestThumbnail=s=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",s)},this.handleCancelThumbnail=s=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",s)},this.handleKeyDownInInline=s=>{s.keyCode===vm&&H2(s,this.getPluginState().activeOverlayType,this.el)},this.handlePasteOnBody=s=>{this.el.contains(document.activeElement)&&this.handlePaste(s)},this.handleComplete=s=>{let{failed:o}=s;this.opts.closeAfterFinish&&o.length===0&&this.requestCloseModal()},this.handleCancelRestore=()=>{this.uppy.emit("restore-canceled")},Object.defineProperty(this,un,{writable:!0,value:()=>{if(this.opts.disableThumbnailGenerator)return;const s=600,o=this.uppy.getFiles();if(o.length===1){const a=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);a==null||a.setOptions({thumbnailWidth:s});const l={...o[0],preview:void 0};a.requestThumbnail(l).then(()=>{a==null||a.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}}}),Object.defineProperty(this,es,{writable:!0,value:s=>{const o=s[0];this.canEditFile(o)&&this.openFileEditor(o)}}),this.initEvents=()=>{if(this.opts.trigger&&!this.opts.inline){const s=Vf(this.opts.trigger);s?s.forEach(o=>o.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",ae(this,ar)[ar]),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("file-editor:complete",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",ae(this,un)[un]),this.uppy.on("file-removed",ae(this,un)[un]),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpenFileEditor&&this.uppy.on("files-added",ae(this,es)[es])},this.removeEvents=()=>{const s=Vf(this.opts.trigger);!this.opts.inline&&s&&s.forEach(o=>o.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",ae(this,ar)[ar]),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("file-editor:complete",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",ae(this,un)[un]),this.uppy.off("file-removed",ae(this,un)[un]),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpenFileEditor&&this.uppy.off("files-added",ae(this,es)[es])},this.superFocusOnEachUpdate=()=>{const s=this.el.contains(document.activeElement),o=document.activeElement===document.body||document.activeElement===null,a=this.uppy.getState().info.length===0,l=!this.opts.inline;a&&(l||s||o&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()},this.afterUpdate=()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()},this.saveFileCard=(s,o)=>{this.uppy.setFileMeta(o,s),this.toggleFileCard(!1,o)},Object.defineProperty(this,or,{writable:!0,value:s=>{const o=this.uppy.getPlugin(s.id);return{...s,icon:o.icon||this.opts.defaultPickerIcon,render:o.render}}}),Object.defineProperty(this,Lu,{writable:!0,value:s=>{const o=this.uppy.getPlugin(s.id);return typeof o.isSupported!="function"?!0:o.isSupported()}}),Object.defineProperty(this,$u,{writable:!0,value:Du(s=>s.filter(o=>o.type==="acquirer"&&ae(this,Lu)[Lu](o)).map(ae(this,or)[or]))}),Object.defineProperty(this,Bu,{writable:!0,value:Du(s=>s.filter(o=>o.type==="progressindicator").map(ae(this,or)[or]))}),Object.defineProperty(this,cn,{writable:!0,value:Du(s=>s.filter(o=>o.type==="editor").map(ae(this,or)[or]))}),this.render=s=>{const o=this.getPluginState(),{files:a,capabilities:l,allowNewUpload:u}=s,{newFiles:d,uploadStartedFiles:c,completeFiles:h,erroredFiles:g,inProgressFiles:y,inProgressNotPausedFiles:b,processingFiles:S,isUploadStarted:m,isAllComplete:f,isAllErrored:v,isAllPaused:E}=this.uppy.getObjectOfFilesPerState(),O=ae(this,$u)[$u](o.targets),x=ae(this,Bu)[Bu](o.targets),C=ae(this,cn)[cn](o.targets);let A;return this.opts.theme==="auto"?A=l.darkMode?"dark":"light":A=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),O5({state:s,isHidden:o.isHidden,files:a,newFiles:d,uploadStartedFiles:c,completeFiles:h,erroredFiles:g,inProgressFiles:y,inProgressNotPausedFiles:b,processingFiles:S,isUploadStarted:m,isAllComplete:f,isAllErrored:v,isAllPaused:E,totalFileCount:Object.keys(a).length,totalProgress:s.totalProgress,allowNewUpload:u,acquirers:O,theme:A,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:o.activePickerPanel,showFileEditor:o.showFileEditor,saveFileEditor:this.saveFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:o.isClosing,progressindicators:x,editors:C,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:s.recoveredState,metaFields:o.metaFields,resumableUploads:l.resumableUploads||!1,individualCancellation:l.individualCancellation,isMobileDevice:l.isMobileDevice,fileCardFor:o.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:o.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:o.containerWidth,containerHeight:o.containerHeight,areInsidesReadyToBeVisible:o.areInsidesReadyToBeVisible,isTargetDOMEl:this.isTargetDOMEl,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:o.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})},Object.defineProperty(this,Mu,{writable:!0,value:()=>{(this.opts.plugins||[]).forEach(o=>{const a=this.uppy.getPlugin(o);a?a.mount(this,a):this.uppy.log(`[Uppy] Dashboard could not find plugin '${o}', make sure to uppy.use() the plugins you are specifying`,"warning")})}}),Object.defineProperty(this,zu,{writable:!0,value:()=>{this.uppy.iteratePlugins(ae(this,ar)[ar])}}),Object.defineProperty(this,ar,{writable:!0,value:s=>{var o;const a=["acquirer","editor"];s&&!((o=s.opts)!=null&&o.target)&&a.includes(s.type)&&(this.getPluginState().targets.some(u=>s.id===u.id)||s.mount(this,s))}}),this.install=()=>{this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:s,closeAfterFinish:o}=this.opts;if(s&&o)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:a,allowMultipleUploadBatches:l}=this.uppy.opts;(a||l)&&o&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:u}=this.opts;u&&this.mount(u,this),this.opts.disableStatusBar||this.uppy.use(Dp,{id:`${this.id}:StatusBar`,target:this,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,showProgressDetails:this.opts.showProgressDetails,hideAfterFinish:this.opts.hideProgressAfterFinish,locale:this.opts.locale,doneButtonHandler:this.opts.doneButtonHandler}),this.opts.disableInformer||this.uppy.use(Wv,{id:`${this.id}:Informer`,target:this}),this.opts.disableThumbnailGenerator||this.uppy.use(Zv,{id:`${this.id}:ThumbnailGenerator`,thumbnailWidth:this.opts.thumbnailWidth,thumbnailHeight:this.opts.thumbnailHeight,thumbnailType:this.opts.thumbnailType,waitForThumbnailsBeforeUpload:this.opts.waitForThumbnailsBeforeUpload,lazy:!this.opts.waitForThumbnailsBeforeUpload}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const d=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${d?"on":"off"}`),this.setDarkModeCapability(d),this.opts.theme==="auto"&&this.darkModeMediaQuery.addListener(this.handleSystemDarkModeChange),ae(this,Mu)[Mu](),ae(this,zu)[zu](),this.initEvents()},this.uninstall=()=>{if(!this.opts.disableInformer){const o=this.uppy.getPlugin(`${this.id}:Informer`);o&&this.uppy.removePlugin(o)}if(!this.opts.disableStatusBar){const o=this.uppy.getPlugin(`${this.id}:StatusBar`);o&&this.uppy.removePlugin(o)}if(!this.opts.disableThumbnailGenerator){const o=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);o&&this.uppy.removePlugin(o)}(this.opts.plugins||[]).forEach(o=>{const a=this.uppy.getPlugin(o);a&&a.unmount()}),this.opts.theme==="auto"&&this.darkModeMediaQuery.removeListener(this.handleSystemDarkModeChange),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()},this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.modalName=`uppy-Dashboard-${Dl()}`,this.defaultLocale=x5;const i={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:v0,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:()=>{this.uppy.clearUploadedFiles(),this.requestCloseModal()},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:()=>this.closeModal(),showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};this.opts={...i,...n},this.i18nInit(),this.superFocus=W2(),this.ifFocusedOnUppyRecently=!1,this.makeDashboardInsidesVisibleAnywayTimeout=null,this.removeDragOverClassTimeout=null}};qp.VERSION=U5.version;var T0={exports:{}},R5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",I5=R5,D5=I5;function O0(){}function x0(){}x0.resetWarningCache=O0;var L5=function(){function t(r,i,s,o,a,l){if(l!==D5){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:x0,resetWarningCache:O0};return n.PropTypes=n,n};T0.exports=L5();var $5=T0.exports;const N=rt($5),Ui=N.instanceOf(Tv),A0=N.arrayOf(N.string),$l=N.shape({strings:N.object,pluralize:N.func}),B5=N.shape({id:N.string.isRequired,name:N.string.isRequired,placeholder:N.string}),U0=N.oneOfType([N.arrayOf(B5),N.func]),gl=N.oneOfType([N.string,N.number]),M5={uppy:Ui,inline:N.bool,plugins:A0,width:gl,height:gl,showProgressDetails:N.bool,hideUploadButton:N.bool,hideProgressAfterFinish:N.bool,note:N.string,metaFields:U0,proudlyDisplayPoweredByUppy:N.bool,disableStatusBar:N.bool,disableInformer:N.bool,disableThumbnailGenerator:N.bool,thumbnailWidth:N.number,locale:$l},z5=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],j5=/^(aria-|data-)/,Do=t=>Object.fromEntries(Object.entries(t).filter(e=>{let[n]=e;return j5.test(n)||z5.includes(n)}));function Lo(t,e){return Object.keys(t).some(n=>!Object.hasOwn(t,n)&&t[n]!==e[n])}class Vp extends Ke.Component{componentDidMount(){this.installPlugin()}componentDidUpdate(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(Lo(this.props,e)){const n={...this.props,target:this.container};delete n.uppy,this.plugin.setOptions(n)}}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{uppy:e}=this.props,n={id:"react:Dashboard",...this.props,target:this.container};delete n.uppy,e.use(qp,n),this.plugin=e.getPlugin(n.id)}uninstallPlugin(e){e===void 0&&(e=this.props);const{uppy:n}=e;n.removePlugin(this.plugin)}render(){return Ke.createElement("div",{className:"uppy-Container",ref:e=>{this.container=e},...Do(this.props)})}}Vp.propTypes=M5;Vp.defaultProps={inline:!0};class N0 extends Ke.Component{componentDidMount(){this.installPlugin()}componentDidUpdate(e){const{uppy:n,open:r,onRequestClose:i}=this.props;if(e.uppy!==n)this.uninstallPlugin(e),this.installPlugin();else if(Lo(this.props,e)){const s={...this.props,onRequestCloseModal:i};delete s.uppy,this.plugin.setOptions(s)}e.open&&!r?this.plugin.closeModal():!e.open&&r&&this.plugin.openModal()}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{id:e="react:DashboardModal",uppy:n,target:r,open:i,onRequestClose:s,closeModalOnClickOutside:o,disablePageScrollWhenModalOpen:a,inline:l,plugins:u,width:d,height:c,showProgressDetails:h,note:g,metaFields:y,proudlyDisplayPoweredByUppy:b,autoOpenFileEditor:S,animateOpenClose:m,browserBackButtonClose:f,closeAfterFinish:v,disableStatusBar:E,disableInformer:O,disableThumbnailGenerator:x,disableLocalFiles:C,disabled:A,hideCancelButton:R,hidePauseResumeButton:B,hideProgressAfterFinish:J,hideRetryButton:Se,hideUploadButton:Z,showLinkToFileUploadResult:te,showRemoveButtonAfterComplete:X,showSelectedFiles:P,waitForThumbnailsBeforeUpload:_,fileManagerSelectionType:w,theme:k,thumbnailType:F,thumbnailWidth:T,locale:I}=this.props,z={id:e,target:r,closeModalOnClickOutside:o,disablePageScrollWhenModalOpen:a,inline:l,plugins:u,width:d,height:c,showProgressDetails:h,note:g,metaFields:y,proudlyDisplayPoweredByUppy:b,autoOpenFileEditor:S,animateOpenClose:m,browserBackButtonClose:f,closeAfterFinish:v,disableStatusBar:E,disableInformer:O,disableThumbnailGenerator:x,disableLocalFiles:C,disabled:A,hideCancelButton:R,hidePauseResumeButton:B,hideProgressAfterFinish:J,hideRetryButton:Se,hideUploadButton:Z,showLinkToFileUploadResult:te,showRemoveButtonAfterComplete:X,showSelectedFiles:P,waitForThumbnailsBeforeUpload:_,fileManagerSelectionType:w,theme:k,thumbnailType:F,thumbnailWidth:T,locale:I,onRequestCloseModal:s};z.target||(z.target=this.container),delete z.uppy,n.use(qp,z),this.plugin=n.getPlugin(z.id),i&&this.plugin.openModal()}uninstallPlugin(e){e===void 0&&(e=this.props);const{uppy:n}=e;n.removePlugin(this.plugin)}render(){return Ke.createElement("div",{className:"uppy-Container",ref:e=>{this.container=e},...Do(this.props)})}}N0.propTypes={uppy:Ui.isRequired,target:typeof window<"u"?N.instanceOf(window.HTMLElement):N.any,open:N.bool,onRequestClose:N.func,closeModalOnClickOutside:N.bool,disablePageScrollWhenModalOpen:N.bool,inline:N.bool,plugins:A0,width:gl,height:gl,showProgressDetails:N.bool,note:N.string,metaFields:U0,proudlyDisplayPoweredByUppy:N.bool,autoOpenFileEditor:N.bool,animateOpenClose:N.bool,browserBackButtonClose:N.bool,closeAfterFinish:N.bool,disableStatusBar:N.bool,disableInformer:N.bool,disableThumbnailGenerator:N.bool,disableLocalFiles:N.bool,disabled:N.bool,hideCancelButton:N.bool,hidePauseResumeButton:N.bool,hideProgressAfterFinish:N.bool,hideRetryButton:N.bool,hideUploadButton:N.bool,showLinkToFileUploadResult:N.bool,showRemoveButtonAfterComplete:N.bool,showSelectedFiles:N.bool,waitForThumbnailsBeforeUpload:N.bool,fileManagerSelectionType:N.string,theme:N.string,thumbnailType:N.string,thumbnailWidth:N.number,locale:$l};N0.defaultProps={metaFields:[],plugins:[],inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1,open:void 0,target:void 0,locale:null,onRequestClose:void 0};const H5={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}},W5={version:"3.0.3"};let R0=class I0 extends Nn{constructor(e,n){super(e,n),this.handleDrop=async i=>{var s,o;i.preventDefault(),i.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!1});const a=u=>{this.uppy.log(u,"error")},l=await r0(i.dataTransfer,{logDropError:a});l.length>0&&(this.uppy.log("[DragDrop] Files dropped"),this.addFiles(l)),(s=(o=this.opts).onDrop)==null||s.call(o,i)},this.type="acquirer",this.id=this.opts.id||"DragDrop",this.title="Drag & Drop",this.defaultLocale=H5;const r={target:null,inputName:"files[]",width:"100%",height:"100%",note:null};this.opts={...r,...n},this.i18nInit(),this.isDragDropSupported=S0(),this.removeDragOverClassTimeout=null,this.onInputChange=this.onInputChange.bind(this),this.handleDragOver=this.handleDragOver.bind(this),this.handleDragLeave=this.handleDragLeave.bind(this),this.handleDrop=this.handleDrop.bind(this),this.addFiles=this.addFiles.bind(this),this.render=this.render.bind(this)}addFiles(e){const n=e.map(r=>({source:this.id,name:r.name,type:r.type,data:r,meta:{relativePath:r.relativePath||null}}));try{this.uppy.addFiles(n)}catch(r){this.uppy.log(r)}}onInputChange(e){const n=Nr(e.target.files);n.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(n)),e.target.value=null}handleDragOver(e){var n,r;e.preventDefault(),e.stopPropagation();const{types:i}=e.dataTransfer,s=i.some(a=>a==="Files"),{allowNewUpload:o}=this.uppy.getState();if(!s||!o){e.dataTransfer.dropEffect="none",clearTimeout(this.removeDragOverClassTimeout);return}e.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),(n=(r=this.opts).onDragOver)==null||n.call(r,e)}handleDragLeave(e){var n,r;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{this.setPluginState({isDraggingOver:!1})},50),(n=(r=this.opts).onDragLeave)==null||n.call(r,e)}renderHiddenFileInput(){const{restrictions:e}=this.uppy.opts;return p("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:n=>{this.fileInputRef=n},name:this.opts.inputName,multiple:e.maxNumberOfFiles!==1,accept:e.allowedFileTypes,onChange:this.onInputChange})}static renderArrowSvg(){return p("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},p("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}renderLabel(){return p("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:p("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}renderNote(){return p("span",{className:"uppy-DragDrop-note"},this.opts.note)}render(){const e=`uppy-u-reset
      uppy-DragDrop-container
      ${this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":""}
      ${this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":""}
    `,n={width:this.opts.width,height:this.opts.height};return p("button",{type:"button",className:e,style:n,onClick:()=>this.fileInputRef.click(),onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),p("div",{className:"uppy-DragDrop-inner"},I0.renderArrowSvg(),this.renderLabel(),this.renderNote()))}install(){const{target:e}=this.opts;this.setPluginState({isDraggingOver:!1}),e&&this.mount(e,this)}uninstall(){this.unmount()}};R0.VERSION=W5.version;class D0 extends Ke.Component{componentDidMount(){this.installPlugin()}componentDidUpdate(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(Lo(this.props,e)){const n={...this.props,target:this.container};delete n.uppy,this.plugin.setOptions(n)}}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{uppy:e,locale:n,inputName:r,width:i,height:s,note:o}=this.props,a={id:"react:DragDrop",locale:n,inputName:r,width:i,height:s,note:o,target:this.container};delete a.uppy,e.use(R0,a),this.plugin=e.getPlugin(a.id)}uninstallPlugin(e){e===void 0&&(e=this.props);const{uppy:n}=e;n.removePlugin(this.plugin)}render(){return Ke.createElement("div",{className:"uppy-Container",ref:e=>{this.container=e},...Do(this.props)})}}D0.propTypes={uppy:Ui.isRequired,locale:$l,inputName:N.string,width:N.string,height:N.string,note:N.string};D0.defaultProps={locale:null,inputName:"files[]",width:"100%",height:"100%",note:null};const q5={version:"3.0.4"};let L0=class extends Nn{constructor(e,n){super(e,n),this.id=this.opts.id||"ProgressBar",this.title="Progress Bar",this.type="progressindicator";const r={target:"body",fixed:!1,hideAfterFinish:!0};this.opts={...r,...n},this.render=this.render.bind(this)}render(e){const n=e.totalProgress||0,r=(n===0||n===100)&&this.opts.hideAfterFinish;return p("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":r},p("div",{className:"uppy-ProgressBar-inner",style:{width:`${n}%`}}),p("div",{className:"uppy-ProgressBar-percentage"},n))}install(){const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.unmount()}};L0.VERSION=q5.version;class $0 extends Ke.Component{componentDidMount(){this.installPlugin()}componentDidUpdate(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(Lo(this.props,e)){const n={...this.props,target:this.container};delete n.uppy,this.plugin.setOptions(n)}}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{uppy:e,fixed:n,hideAfterFinish:r}=this.props,i={id:"react:ProgressBar",fixed:n,hideAfterFinish:r,target:this.container};delete i.uppy,e.use(L0,i),this.plugin=e.getPlugin(i.id)}uninstallPlugin(e){e===void 0&&(e=this.props);const{uppy:n}=e;n.removePlugin(this.plugin)}render(){return Ke.createElement("div",{className:"uppy-Container",ref:e=>{this.container=e},...Do(this.props)})}}$0.propTypes={uppy:Ui.isRequired,fixed:N.bool,hideAfterFinish:N.bool};$0.defaultProps={fixed:!1,hideAfterFinish:!0};class B0 extends Ke.Component{componentDidMount(){this.installPlugin()}componentDidUpdate(e){if(e.uppy!==this.props.uppy)this.uninstallPlugin(e),this.installPlugin();else if(Lo(this.props,e)){const n={...this.props,target:this.container};delete n.uppy,this.plugin.setOptions(n)}}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{uppy:e,hideUploadButton:n,hideRetryButton:r,hidePauseResumeButton:i,hideCancelButton:s,showProgressDetails:o,hideAfterFinish:a,doneButtonHandler:l}=this.props,u={id:"react:StatusBar",hideUploadButton:n,hideRetryButton:r,hidePauseResumeButton:i,hideCancelButton:s,showProgressDetails:o,hideAfterFinish:a,doneButtonHandler:l,target:this.container};delete u.uppy,e.use(Dp,u),this.plugin=e.getPlugin(u.id)}uninstallPlugin(e){e===void 0&&(e=this.props);const{uppy:n}=e;n.removePlugin(this.plugin)}render(){return Ke.createElement("div",{className:"uppy-Container",ref:e=>{this.container=e},...Do(this.props)})}}B0.propTypes={uppy:Ui.isRequired,hideUploadButton:N.bool,hideRetryButton:N.bool,hidePauseResumeButton:N.bool,hideCancelButton:N.bool,showProgressDetails:N.bool,hideAfterFinish:N.bool,doneButtonHandler:N.func};B0.defaultProps={hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};const V5={strings:{chooseFiles:"Choose files"}},G5={version:"3.0.4"};let M0=class extends Nn{constructor(e,n){super(e,n),this.id=this.opts.id||"FileInput",this.title="File Input",this.type="acquirer",this.defaultLocale=V5;const r={target:null,pretty:!0,inputName:"files[]"};this.opts={...r,...n},this.i18nInit(),this.render=this.render.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleClick=this.handleClick.bind(this)}addFiles(e){const n=e.map(r=>({source:this.id,name:r.name,type:r.type,data:r}));try{this.uppy.addFiles(n)}catch(r){this.uppy.log(r)}}handleInputChange(e){this.uppy.log("[FileInput] Something selected through input...");const n=Nr(e.target.files);this.addFiles(n),e.target.value=null}handleClick(){this.input.click()}render(){const e={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},{restrictions:n}=this.uppy.opts,r=n.allowedFileTypes?n.allowedFileTypes.join(","):null;return p("div",{className:"uppy-FileInput-container"},p("input",{className:"uppy-FileInput-input",style:this.opts.pretty&&e,type:"file",name:this.opts.inputName,onChange:this.handleInputChange,multiple:n.maxNumberOfFiles!==1,accept:r,ref:i=>{this.input=i}}),this.opts.pretty&&p("button",{className:"uppy-FileInput-btn",type:"button",onClick:this.handleClick},this.i18n("chooseFiles")))}install(){const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.unmount()}};M0.VERSION=G5.version;class z0 extends Ke.Component{componentDidMount(){this.installPlugin()}componentDidUpdate(e){e.uppy!==this.props.uppy&&(this.uninstallPlugin(e),this.installPlugin())}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{uppy:e,locale:n,pretty:r,inputName:i}=this.props,s={id:"react:FileInput",locale:n,pretty:r,inputName:i,target:this.container};delete s.uppy,e.use(M0,s),this.plugin=e.getPlugin(s.id)}uninstallPlugin(e){e===void 0&&(e=this.props);const{uppy:n}=e;n.removePlugin(this.plugin)}render(){return Ke.createElement("div",{className:"uppy-Container",ref:e=>{this.container=e}})}}z0.propTypes={uppy:Ui.isRequired,locale:$l,pretty:N.bool,inputName:N.string};z0.defaultProps={locale:void 0,pretty:!0,inputName:"files[]"};var j0={};function Ot(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var K5=Ot;Ot.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};Ot.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};Ot.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n),this._options.unref&&this._timer.unref(),!0};Ot.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Ot.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};Ot.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};Ot.prototype.start=Ot.prototype.try;Ot.prototype.errors=function(){return this._errors};Ot.prototype.attempts=function(){return this._attempts};Ot.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],s=i.message,o=(t[s]||0)+1;t[s]=o,o>=n&&(e=i,n=o)}return e};(function(t){var e=K5;t.operation=function(n){var r=t.timeouts(n);return new e(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},t.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)r[i]=n[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],o=0;o<r.retries;o++)s.push(this.createTimeout(o,r));return n&&n.forever&&!s.length&&s.push(this.createTimeout(o,r)),s.sort(function(a,l){return a-l}),s},t.createTimeout=function(n,r){var i=r.randomize?Math.random()+1:1,s=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return s=Math.min(s,r.maxTimeout),s},t.wrap=function(n,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var s in n)typeof n[s]=="function"&&i.push(s)}for(var o=0;o<i.length;o++){var a=i[o],l=n[a];n[a]=(function(d){var c=t.operation(r),h=Array.prototype.slice.call(arguments,1),g=h.pop();h.push(function(y){c.retry(y)||(y&&(arguments[0]=c.mainError()),g.apply(this,arguments))}),c.attempt(function(){d.apply(n,h)})}).bind(n,l),n[a].options=r}}})(j0);var Q5=j0;const Y5=rt(Q5),X5=Object.prototype.toString,J5=t=>X5.call(t)==="[object Error]",Z5=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed"]);function eE(t){return t&&J5(t)&&t.name==="TypeError"&&typeof t.message=="string"?t.message==="Load failed"?t.stack===void 0:Z5.has(t.message):!1}class pd extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const bm=(t,e,n)=>{const r=n.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=r,t};async function H0(t,e){return new Promise((n,r)=>{e={onFailedAttempt(){},retries:10,...e};const i=Y5.operation(e),s=()=>{var a;i.stop(),r((a=e.signal)==null?void 0:a.reason)};e.signal&&!e.signal.aborted&&e.signal.addEventListener("abort",s,{once:!0});const o=()=>{var a;(a=e.signal)==null||a.removeEventListener("abort",s),i.stop()};i.attempt(async a=>{try{const l=await t(a);o(),n(l)}catch(l){try{if(!(l instanceof Error))throw new TypeError(`Non-error was thrown: "${l}". You should only throw errors.`);if(l instanceof pd)throw l.originalError;if(l instanceof TypeError&&!eE(l))throw l;if(await e.onFailedAttempt(bm(l,a,e)),!i.retry(l))throw i.mainError()}catch(u){bm(u,a,e),o(),r(u)}}})})}class Gp extends Error{constructor(e,n){n===void 0&&(n=null),super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),this.cause=e,this.isNetworkError=!0,this.request=n}}function Kp(){return fetch(...arguments).catch(t=>{throw t.name==="AbortError"?t:new Gp(t)})}class Bl extends Error{constructor(e,n){super(e),this.cause=n==null?void 0:n.cause,this.cause&&Ur(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}}function tE(t,e,n){const{progress:r,bytesUploaded:i,bytesTotal:s}=e;r&&(t.uppy.log(`Upload progress: ${r}`),t.uppy.emit("upload-progress",n,{uploader:t,bytesUploaded:i,bytesTotal:s}))}const nE=bv(tE,300,{leading:!0,trailing:!0});function rE(t){var e;const r=(e=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i.exec(t))==null?void 0:e[1];return`${/^http:\/\//i.test(t)?"ws":"wss"}://${r}`}class hd extends Error{constructor(){super("Authorization required"),this.name="AuthError",this.isAuthError=!0}}let W0;function Qt(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var iE=0;function Ml(t){return"__private_"+iE+++"_"+t}const sE={version:"3.6.1"};function oE(t){return t.replace(/\/$/,"")}const q0=10,aE=5*60*1e3,lE=401;class V0 extends Error{constructor(e){let{statusCode:n,message:r}=e;super(r),this.statusCode=void 0,this.statusCode=n}}async function uE(t){if(t.status===lE)throw new hd;if(t.ok)return t.json();let e=`Failed request with status: ${t.status}. ${t.statusText}`;try{const n=await t.json();e=n.message?`${e} message: ${n.message}`:e,e=n.requestId?`${e} request-Id: ${n.requestId}`:e}catch{}throw new V0({statusCode:t.status,message:e})}const ts=new Map;var dn=Ml("companionHeaders"),lr=Ml("getUrl"),ju=Ml("requestSocketToken"),ns=Ml("awaitRemoteFileUpload");W0=Symbol.for("uppy test: getCompanionHeaders");class zl{constructor(e,n){Object.defineProperty(this,ns,{value:dE}),Object.defineProperty(this,lr,{value:cE}),Object.defineProperty(this,dn,{writable:!0,value:void 0}),Object.defineProperty(this,ju,{writable:!0,value:async r=>{let{file:i,postBody:s,signal:o}=r;if(i.remote.url==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(i.remote.url,{...i.remote.body,...s},o)).token}}),this.uppy=e,this.opts=n,this.onReceiveResponse=this.onReceiveResponse.bind(this),Qt(this,dn)[dn]=n==null?void 0:n.companionHeaders}setCompanionHeaders(e){Qt(this,dn)[dn]=e}[W0](){return Qt(this,dn)[dn]}get hostname(){const{companion:e}=this.uppy.getState(),n=this.opts.companionUrl;return oE(e&&e[n]?e[n]:n)}async headers(){return{...{Accept:"application/json","Content-Type":"application/json","Uppy-Versions":`@uppy/companion-client=${zl.VERSION}`},...Qt(this,dn)[dn]}}onReceiveResponse(e){let{headers:n}=e;const i=this.uppy.getState().companion||{},s=this.opts.companionUrl;n.has("i-am")&&n.get("i-am")!==i[s]&&this.uppy.setState({companion:{...i,[s]:n.get("i-am")}})}async preflight(e){const n=ts.get(this.hostname);if(n!=null)return n;const r=["accept","content-type","uppy-auth-token"],i=(async()=>{try{const o=(await fetch(Qt(this,lr)[lr](e),{method:"OPTIONS"})).headers.get("access-control-allow-headers");if(o==null||o==="*")return ts.set(this.hostname,r),r;this.uppy.log(`[CompanionClient] adding allowed preflight headers to companion cache: ${this.hostname} ${o}`);const a=o.split(",").map(l=>l.trim().toLowerCase());return ts.set(this.hostname,a),a}catch(s){return this.uppy.log(`[CompanionClient] unable to make preflight request ${s}`,"warning"),ts.delete(this.hostname),r}})();return ts.set(this.hostname,i),i}async preflightAndHeaders(e){const[n,r]=await Promise.all([this.preflight(e),this.headers()]);return Object.fromEntries(Object.entries(r).filter(i=>{let[s]=i;return n.includes(s.toLowerCase())?!0:(this.uppy.log(`[CompanionClient] excluding disallowed header ${s}`),!1)}))}async request(e){let{path:n,method:r="GET",data:i,skipPostResponse:s,signal:o}=e;try{const a=await this.preflightAndHeaders(n),l=await Kp(Qt(this,lr)[lr](n),{method:r,signal:o,headers:a,credentials:this.opts.companionCookiesRule||"same-origin",body:i?JSON.stringify(i):null});return s||this.onReceiveResponse(l),await uE(l)}catch(a){throw a instanceof hd||a.name==="AbortError"?a:new Bl(`Could not ${r} ${Qt(this,lr)[lr](n)}`,{cause:a})}}async get(e,n){return n===void 0&&(n=void 0),typeof n=="boolean"&&(n={skipPostResponse:n}),this.request({...n,path:e})}async post(e,n,r){return r===void 0&&(r=void 0),typeof r=="boolean"&&(r={skipPostResponse:r}),this.request({...r,path:e,method:"POST",data:n})}async delete(e,n,r){return n===void 0&&(n=void 0),typeof r=="boolean"&&(r={skipPostResponse:r}),this.request({...r,path:e,method:"DELETE",data:n})}async uploadRemoteFile(e,n,r){var i=this;r===void 0&&(r={});try{const{signal:s,getQueue:o}=r;return await H0(async()=>{var a;const l=(a=this.uppy.getFile(e.id))==null?void 0:a.serverToken;if(l!=null)return this.uppy.log(`Connecting to exiting websocket ${l}`),Qt(this,ns)[ns]({file:e,queue:o(),signal:s});const d=await o().wrapPromiseFunction(async function(){try{return await Qt(i,ju)[ju](...arguments)}catch(c){if(c instanceof hd)throw new pd(c);if(c.cause==null)throw c;const h=c.cause,g=()=>[408,409,429,418,423].includes(h.statusCode)||h.statusCode>=500&&h.statusCode<=599&&![501,505].includes(h.statusCode);throw h instanceof V0&&!g()?new pd(h):h}},{priority:-1})({file:e,postBody:n,signal:s}).abortOn(s);if(this.uppy.getFile(e.id))return this.uppy.setFileState(e.id,{serverToken:d}),Qt(this,ns)[ns]({file:this.uppy.getFile(e.id),queue:o(),signal:s})},{retries:q0,signal:s,onFailedAttempt:a=>this.uppy.log(`Retrying upload due to: ${a.message}`,"warning")})}catch(s){if(s.name==="AbortError")return;throw this.uppy.emit("upload-error",e,s),s}}}function cE(t){return/^(https?:|)\/\//.test(t)?t:`${this.hostname}/${t}`}async function dE(t){let{file:e,queue:n,signal:r}=t,i;const{capabilities:s}=this.uppy.getState();try{return await new Promise((o,a)=>{const l=e.serverToken,u=rE(e.remote.companionUrl);let d,c,h,{isPaused:g}=e;const y=(C,A)=>{if(d==null||d.readyState!==d.OPEN){var R;this.uppy.log(`Cannot send "${C}" to socket ${e.id} because the socket state was ${String((R=d)==null?void 0:R.readyState)}`,"warning");return}d.send(JSON.stringify({action:C,payload:A??{}}))};function b(){s.resumableUploads&&y(g?"pause":"resume")}const S=async()=>{c&&c.abort(),c=new AbortController;const C=R=>{var B;this.uppy.setFileState(e.id,{serverToken:null}),(B=c)==null||B.abort==null||B.abort(),a(R)};function A(){clearTimeout(h),!g&&(h=setTimeout(()=>C(new Error("Timeout waiting for message from Companion socket")),aE))}try{await n.wrapPromiseFunction(async()=>{await H0(async()=>new Promise((B,J)=>{d=new WebSocket(`${u}/api/${l}`),A(),d.addEventListener("close",()=>{d=void 0,J(new Error("Socket closed unexpectedly"))}),d.addEventListener("error",Z=>{this.uppy.log(`Companion socket error ${JSON.stringify(Z)}, closing socket`,"warning"),d.close()}),d.addEventListener("open",()=>{b()}),d.addEventListener("message",Z=>{A();try{const{action:X,payload:P}=JSON.parse(Z.data);switch(X){case"progress":{nE(this,P,e);break}case"success":{var te;this.uppy.emit("upload-success",e,{uploadURL:P.url}),(te=c)==null||te.abort==null||te.abort(),o();break}case"error":{const{message:_}=P.error;throw Object.assign(new Error(_),{cause:P.error})}default:this.uppy.log(`Companion socket unknown action ${X}`,"warning")}}catch(X){C(X)}});const Se=()=>{this.uppy.log(`Closing socket ${e.id}`,"info"),clearTimeout(h),d&&d.close(),d=void 0};c.signal.addEventListener("abort",()=>{Se()})}),{retries:q0,signal:c.signal,onFailedAttempt:()=>{c.signal.aborted||this.uppy.log(`Retrying websocket ${e.id}`,"info")}})})().abortOn(c.signal)}catch(R){if(c.signal.aborted)return;C(R)}},m=C=>{if(s.resumableUploads)if(g=C,d&&b(),C){var A;(A=c)==null||A.abort==null||A.abort()}else S()},f=C=>{var A;s.individualCancellation&&C.id===e.id&&(y("cancel"),(A=c)==null||A.abort==null||A.abort(),this.uppy.log(`upload ${e.id} was removed`,"info"),o())},v=C=>{var A;let{reason:R}=C;R==="user"&&y("cancel"),(A=c)==null||A.abort==null||A.abort(),this.uppy.log(`upload ${e.id} was canceled`,"info"),o()},E=(C,A)=>{C===e.id&&m(A)},O=()=>m(!0),x=()=>m(!1);this.uppy.on("file-removed",f),this.uppy.on("cancel-all",v),this.uppy.on("upload-pause",E),this.uppy.on("pause-all",O),this.uppy.on("resume-all",x),i=()=>{this.uppy.off("file-removed",f),this.uppy.off("cancel-all",v),this.uppy.off("upload-pause",E),this.uppy.off("pause-all",O),this.uppy.off("resume-all",x)},r.addEventListener("abort",()=>{var C;(C=c)==null||C.abort()}),S()})}finally{i==null||i()}}zl.VERSION=sE.version;function pE(t,e){return new Promise(n=>{localStorage.setItem(t,e),n()})}function hE(t){return Promise.resolve(localStorage.getItem(t))}function fE(t){return new Promise(e=>{localStorage.removeItem(t),e()})}const mE=Object.freeze(Object.defineProperty({__proto__:null,getItem:hE,removeItem:fE,setItem:pE},Symbol.toStringTag,{value:"Module"}));function pn(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var gE=0;function Qp(t){return"__private_"+gE+++"_"+t}const yE=t=>t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");function vE(){return location.origin}function _m(t){if(typeof t=="string")return new RegExp(`^${t}$`);if(t instanceof RegExp)return t}function wE(t,e){return(Array.isArray(e)?e.map(_m):[_m(e)]).some(r=>(r==null?void 0:r.test(t))||(r==null?void 0:r.test(`${t}/`)))}var At=Qp("refreshingTokenPromise"),rs=Qp("getAuthToken"),is=Qp("removeAuthToken");class yl extends zl{constructor(e,n){super(e,n),Object.defineProperty(this,is,{value:_E}),Object.defineProperty(this,rs,{value:bE}),Object.defineProperty(this,At,{writable:!0,value:void 0}),this.provider=n.provider,this.id=this.provider,this.name=this.opts.name||yE(this.id),this.pluginId=this.opts.pluginId,this.tokenKey=`companion-${this.pluginId}-auth-token`,this.companionKeysParams=this.opts.companionKeysParams,this.preAuthToken=null}async headers(){const[e,n]=await Promise.all([super.headers(),pn(this,rs)[rs]()]),r={};return n&&(r["uppy-auth-token"]=n),this.companionKeysParams&&(r["uppy-credentials-params"]=btoa(JSON.stringify({params:this.companionKeysParams}))),{...e,...r}}onReceiveResponse(e){super.onReceiveResponse(e);const n=this.uppy.getPlugin(this.pluginId),i=n.getPluginState().authenticated?e.status!==401:e.status<400;return n.setPluginState({authenticated:i}),e}async setAuthToken(e){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,e)}async ensurePreAuth(){if(this.companionKeysParams&&!this.preAuthToken&&(await this.fetchPreAuthToken(),!this.preAuthToken))throw new Error("Could not load authentication data required for third-party login. Please try again later.")}authUrl(e){e===void 0&&(e={});const n=new URLSearchParams({state:btoa(JSON.stringify({origin:vE()})),...e});return this.preAuthToken&&n.set("uppyPreAuthToken",this.preAuthToken),`${this.hostname}/${this.id}/connect?${n}`}async login(e){return await this.ensurePreAuth(),new Promise((n,r)=>{const i=this.authUrl(e),s=window.open(i,"_blank"),o=a=>{if(a.source!==s){let d="";try{d=JSON.stringify(a.data)}catch{}this.uppy.log(`ignoring event from unknown source ${d}`,"warning");return}const{companionAllowedHosts:l}=this.uppy.getPlugin(this.pluginId).opts;if(!wE(a.origin,l)){r(new Error(`rejecting event from ${a.origin} vs allowed pattern ${l}`));return}const u=typeof a.data=="string"?JSON.parse(a.data):a.data;if(u.error){const{uppy:d}=this,c=d.i18n("authAborted");d.info({message:c},"warning",5e3),r(new Error("auth aborted"));return}if(!u.token){r(new Error("did not receive token from auth window"));return}s.close(),window.removeEventListener("message",o),this.setAuthToken(u.token).then(()=>n()).catch(r)};window.addEventListener("message",o)})}refreshTokenUrl(){return`${this.hostname}/${this.id}/refresh-token`}fileUrl(e){return`${this.hostname}/${this.id}/get/${e}`}async request(){await pn(this,At)[At];try{return await super.request(...arguments)}catch(e){const n=await pn(this,rs)[rs]();if(!e.isAuthError||!n)throw e;return pn(this,At)[At]==null&&(pn(this,At)[At]=(async()=>{try{this.uppy.log("[CompanionClient] Refreshing expired auth token","info");const r=await super.request({path:this.refreshTokenUrl(),method:"POST"});await this.setAuthToken(r.uppyAuthToken)}catch(r){throw r.isAuthError&&await pn(this,is)[is](),e}finally{pn(this,At)[At]=void 0}})()),await pn(this,At)[At],super.request(...arguments)}}async fetchPreAuthToken(){if(this.companionKeysParams)try{const e=await this.post(`${this.id}/preauth/`,{params:this.companionKeysParams});this.preAuthToken=e.token}catch(e){this.uppy.log(`[CompanionClient] unable to fetch preAuthToken ${e}`,"warning")}}list(e,n){return this.get(`${this.id}/list/${e||""}`,n)}async logout(e){const n=await this.get(`${this.id}/logout`,e);return await pn(this,is)[is](),n}static initPlugin(e,n,r){if(e.type="acquirer",e.files=[],r&&(e.opts={...r,...n}),n.serverUrl||n.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(n.companionAllowedHosts){const i=n.companionAllowedHosts;if(typeof i!="string"&&!Array.isArray(i)&&!(i instanceof RegExp))throw new TypeError(`${e.id}: the option "companionAllowedHosts" must be one of string, Array, RegExp`);e.opts.companionAllowedHosts=i}else/^(?!https?:\/\/).*$/i.test(n.companionUrl)?e.opts.companionAllowedHosts=`https://${n.companionUrl.replace(/^\/\//,"")}`:e.opts.companionAllowedHosts=new URL(n.companionUrl).origin;e.storage=e.opts.storage||mE}}async function bE(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)}async function _E(){return this.uppy.getPlugin(this.pluginId).storage.removeItem(this.tokenKey)}class SE extends Io{toggleCheckbox(e,n){e.stopPropagation(),e.preventDefault(),n.custom.isSharedDrive||super.toggleCheckbox(e,n)}}const PE={strings:{pluginNameGoogleDrive:"Google Drive"}},EE={version:"3.3.0"};class G0 extends Nn{constructor(e,n){super(e,n),this.id=this.opts.id||"GoogleDrive",this.title=this.opts.title||"Google Drive",yl.initPlugin(this,n),this.title=this.opts.title||"Google Drive",this.icon=()=>p("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},p("g",{fillRule:"nonzero",fill:"none"},p("path",{d:"M6.663 22.284l.97 1.62c.202.34.492.609.832.804l3.465-5.798H5c0 .378.1.755.302 1.096l1.361 2.278z",fill:"#0066DA"}),p("path",{d:"M16 12.09l-3.465-5.798c-.34.195-.63.463-.832.804l-6.4 10.718A2.15 2.15 0 005 18.91h6.93L16 12.09z",fill:"#00AC47"}),p("path",{d:"M23.535 24.708c.34-.195.63-.463.832-.804l.403-.67 1.928-3.228c.201-.34.302-.718.302-1.096h-6.93l1.474 2.802 1.991 2.996z",fill:"#EA4335"}),p("path",{d:"M16 12.09l3.465-5.798A2.274 2.274 0 0018.331 6h-4.662c-.403 0-.794.11-1.134.292L16 12.09z",fill:"#00832D"}),p("path",{d:"M20.07 18.91h-8.14l-3.465 5.798c.34.195.73.292 1.134.292h12.802c.403 0 .794-.11 1.134-.292L20.07 18.91z",fill:"#2684FC"}),p("path",{d:"M23.497 12.455l-3.2-5.359a2.252 2.252 0 00-.832-.804L16 12.09l4.07 6.82h6.917c0-.377-.1-.755-.302-1.096l-3.188-5.359z",fill:"#FFBA00"}))),this.provider=new yl(e,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"drive",pluginId:this.id}),this.defaultLocale=PE,this.i18nInit(),this.title=this.i18n("pluginNameGoogleDrive"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new SE(this,{provider:this.provider,loadAllFiles:!0});const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("root")])}render(e){return this.view.render(e)}}G0.VERSION=EE.version;const kE={strings:{pluginNameDropbox:"Dropbox"}},CE={version:"3.1.4"};class K0 extends Nn{constructor(e,n){super(e,n),this.id=this.opts.id||"Dropbox",yl.initPlugin(this,n),this.title=this.opts.title||"Dropbox",this.icon=()=>p("svg",{className:"uppy-DashboardTab-iconDropbox","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},p("path",{d:"M10.5 7.5L5 10.955l5.5 3.454 5.5-3.454 5.5 3.454 5.5-3.454L21.5 7.5 16 10.955zM10.5 21.319L5 17.864l5.5-3.455 5.5 3.455zM16 17.864l5.5-3.455 5.5 3.455-5.5 3.455zM16 25.925l-5.5-3.455 5.5-3.454 5.5 3.454z",fill:"currentcolor",fillRule:"nonzero"})),this.provider=new yl(e,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"dropbox",pluginId:this.id}),this.defaultLocale=kE,this.i18nInit(),this.title=this.i18n("pluginNameDropbox"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new Io(this,{provider:this.provider,loadAllFiles:!0});const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}render(e){return this.view.render(e)}}K0.VERSION=CE.version;function M(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var FE=0;function it(t){return"__private_"+FE+++"_"+t}function TE(t){return new Error("Cancelled",{cause:t})}function Sm(t){if(t!=null){var e;const n=()=>this.abort(t.reason);t.addEventListener("abort",n,{once:!0});const r=()=>{t.removeEventListener("abort",n)};(e=this.then)==null||e.call(this,r,r)}return this}var dt=it("activeRequests"),Ve=it("queuedHandlers"),ot=it("paused"),ur=it("pauseTimer"),ze=it("downLimit"),cr=it("upperLimit"),hn=it("rateLimitingTimer"),Ms=it("call"),Sn=it("queueNext"),fd=it("next"),Hu=it("queue"),md=it("dequeue"),Wu=it("resume"),dr=it("increaseLimit");class Q0{constructor(e){Object.defineProperty(this,md,{value:NE}),Object.defineProperty(this,Hu,{value:UE}),Object.defineProperty(this,fd,{value:AE}),Object.defineProperty(this,Sn,{value:xE}),Object.defineProperty(this,Ms,{value:OE}),Object.defineProperty(this,dt,{writable:!0,value:0}),Object.defineProperty(this,Ve,{writable:!0,value:[]}),Object.defineProperty(this,ot,{writable:!0,value:!1}),Object.defineProperty(this,ur,{writable:!0,value:void 0}),Object.defineProperty(this,ze,{writable:!0,value:1}),Object.defineProperty(this,cr,{writable:!0,value:void 0}),Object.defineProperty(this,hn,{writable:!0,value:void 0}),Object.defineProperty(this,Wu,{writable:!0,value:()=>this.resume()}),Object.defineProperty(this,dr,{writable:!0,value:()=>{if(M(this,ot)[ot]){M(this,hn)[hn]=setTimeout(M(this,dr)[dr],0);return}M(this,ze)[ze]=this.limit,this.limit=Math.ceil((M(this,cr)[cr]+M(this,ze)[ze])/2);for(let n=M(this,ze)[ze];n<=this.limit;n++)M(this,Sn)[Sn]();M(this,cr)[cr]-M(this,ze)[ze]>3?M(this,hn)[hn]=setTimeout(M(this,dr)[dr],2e3):M(this,ze)[ze]=Math.floor(M(this,ze)[ze]/2)}}),typeof e!="number"||e===0?this.limit=1/0:this.limit=e}run(e,n){return!M(this,ot)[ot]&&M(this,dt)[dt]<this.limit?M(this,Ms)[Ms](e):M(this,Hu)[Hu](e,n)}wrapSyncFunction(e,n){var r=this;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];const a=r.run(()=>(e(...s),queueMicrotask(()=>a.done()),()=>{}),n);return{abortOn:Sm,abort(){a.abort()}}}}wrapPromiseFunction(e,n){var r=this;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];let a;const l=new Promise((u,d)=>{a=r.run(()=>{let c,h;try{h=Promise.resolve(e(...s))}catch(g){h=Promise.reject(g)}return h.then(g=>{c?d(c):(a.done(),u(g))},g=>{c?d(c):(a.done(),d(g))}),g=>{c=TE(g)}},n)});return l.abort=u=>{a.abort(u)},l.abortOn=Sm,l}}resume(){M(this,ot)[ot]=!1,clearTimeout(M(this,ur)[ur]);for(let e=0;e<this.limit;e++)M(this,Sn)[Sn]()}pause(e){e===void 0&&(e=null),M(this,ot)[ot]=!0,clearTimeout(M(this,ur)[ur]),e!=null&&(M(this,ur)[ur]=setTimeout(M(this,Wu)[Wu],e))}rateLimit(e){clearTimeout(M(this,hn)[hn]),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(M(this,cr)[cr]=this.limit-1,this.limit=M(this,ze)[ze],M(this,hn)[hn]=setTimeout(M(this,dr)[dr],e))}get isPaused(){return M(this,ot)[ot]}}function OE(t){M(this,dt)[dt]+=1;let e=!1,n;try{n=t()}catch(r){throw M(this,dt)[dt]-=1,r}return{abort:r=>{e||(e=!0,M(this,dt)[dt]-=1,n==null||n(r),M(this,Sn)[Sn]())},done:()=>{e||(e=!0,M(this,dt)[dt]-=1,M(this,Sn)[Sn]())}}}function xE(){queueMicrotask(()=>M(this,fd)[fd]())}function AE(){if(M(this,ot)[ot]||M(this,dt)[dt]>=this.limit||M(this,Ve)[Ve].length===0)return;const t=M(this,Ve)[Ve].shift(),e=M(this,Ms)[Ms](t.fn);t.abort=e.abort,t.done=e.done}function UE(t,e){e===void 0&&(e={});const n={fn:t,priority:e.priority||0,abort:()=>{M(this,md)[md](n)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},r=M(this,Ve)[Ve].findIndex(i=>n.priority>i.priority);return r===-1?M(this,Ve)[Ve].push(n):M(this,Ve)[Ve].splice(r,0,n),n}function NE(t){const e=M(this,Ve)[Ve].indexOf(t);e!==-1&&M(this,Ve)[Ve].splice(e,1)}const Y0="3.7.5",RE=Y0,IE=typeof atob=="function",DE=typeof btoa=="function",Ni=typeof Buffer=="function",Pm=typeof TextDecoder=="function"?new TextDecoder:void 0,Em=typeof TextEncoder=="function"?new TextEncoder:void 0,LE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bs=Array.prototype.slice.call(LE),pa=(t=>{let e={};return t.forEach((n,r)=>e[n]=r),e})(bs),$E=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Re=String.fromCharCode.bind(String),km=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),X0=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),J0=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),Z0=t=>{let e,n,r,i,s="";const o=t.length%3;for(let a=0;a<t.length;){if((n=t.charCodeAt(a++))>255||(r=t.charCodeAt(a++))>255||(i=t.charCodeAt(a++))>255)throw new TypeError("invalid character found");e=n<<16|r<<8|i,s+=bs[e>>18&63]+bs[e>>12&63]+bs[e>>6&63]+bs[e&63]}return o?s.slice(0,o-3)+"===".substring(o):s},Yp=DE?t=>btoa(t):Ni?t=>Buffer.from(t,"binary").toString("base64"):Z0,gd=Ni?t=>Buffer.from(t).toString("base64"):t=>{let n=[];for(let r=0,i=t.length;r<i;r+=4096)n.push(Re.apply(null,t.subarray(r,r+4096)));return Yp(n.join(""))},La=(t,e=!1)=>e?X0(gd(t)):gd(t),BE=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?Re(192|e>>>6)+Re(128|e&63):Re(224|e>>>12&15)+Re(128|e>>>6&63)+Re(128|e&63)}else{var e=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return Re(240|e>>>18&7)+Re(128|e>>>12&63)+Re(128|e>>>6&63)+Re(128|e&63)}},ME=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,e1=t=>t.replace(ME,BE),Cm=Ni?t=>Buffer.from(t,"utf8").toString("base64"):Em?t=>gd(Em.encode(t)):t=>Yp(e1(t)),gi=(t,e=!1)=>e?X0(Cm(t)):Cm(t),Fm=t=>gi(t,!0),zE=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,jE=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),n=e-65536;return Re((n>>>10)+55296)+Re((n&1023)+56320);case 3:return Re((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return Re((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},t1=t=>t.replace(zE,jE),n1=t=>{if(t=t.replace(/\s+/g,""),!$E.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,n="",r,i;for(let s=0;s<t.length;)e=pa[t.charAt(s++)]<<18|pa[t.charAt(s++)]<<12|(r=pa[t.charAt(s++)])<<6|(i=pa[t.charAt(s++)]),n+=r===64?Re(e>>16&255):i===64?Re(e>>16&255,e>>8&255):Re(e>>16&255,e>>8&255,e&255);return n},Xp=IE?t=>atob(J0(t)):Ni?t=>Buffer.from(t,"base64").toString("binary"):n1,r1=Ni?t=>km(Buffer.from(t,"base64")):t=>km(Xp(t).split("").map(e=>e.charCodeAt(0))),i1=t=>r1(s1(t)),HE=Ni?t=>Buffer.from(t,"base64").toString("utf8"):Pm?t=>Pm.decode(r1(t)):t=>t1(Xp(t)),s1=t=>J0(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),yd=t=>HE(s1(t)),WE=t=>{if(typeof t!="string")return!1;const e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},o1=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),a1=function(){const t=(e,n)=>Object.defineProperty(String.prototype,e,o1(n));t("fromBase64",function(){return yd(this)}),t("toBase64",function(e){return gi(this,e)}),t("toBase64URI",function(){return gi(this,!0)}),t("toBase64URL",function(){return gi(this,!0)}),t("toUint8Array",function(){return i1(this)})},l1=function(){const t=(e,n)=>Object.defineProperty(Uint8Array.prototype,e,o1(n));t("toBase64",function(e){return La(this,e)}),t("toBase64URI",function(){return La(this,!0)}),t("toBase64URL",function(){return La(this,!0)})},qE=()=>{a1(),l1()},VE={version:Y0,VERSION:RE,atob:Xp,atobPolyfill:n1,btoa:Yp,btoaPolyfill:Z0,fromBase64:yd,toBase64:gi,encode:gi,encodeURI:Fm,encodeURL:Fm,utob:e1,btou:t1,decode:yd,isValid:WE,fromUint8Array:La,toUint8Array:i1,extendString:a1,extendUint8Array:l1,extendBuiltins:qE};var GE=function(e,n){if(n=n.split(":")[0],e=+e,!e)return!1;switch(n){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0},Jp={},KE=Object.prototype.hasOwnProperty,QE;function Tm(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch{return null}}function Om(t){try{return encodeURIComponent(t)}catch{return null}}function YE(t){for(var e=/([^=?#&]+)=?([^&]*)/g,n={},r;r=e.exec(t);){var i=Tm(r[1]),s=Tm(r[2]);i===null||s===null||i in n||(n[i]=s)}return n}function XE(t,e){e=e||"";var n=[],r,i;typeof e!="string"&&(e="?");for(i in t)if(KE.call(t,i)){if(r=t[i],!r&&(r===null||r===QE||isNaN(r))&&(r=""),i=Om(i),r=Om(r),i===null||r===null)continue;n.push(i+"="+r)}return n.length?e+n.join("&"):""}Jp.stringify=XE;Jp.parse=YE;var u1=GE,jl=Jp,JE=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,c1=/[\n\r\t]/g,ZE=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,d1=/:\d+$/,ek=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,tk=/^[a-zA-Z]:/;function Zp(t){return(t||"").toString().replace(JE,"")}var vd=[["#","hash"],["?","query"],function(e,n){return tn(n.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],xm={hash:1,query:1};function p1(t){var e;typeof window<"u"?e=window:typeof Qr<"u"?e=Qr:typeof self<"u"?e=self:e={};var n=e.location||{};t=t||n;var r={},i=typeof t,s;if(t.protocol==="blob:")r=new nn(unescape(t.pathname),{});else if(i==="string"){r=new nn(t,{});for(s in xm)delete r[s]}else if(i==="object"){for(s in t)s in xm||(r[s]=t[s]);r.slashes===void 0&&(r.slashes=ZE.test(t.href))}return r}function tn(t){return t==="file:"||t==="ftp:"||t==="http:"||t==="https:"||t==="ws:"||t==="wss:"}function h1(t,e){t=Zp(t),t=t.replace(c1,""),e=e||{};var n=ek.exec(t),r=n[1]?n[1].toLowerCase():"",i=!!n[2],s=!!n[3],o=0,a;return i?s?(a=n[2]+n[3]+n[4],o=n[2].length+n[3].length):(a=n[2]+n[4],o=n[2].length):s?(a=n[3]+n[4],o=n[3].length):a=n[4],r==="file:"?o>=2&&(a=a.slice(2)):tn(r)?a=n[4]:r?i&&(a=a.slice(2)):o>=2&&tn(e.protocol)&&(a=n[4]),{protocol:r,slashes:i||tn(r),slashesCount:o,rest:a}}function nk(t,e){if(t==="")return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,i=n[r-1],s=!1,o=0;r--;)n[r]==="."?n.splice(r,1):n[r]===".."?(n.splice(r,1),o++):o&&(r===0&&(s=!0),n.splice(r,1),o--);return s&&n.unshift(""),(i==="."||i==="..")&&n.push(""),n.join("/")}function nn(t,e,n){if(t=Zp(t),t=t.replace(c1,""),!(this instanceof nn))return new nn(t,e,n);var r,i,s,o,a,l,u=vd.slice(),d=typeof e,c=this,h=0;for(d!=="object"&&d!=="string"&&(n=e,e=null),n&&typeof n!="function"&&(n=jl.parse),e=p1(e),i=h1(t||"",e),r=!i.protocol&&!i.slashes,c.slashes=i.slashes||r&&e.slashes,c.protocol=i.protocol||e.protocol||"",t=i.rest,(i.protocol==="file:"&&(i.slashesCount!==2||tk.test(t))||!i.slashes&&(i.protocol||i.slashesCount<2||!tn(c.protocol)))&&(u[3]=[/(.*)/,"pathname"]);h<u.length;h++){if(o=u[h],typeof o=="function"){t=o(t,c);continue}s=o[0],l=o[1],s!==s?c[l]=t:typeof s=="string"?(a=s==="@"?t.lastIndexOf(s):t.indexOf(s),~a&&(typeof o[2]=="number"?(c[l]=t.slice(0,a),t=t.slice(a+o[2])):(c[l]=t.slice(a),t=t.slice(0,a)))):(a=s.exec(t))&&(c[l]=a[1],t=t.slice(0,a.index)),c[l]=c[l]||r&&o[3]&&e[l]||"",o[4]&&(c[l]=c[l].toLowerCase())}n&&(c.query=n(c.query)),r&&e.slashes&&c.pathname.charAt(0)!=="/"&&(c.pathname!==""||e.pathname!=="")&&(c.pathname=nk(c.pathname,e.pathname)),c.pathname.charAt(0)!=="/"&&tn(c.protocol)&&(c.pathname="/"+c.pathname),u1(c.port,c.protocol)||(c.host=c.hostname,c.port=""),c.username=c.password="",c.auth&&(a=c.auth.indexOf(":"),~a?(c.username=c.auth.slice(0,a),c.username=encodeURIComponent(decodeURIComponent(c.username)),c.password=c.auth.slice(a+1),c.password=encodeURIComponent(decodeURIComponent(c.password))):c.username=encodeURIComponent(decodeURIComponent(c.auth)),c.auth=c.password?c.username+":"+c.password:c.username),c.origin=c.protocol!=="file:"&&tn(c.protocol)&&c.host?c.protocol+"//"+c.host:"null",c.href=c.toString()}function rk(t,e,n){var r=this;switch(t){case"query":typeof e=="string"&&e.length&&(e=(n||jl.parse)(e)),r[t]=e;break;case"port":r[t]=e,u1(e,r.protocol)?e&&(r.host=r.hostname+":"+e):(r.host=r.hostname,r[t]="");break;case"hostname":r[t]=e,r.port&&(e+=":"+r.port),r.host=e;break;case"host":r[t]=e,d1.test(e)?(e=e.split(":"),r.port=e.pop(),r.hostname=e.join(":")):(r.hostname=e,r.port="");break;case"protocol":r.protocol=e.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(e){var i=t==="pathname"?"/":"#";r[t]=e.charAt(0)!==i?i+e:e}else r[t]=e;break;case"username":case"password":r[t]=encodeURIComponent(e);break;case"auth":var s=e.indexOf(":");~s?(r.username=e.slice(0,s),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=e.slice(s+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(e))}for(var o=0;o<vd.length;o++){var a=vd[o];a[4]&&(r[a[1]]=r[a[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin=r.protocol!=="file:"&&tn(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r}function ik(t){(!t||typeof t!="function")&&(t=jl.stringify);var e,n=this,r=n.host,i=n.protocol;i&&i.charAt(i.length-1)!==":"&&(i+=":");var s=i+(n.protocol&&n.slashes||tn(n.protocol)?"//":"");return n.username?(s+=n.username,n.password&&(s+=":"+n.password),s+="@"):n.password?(s+=":"+n.password,s+="@"):n.protocol!=="file:"&&tn(n.protocol)&&!r&&n.pathname!=="/"&&(s+="@"),(r[r.length-1]===":"||d1.test(n.hostname)&&!n.port)&&(r+=":"),s+=r+n.pathname,e=typeof n.query=="object"?t(n.query):n.query,e&&(s+=e.charAt(0)!=="?"?"?"+e:e),n.hash&&(s+=n.hash),s}nn.prototype={set:rk,toString:ik};nn.extractProtocol=h1;nn.location=p1;nn.trimLeft=Zp;nn.qs=jl;var sk=nn;const ok=rt(sk);function Ci(t){"@babel/helpers - typeof";return Ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ci(t)}function Am(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lk(r.key),r)}}function ak(t,e,n){return e&&Am(t.prototype,e),n&&Am(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lk(t){var e=uk(t,"string");return Ci(e)==="symbol"?e:String(e)}function uk(t,e){if(Ci(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ci(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dk(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vo(t,e)}function pk(t){var e=f1();return function(){var r=wo(t),i;if(e){var s=wo(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return hk(this,i)}}function hk(t,e){if(e&&(Ci(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fk(t)}function fk(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wd(t){var e=typeof Map=="function"?new Map:void 0;return wd=function(r){if(r===null||!mk(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return $a(r,arguments,wo(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),vo(i,r)},wd(t)}function $a(t,e,n){return f1()?$a=Reflect.construct.bind():$a=function(i,s,o){var a=[null];a.push.apply(a,s);var l=Function.bind.apply(i,a),u=new l;return o&&vo(u,o.prototype),u},$a.apply(null,arguments)}function f1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mk(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function vo(t,e){return vo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vo(t,e)}function wo(t){return wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wo(t)}var ha=function(t){dk(n,t);var e=pk(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(ck(this,n),i=e.call(this,r),i.originalRequest=o,i.originalResponse=a,i.causingError=s,s!=null&&(r+=", caused by ".concat(s.toString())),o!=null){var l=o.getHeader("X-Request-ID")||"n/a",u=o.getMethod(),d=o.getURL(),c=a?a.getStatus():"n/a",h=a?a.getBody()||"":"n/a";r+=", originated from request (method: ".concat(u,", url: ").concat(d,", response code: ").concat(c,", response text: ").concat(h,", request id: ").concat(l,")")}return i.message=r,i}return ak(n)}(wd(Error));function gk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t==="x"?e:e&3|8;return n.toString(16)})}function bd(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */bd=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(P,_,w){P[_]=w.value},s=typeof Symbol=="function"?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function u(P,_,w){return Object.defineProperty(P,_,{value:w,enumerable:!0,configurable:!0,writable:!0}),P[_]}try{u({},"")}catch{u=function(w,k,F){return w[k]=F}}function d(P,_,w,k){var F=_&&_.prototype instanceof m?_:m,T=Object.create(F.prototype),I=new te(k||[]);return i(T,"_invoke",{value:B(P,w,I)}),T}function c(P,_,w){try{return{type:"normal",arg:P.call(_,w)}}catch(k){return{type:"throw",arg:k}}}e.wrap=d;var h="suspendedStart",g="suspendedYield",y="executing",b="completed",S={};function m(){}function f(){}function v(){}var E={};u(E,o,function(){return this});var O=Object.getPrototypeOf,x=O&&O(O(X([])));x&&x!==n&&r.call(x,o)&&(E=x);var C=v.prototype=m.prototype=Object.create(E);function A(P){["next","throw","return"].forEach(function(_){u(P,_,function(w){return this._invoke(_,w)})})}function R(P,_){function w(F,T,I,z){var H=c(P[F],P,T);if(H.type!=="throw"){var ye=H.arg,ee=ye.value;return ee&&Mr(ee)=="object"&&r.call(ee,"__await")?_.resolve(ee.__await).then(function(re){w("next",re,I,z)},function(re){w("throw",re,I,z)}):_.resolve(ee).then(function(re){ye.value=re,I(ye)},function(re){return w("throw",re,I,z)})}z(H.arg)}var k;i(this,"_invoke",{value:function(T,I){function z(){return new _(function(H,ye){w(T,I,H,ye)})}return k=k?k.then(z,z):z()}})}function B(P,_,w){var k=h;return function(F,T){if(k===y)throw new Error("Generator is already running");if(k===b){if(F==="throw")throw T;return{value:t,done:!0}}for(w.method=F,w.arg=T;;){var I=w.delegate;if(I){var z=J(I,w);if(z){if(z===S)continue;return z}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(k===h)throw k=b,w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);k=y;var H=c(P,_,w);if(H.type==="normal"){if(k=w.done?b:g,H.arg===S)continue;return{value:H.arg,done:w.done}}H.type==="throw"&&(k=b,w.method="throw",w.arg=H.arg)}}}function J(P,_){var w=_.method,k=P.iterator[w];if(k===t)return _.delegate=null,w==="throw"&&P.iterator.return&&(_.method="return",_.arg=t,J(P,_),_.method==="throw")||w!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+w+"' method")),S;var F=c(k,P.iterator,_.arg);if(F.type==="throw")return _.method="throw",_.arg=F.arg,_.delegate=null,S;var T=F.arg;return T?T.done?(_[P.resultName]=T.value,_.next=P.nextLoc,_.method!=="return"&&(_.method="next",_.arg=t),_.delegate=null,S):T:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,S)}function Se(P){var _={tryLoc:P[0]};1 in P&&(_.catchLoc=P[1]),2 in P&&(_.finallyLoc=P[2],_.afterLoc=P[3]),this.tryEntries.push(_)}function Z(P){var _=P.completion||{};_.type="normal",delete _.arg,P.completion=_}function te(P){this.tryEntries=[{tryLoc:"root"}],P.forEach(Se,this),this.reset(!0)}function X(P){if(P||P===""){var _=P[o];if(_)return _.call(P);if(typeof P.next=="function")return P;if(!isNaN(P.length)){var w=-1,k=function F(){for(;++w<P.length;)if(r.call(P,w))return F.value=P[w],F.done=!1,F;return F.value=t,F.done=!0,F};return k.next=k}}throw new TypeError(Mr(P)+" is not iterable")}return f.prototype=v,i(C,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:f,configurable:!0}),f.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(P){var _=typeof P=="function"&&P.constructor;return!!_&&(_===f||(_.displayName||_.name)==="GeneratorFunction")},e.mark=function(P){return Object.setPrototypeOf?Object.setPrototypeOf(P,v):(P.__proto__=v,u(P,l,"GeneratorFunction")),P.prototype=Object.create(C),P},e.awrap=function(P){return{__await:P}},A(R.prototype),u(R.prototype,a,function(){return this}),e.AsyncIterator=R,e.async=function(P,_,w,k,F){F===void 0&&(F=Promise);var T=new R(d(P,_,w,k),F);return e.isGeneratorFunction(_)?T:T.next().then(function(I){return I.done?I.value:T.next()})},A(C),u(C,l,"Generator"),u(C,o,function(){return this}),u(C,"toString",function(){return"[object Generator]"}),e.keys=function(P){var _=Object(P),w=[];for(var k in _)w.push(k);return w.reverse(),function F(){for(;w.length;){var T=w.pop();if(T in _)return F.value=T,F.done=!1,F}return F.done=!0,F}},e.values=X,te.prototype={constructor:te,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(Z),!_)for(var w in this)w.charAt(0)==="t"&&r.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=t)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var w=this;function k(ye,ee){return I.type="throw",I.arg=_,w.next=ye,ee&&(w.method="next",w.arg=t),!!ee}for(var F=this.tryEntries.length-1;F>=0;--F){var T=this.tryEntries[F],I=T.completion;if(T.tryLoc==="root")return k("end");if(T.tryLoc<=this.prev){var z=r.call(T,"catchLoc"),H=r.call(T,"finallyLoc");if(z&&H){if(this.prev<T.catchLoc)return k(T.catchLoc,!0);if(this.prev<T.finallyLoc)return k(T.finallyLoc)}else if(z){if(this.prev<T.catchLoc)return k(T.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<T.finallyLoc)return k(T.finallyLoc)}}}},abrupt:function(_,w){for(var k=this.tryEntries.length-1;k>=0;--k){var F=this.tryEntries[k];if(F.tryLoc<=this.prev&&r.call(F,"finallyLoc")&&this.prev<F.finallyLoc){var T=F;break}}T&&(_==="break"||_==="continue")&&T.tryLoc<=w&&w<=T.finallyLoc&&(T=null);var I=T?T.completion:{};return I.type=_,I.arg=w,T?(this.method="next",this.next=T.finallyLoc,S):this.complete(I)},complete:function(_,w){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&w&&(this.next=w),S},finish:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var k=this.tryEntries[w];if(k.finallyLoc===_)return this.complete(k.completion,k.afterLoc),Z(k),S}},catch:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var k=this.tryEntries[w];if(k.tryLoc===_){var F=k.completion;if(F.type==="throw"){var T=F.arg;Z(k)}return T}}throw new Error("illegal catch attempt")},delegateYield:function(_,w,k){return this.delegate={iterator:X(_),resultName:w,nextLoc:k},this.method==="next"&&(this.arg=t),S}},e}function Um(t,e,n,r,i,s,o){try{var a=t[s](o),l=a.value}catch(u){n(u);return}a.done?e(l):Promise.resolve(l).then(r,i)}function yk(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){Um(s,r,i,o,a,"next",l)}function a(l){Um(s,r,i,o,a,"throw",l)}o(void 0)})}}function m1(t,e){return _k(t)||bk(t,e)||wk(t,e)||vk()}function vk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wk(t,e){if(t){if(typeof t=="string")return Nm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nm(t,e)}}function Nm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bk(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function _k(t){if(Array.isArray(t))return t}function Mr(t){"@babel/helpers - typeof";return Mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mr(t)}function Rm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rm(Object(n),!0).forEach(function(r){Sk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sk(t,e,n){return e=g1(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Im(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g1(r.key),r)}}function Ek(t,e,n){return e&&Im(t.prototype,e),n&&Im(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function g1(t){var e=kk(t,"string");return Mr(e)==="symbol"?e:String(e)}function kk(t,e){if(Mr(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ck={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:y1,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,parallelUploadBoundaries:null,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null},vl=function(){function t(e,n){Pk(this,t),"resume"in n&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=n,this.options.chunkSize=Number(this.options.chunkSize),this._urlStorage=this.options.urlStorage,this.file=e,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return Ek(t,[{key:"findPreviousUploads",value:function(){var n=this;return this.options.fingerprint(this.file,this.options).then(function(r){return n._urlStorage.findUploadsByFingerprint(r)})}},{key:"resumeFromPreviousUpload",value:function(n){this.url=n.uploadUrl||null,this._parallelUploadUrls=n.parallelUploadUrls||null,this._urlStorageKey=n.urlStorageKey}},{key:"start",value:function(){var n=this,r=this.file;if(!r){this._emitError(new Error("tus: no file or stream to upload provided"));return}if(!this.options.endpoint&&!this.options.uploadUrl&&!this.url){this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));return}var i=this.options.retryDelays;if(i!=null&&Object.prototype.toString.call(i)!=="[object Array]"){this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));return}if(this.options.parallelUploads>1)for(var s=0,o=["uploadUrl","uploadSize","uploadLengthDeferred"];s<o.length;s++){var a=o[s];if(this.options[a]){this._emitError(new Error("tus: cannot use the ".concat(a," option when parallelUploads is enabled")));return}}if(this.options.parallelUploadBoundaries){if(this.options.parallelUploads<=1){this._emitError(new Error("tus: cannot use the `parallelUploadBoundaries` option when `parallelUploads` is disabled"));return}if(this.options.parallelUploads!==this.options.parallelUploadBoundaries.length){this._emitError(new Error("tus: the `parallelUploadBoundaries` must have the same length as the value of `parallelUploads`"));return}}this.options.fingerprint(r,this.options).then(function(l){return n._fingerprint=l,n._source?n._source:n.options.fileReader.openFile(r,n.options.chunkSize)}).then(function(l){if(n._source=l,n.options.uploadLengthDeferred)n._size=null;else if(n.options.uploadSize!=null){if(n._size=Number(n.options.uploadSize),Number.isNaN(n._size)){n._emitError(new Error("tus: cannot convert `uploadSize` option into a number"));return}}else if(n._size=n._source.size,n._size==null){n._emitError(new Error("tus: cannot automatically derive upload's size from input. Specify it manually using the `uploadSize` option or use the `uploadLengthDeferred` option"));return}n.options.parallelUploads>1||n._parallelUploadUrls!=null?n._startParallelUpload():n._startSingleUpload()}).catch(function(l){n._emitError(l)})}},{key:"_startParallelUpload",value:function(){var n,r=this,i=this._size,s=0;this._parallelUploads=[];var o=this._parallelUploadUrls!=null?this._parallelUploadUrls.length:this.options.parallelUploads,a=(n=this.options.parallelUploadBoundaries)!==null&&n!==void 0?n:Tk(this._source.size,o);this._parallelUploadUrls&&a.forEach(function(d,c){d.uploadUrl=r._parallelUploadUrls[c]||null}),this._parallelUploadUrls=new Array(a.length);var l=a.map(function(d,c){var h=0;return r._source.slice(d.start,d.end).then(function(g){var y=g.value;return new Promise(function(b,S){var m=Vr(Vr({},r.options),{},{uploadUrl:d.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,parallelUploadBoundaries:null,metadata:{},headers:Vr(Vr({},r.options.headers),{},{"Upload-Concat":"partial"}),onSuccess:b,onError:S,onProgress:function(E){s=s-h+E,h=E,r._emitProgress(s,i)},onUploadUrlAvailable:function(){r._parallelUploadUrls[c]=f.url,r._parallelUploadUrls.filter(function(E){return!!E}).length===a.length&&r._saveUploadInUrlStorage()}}),f=new t(y,m);f.start(),r._parallelUploads.push(f)})})}),u;Promise.all(l).then(function(){u=r._openRequest("POST",r.options.endpoint),u.setHeader("Upload-Concat","final;".concat(r._parallelUploadUrls.join(" ")));var d=Dm(r.options.metadata);return d!==""&&u.setHeader("Upload-Metadata",d),r._sendRequest(u,null)}).then(function(d){if(!Kr(d.getStatus(),200)){r._emitHttpError(u,d,"tus: unexpected response while creating upload");return}var c=d.getHeader("Location");if(c==null){r._emitHttpError(u,d,"tus: invalid or missing Location header");return}r.url=Mm(r.options.endpoint,c),"Created upload at ".concat(r.url),r._emitSuccess()}).catch(function(d){r._emitError(d)})}},{key:"_startSingleUpload",value:function(){if(this._aborted=!1,this.url!=null){"Resuming upload from previous URL: ".concat(this.url),this._resumeUpload();return}if(this.options.uploadUrl!=null){"Resuming upload from provided URL: ".concat(this.options.uploadUrl),this.url=this.options.uploadUrl,this._resumeUpload();return}this._createUpload()}},{key:"abort",value:function(n){var r=this;return this._parallelUploads!=null&&this._parallelUploads.forEach(function(i){i.abort(n)}),this._req!==null&&this._req.abort(),this._aborted=!0,this._retryTimeout!=null&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),!n||this.url==null?Promise.resolve():t.terminate(this.url,this.options).then(function(){return r._removeFromUrlStorage()})}},{key:"_emitHttpError",value:function(n,r,i,s){this._emitError(new ha(i,s,n,r))}},{key:"_emitError",value:function(n){var r=this;if(!this._aborted){if(this.options.retryDelays!=null){var i=this._offset!=null&&this._offset>this._offsetBeforeRetry;if(i&&(this._retryAttempt=0),Bm(n,this._retryAttempt,this.options)){var s=this.options.retryDelays[this._retryAttempt++];this._offsetBeforeRetry=this._offset,this._retryTimeout=setTimeout(function(){r.start()},s);return}}if(typeof this.options.onError=="function")this.options.onError(n);else throw n}}},{key:"_emitSuccess",value:function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),typeof this.options.onSuccess=="function"&&this.options.onSuccess()}},{key:"_emitProgress",value:function(n,r){typeof this.options.onProgress=="function"&&this.options.onProgress(n,r)}},{key:"_emitChunkComplete",value:function(n,r,i){typeof this.options.onChunkComplete=="function"&&this.options.onChunkComplete(n,r,i)}},{key:"_createUpload",value:function(){var n=this;if(!this.options.endpoint){this._emitError(new Error("tus: unable to create upload because no endpoint is provided"));return}var r=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?r.setHeader("Upload-Defer-Length",1):r.setHeader("Upload-Length",this._size);var i=Dm(this.options.metadata);i!==""&&r.setHeader("Upload-Metadata",i);var s;this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,s=this._addChunkToRequest(r)):s=this._sendRequest(r,null),s.then(function(o){if(!Kr(o.getStatus(),200)){n._emitHttpError(r,o,"tus: unexpected response while creating upload");return}var a=o.getHeader("Location");if(a==null){n._emitHttpError(r,o,"tus: invalid or missing Location header");return}if(n.url=Mm(n.options.endpoint,a),"Created upload at ".concat(n.url),typeof n.options.onUploadUrlAvailable=="function"&&n.options.onUploadUrlAvailable(),n._size===0){n._emitSuccess(),n._source.close();return}n._saveUploadInUrlStorage().then(function(){n.options.uploadDataDuringCreation?n._handleUploadResponse(r,o):(n._offset=0,n._performUpload())})}).catch(function(o){n._emitHttpError(r,null,"tus: failed to create upload",o)})}},{key:"_resumeUpload",value:function(){var n=this,r=this._openRequest("HEAD",this.url),i=this._sendRequest(r,null);i.then(function(s){var o=s.getStatus();if(!Kr(o,200)){if(o===423){n._emitHttpError(r,s,"tus: upload is currently locked; retry later");return}if(Kr(o,400)&&n._removeFromUrlStorage(),!n.options.endpoint){n._emitHttpError(r,s,"tus: unable to resume upload (new upload cannot be created without an endpoint)");return}n.url=null,n._createUpload();return}var a=parseInt(s.getHeader("Upload-Offset"),10);if(Number.isNaN(a)){n._emitHttpError(r,s,"tus: invalid or missing offset value");return}var l=parseInt(s.getHeader("Upload-Length"),10);if(Number.isNaN(l)&&!n.options.uploadLengthDeferred){n._emitHttpError(r,s,"tus: invalid or missing length value");return}typeof n.options.onUploadUrlAvailable=="function"&&n.options.onUploadUrlAvailable(),n._saveUploadInUrlStorage().then(function(){if(a===l){n._emitProgress(l,l),n._emitSuccess();return}n._offset=a,n._performUpload()})}).catch(function(s){n._emitHttpError(r,null,"tus: failed to resume upload",s)})}},{key:"_performUpload",value:function(){var n=this;if(!this._aborted){var r;this.options.overridePatchMethod?(r=this._openRequest("POST",this.url),r.setHeader("X-HTTP-Method-Override","PATCH")):r=this._openRequest("PATCH",this.url),r.setHeader("Upload-Offset",this._offset);var i=this._addChunkToRequest(r);i.then(function(s){if(!Kr(s.getStatus(),200)){n._emitHttpError(r,s,"tus: unexpected response while uploading chunk");return}n._handleUploadResponse(r,s)}).catch(function(s){n._aborted||n._emitHttpError(r,null,"tus: failed to upload chunk at offset ".concat(n._offset),s)})}}},{key:"_addChunkToRequest",value:function(n){var r=this,i=this._offset,s=this._offset+this.options.chunkSize;return n.setProgressHandler(function(o){r._emitProgress(i+o,r._size)}),n.setHeader("Content-Type","application/offset+octet-stream"),(s===1/0||s>this._size)&&!this.options.uploadLengthDeferred&&(s=this._size),this._source.slice(i,s).then(function(o){var a=o.value,l=o.done,u=a&&a.size?a.size:0;r.options.uploadLengthDeferred&&l&&(r._size=r._offset+u,n.setHeader("Upload-Length",r._size));var d=r._offset+u;return!r.options.uploadLengthDeferred&&l&&d!==r._size?Promise.reject(new Error("upload was configured with a size of ".concat(r._size," bytes, but the source is done after ").concat(d," bytes"))):a===null?r._sendRequest(n):(r._emitProgress(r._offset,r._size),r._sendRequest(n,a))})}},{key:"_handleUploadResponse",value:function(n,r){var i=parseInt(r.getHeader("Upload-Offset"),10);if(Number.isNaN(i)){this._emitHttpError(n,r,"tus: invalid or missing offset value");return}if(this._emitProgress(i,this._size),this._emitChunkComplete(i-this._offset,i,this._size),this._offset=i,i===this._size){this._emitSuccess(),this._source.close();return}this._performUpload()}},{key:"_openRequest",value:function(n,r){var i=Lm(n,r,this.options);return this._req=i,i}},{key:"_removeFromUrlStorage",value:function(){var n=this;this._urlStorageKey&&(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(r){n._emitError(r)}),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function(){var n=this;if(!this.options.storeFingerprintForResuming||!this._fingerprint||this._urlStorageKey!==null)return Promise.resolve();var r={size:this._size,metadata:this.options.metadata,creationTime:new Date().toString()};return this._parallelUploads?r.parallelUploadUrls=this._parallelUploadUrls:r.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,r).then(function(i){n._urlStorageKey=i})}},{key:"_sendRequest",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return $m(n,r,this.options)}}],[{key:"terminate",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=Lm("DELETE",n,r);return $m(i,null,r).then(function(s){if(s.getStatus()!==204)throw new ha("tus: unexpected response while terminating upload",null,i,s)}).catch(function(s){if(s instanceof ha||(s=new ha("tus: failed to terminate upload",s,i,null)),!Bm(s,0,r))throw s;var o=r.retryDelays[0],a=r.retryDelays.slice(1),l=Vr(Vr({},r),{},{retryDelays:a});return new Promise(function(u){return setTimeout(u,o)}).then(function(){return t.terminate(n,l)})})}}]),t}();function Dm(t){return Object.entries(t).map(function(e){var n=m1(e,2),r=n[0],i=n[1];return"".concat(r," ").concat(VE.encode(String(i)))}).join(",")}function Kr(t,e){return t>=e&&t<e+100}function Lm(t,e,n){var r=n.httpStack.createRequest(t,e);r.setHeader("Tus-Resumable","1.0.0");var i=n.headers||{};if(Object.entries(i).forEach(function(o){var a=m1(o,2),l=a[0],u=a[1];r.setHeader(l,u)}),n.addRequestId){var s=gk();r.setHeader("X-Request-ID",s)}return r}function $m(t,e,n){return _d.apply(this,arguments)}function _d(){return _d=yk(bd().mark(function t(e,n,r){var i;return bd().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(typeof r.onBeforeRequest!="function"){o.next=3;break}return o.next=3,r.onBeforeRequest(e);case 3:return o.next=5,e.send(n);case 5:if(i=o.sent,typeof r.onAfterResponse!="function"){o.next=9;break}return o.next=9,r.onAfterResponse(e,i);case 9:return o.abrupt("return",i);case 10:case"end":return o.stop()}},t)})),_d.apply(this,arguments)}function Fk(){var t=!0;return typeof window<"u"&&"navigator"in window&&window.navigator.onLine===!1&&(t=!1),t}function Bm(t,e,n){return n.retryDelays==null||e>=n.retryDelays.length||t.originalRequest==null?!1:n&&typeof n.onShouldRetry=="function"?n.onShouldRetry(t,e,n):y1(t)}function y1(t){var e=t.originalResponse?t.originalResponse.getStatus():0;return(!Kr(e,400)||e===409||e===423)&&Fk()}function Mm(t,e){return new ok(e,t).toString()}function Tk(t,e){for(var n=Math.floor(t/e),r=[],i=0;i<e;i++)r.push({start:n*i,end:n*(i+1)});return r[e-1].end=t,r}vl.defaultOptions=Ck;function bo(t){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bo(t)}function Ok(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ak(r.key),r)}}function xk(t,e,n){return e&&zm(t.prototype,e),n&&zm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ak(t){var e=Uk(t,"string");return bo(e)==="symbol"?e:String(e)}function Uk(t,e){if(bo(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bo(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nk=function(){function t(){Ok(this,t)}return xk(t,[{key:"listAllUploads",value:function(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function(n){return Promise.resolve([])}},{key:"removeUpload",value:function(n){return Promise.resolve()}},{key:"addUpload",value:function(n,r){return Promise.resolve(null)}}]),t}();function _o(t){"@babel/helpers - typeof";return _o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_o(t)}function Rk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dk(r.key),r)}}function Ik(t,e,n){return e&&jm(t.prototype,e),n&&jm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dk(t){var e=Lk(t,"string");return _o(e)==="symbol"?e:String(e)}function Lk(t,e){if(_o(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_o(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sd=!1;try{Sd="localStorage"in window;var qu="tusSupport",Hm=localStorage.getItem(qu);localStorage.setItem(qu,Hm),Hm===null&&localStorage.removeItem(qu)}catch(t){if(t.code===t.SECURITY_ERR||t.code===t.QUOTA_EXCEEDED_ERR)Sd=!1;else throw t}var $k=Sd,Bk=function(){function t(){Rk(this,t)}return Ik(t,[{key:"findAllUploads",value:function(){var n=this._findEntries("tus::");return Promise.resolve(n)}},{key:"findUploadsByFingerprint",value:function(n){var r=this._findEntries("tus::".concat(n,"::"));return Promise.resolve(r)}},{key:"removeUpload",value:function(n){return localStorage.removeItem(n),Promise.resolve()}},{key:"addUpload",value:function(n,r){var i=Math.round(Math.random()*1e12),s="tus::".concat(n,"::").concat(i);return localStorage.setItem(s,JSON.stringify(r)),Promise.resolve(s)}},{key:"_findEntries",value:function(n){for(var r=[],i=0;i<localStorage.length;i++){var s=localStorage.key(i);if(s.indexOf(n)===0)try{var o=JSON.parse(localStorage.getItem(s));o.urlStorageKey=s,r.push(o)}catch{}}return r}}]),t}();function So(t){"@babel/helpers - typeof";return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},So(t)}function eh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mk(r.key),r)}}function th(t,e,n){return e&&Wm(t.prototype,e),n&&Wm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mk(t){var e=zk(t,"string");return So(e)==="symbol"?e:String(e)}function zk(t,e){if(So(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(So(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jk=function(){function t(){eh(this,t)}return th(t,[{key:"createRequest",value:function(n,r){return new Hk(n,r)}},{key:"getName",value:function(){return"XHRHttpStack"}}]),t}(),Hk=function(){function t(e,n){eh(this,t),this._xhr=new XMLHttpRequest,this._xhr.open(e,n,!0),this._method=e,this._url=n,this._headers={}}return th(t,[{key:"getMethod",value:function(){return this._method}},{key:"getURL",value:function(){return this._url}},{key:"setHeader",value:function(n,r){this._xhr.setRequestHeader(n,r),this._headers[n]=r}},{key:"getHeader",value:function(n){return this._headers[n]}},{key:"setProgressHandler",value:function(n){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(r){r.lengthComputable&&n(r.loaded)})}},{key:"send",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return new Promise(function(i,s){n._xhr.onload=function(){i(new Wk(n._xhr))},n._xhr.onerror=function(o){s(o)},n._xhr.send(r)})}},{key:"abort",value:function(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),t}(),Wk=function(){function t(e){eh(this,t),this._xhr=e}return th(t,[{key:"getStatus",value:function(){return this._xhr.status}},{key:"getHeader",value:function(n){return this._xhr.getResponseHeader(n)}},{key:"getBody",value:function(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),t}(),v1=function(){return typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"};function qk(t){return new Promise(function(e,n){var r=new XMLHttpRequest;r.responseType="blob",r.onload=function(){var i=r.response;e(i)},r.onerror=function(i){n(i)},r.open("GET",t),r.send()})}var Vk=function(){return typeof window<"u"&&(typeof window.PhoneGap<"u"||typeof window.Cordova<"u"||typeof window.cordova<"u")};function Gk(t){return new Promise(function(e,n){var r=new FileReader;r.onload=function(){var i=new Uint8Array(r.result);e({value:i})},r.onerror=function(i){n(i)},r.readAsArrayBuffer(t)})}function Po(t){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Po(t)}function Kk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yk(r.key),r)}}function Qk(t,e,n){return e&&qm(t.prototype,e),n&&qm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yk(t){var e=Xk(t,"string");return Po(e)==="symbol"?e:String(e)}function Xk(t,e){if(Po(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Po(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vm=function(){function t(e){Kk(this,t),this._file=e,this.size=e.size}return Qk(t,[{key:"slice",value:function(n,r){if(Vk())return Gk(this._file.slice(n,r));var i=this._file.slice(n,r),s=r>=this.size;return Promise.resolve({value:i,done:s})}},{key:"close",value:function(){}}]),t}();function Eo(t){"@babel/helpers - typeof";return Eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eo(t)}function Jk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eC(r.key),r)}}function Zk(t,e,n){return e&&Gm(t.prototype,e),n&&Gm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eC(t){var e=tC(t,"string");return Eo(e)==="symbol"?e:String(e)}function tC(t,e){if(Eo(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Eo(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Km(t){return t===void 0?0:t.size!==void 0?t.size:t.length}function nC(t,e){if(t.concat)return t.concat(e);if(t instanceof Blob)return new Blob([t,e],{type:t.type});if(t.set){var n=new t.constructor(t.length+e.length);return n.set(t),n.set(e,t.length),n}throw new Error("Unknown data type")}var rC=function(){function t(e){Jk(this,t),this._buffer=void 0,this._bufferOffset=0,this._reader=e,this._done=!1}return Zk(t,[{key:"slice",value:function(n,r){return n<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(n,r)}},{key:"_readUntilEnoughDataOrDone",value:function(n,r){var i=this,s=r<=this._bufferOffset+Km(this._buffer);if(this._done||s){var o=this._getDataFromBuffer(n,r),a=o==null?this._done:!1;return Promise.resolve({value:o,done:a})}return this._reader.read().then(function(l){var u=l.value,d=l.done;return d?i._done=!0:i._buffer===void 0?i._buffer=u:i._buffer=nC(i._buffer,u),i._readUntilEnoughDataOrDone(n,r)})}},{key:"_getDataFromBuffer",value:function(n,r){n>this._bufferOffset&&(this._buffer=this._buffer.slice(n-this._bufferOffset),this._bufferOffset=n);var i=Km(this._buffer)===0;return this._done&&i?null:this._buffer.slice(0,r-n)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}]),t}();function zr(t){"@babel/helpers - typeof";return zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zr(t)}function Pd(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Pd=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(P,_,w){P[_]=w.value},s=typeof Symbol=="function"?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function u(P,_,w){return Object.defineProperty(P,_,{value:w,enumerable:!0,configurable:!0,writable:!0}),P[_]}try{u({},"")}catch{u=function(w,k,F){return w[k]=F}}function d(P,_,w,k){var F=_&&_.prototype instanceof m?_:m,T=Object.create(F.prototype),I=new te(k||[]);return i(T,"_invoke",{value:B(P,w,I)}),T}function c(P,_,w){try{return{type:"normal",arg:P.call(_,w)}}catch(k){return{type:"throw",arg:k}}}e.wrap=d;var h="suspendedStart",g="suspendedYield",y="executing",b="completed",S={};function m(){}function f(){}function v(){}var E={};u(E,o,function(){return this});var O=Object.getPrototypeOf,x=O&&O(O(X([])));x&&x!==n&&r.call(x,o)&&(E=x);var C=v.prototype=m.prototype=Object.create(E);function A(P){["next","throw","return"].forEach(function(_){u(P,_,function(w){return this._invoke(_,w)})})}function R(P,_){function w(F,T,I,z){var H=c(P[F],P,T);if(H.type!=="throw"){var ye=H.arg,ee=ye.value;return ee&&zr(ee)=="object"&&r.call(ee,"__await")?_.resolve(ee.__await).then(function(re){w("next",re,I,z)},function(re){w("throw",re,I,z)}):_.resolve(ee).then(function(re){ye.value=re,I(ye)},function(re){return w("throw",re,I,z)})}z(H.arg)}var k;i(this,"_invoke",{value:function(T,I){function z(){return new _(function(H,ye){w(T,I,H,ye)})}return k=k?k.then(z,z):z()}})}function B(P,_,w){var k=h;return function(F,T){if(k===y)throw new Error("Generator is already running");if(k===b){if(F==="throw")throw T;return{value:t,done:!0}}for(w.method=F,w.arg=T;;){var I=w.delegate;if(I){var z=J(I,w);if(z){if(z===S)continue;return z}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(k===h)throw k=b,w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);k=y;var H=c(P,_,w);if(H.type==="normal"){if(k=w.done?b:g,H.arg===S)continue;return{value:H.arg,done:w.done}}H.type==="throw"&&(k=b,w.method="throw",w.arg=H.arg)}}}function J(P,_){var w=_.method,k=P.iterator[w];if(k===t)return _.delegate=null,w==="throw"&&P.iterator.return&&(_.method="return",_.arg=t,J(P,_),_.method==="throw")||w!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+w+"' method")),S;var F=c(k,P.iterator,_.arg);if(F.type==="throw")return _.method="throw",_.arg=F.arg,_.delegate=null,S;var T=F.arg;return T?T.done?(_[P.resultName]=T.value,_.next=P.nextLoc,_.method!=="return"&&(_.method="next",_.arg=t),_.delegate=null,S):T:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,S)}function Se(P){var _={tryLoc:P[0]};1 in P&&(_.catchLoc=P[1]),2 in P&&(_.finallyLoc=P[2],_.afterLoc=P[3]),this.tryEntries.push(_)}function Z(P){var _=P.completion||{};_.type="normal",delete _.arg,P.completion=_}function te(P){this.tryEntries=[{tryLoc:"root"}],P.forEach(Se,this),this.reset(!0)}function X(P){if(P||P===""){var _=P[o];if(_)return _.call(P);if(typeof P.next=="function")return P;if(!isNaN(P.length)){var w=-1,k=function F(){for(;++w<P.length;)if(r.call(P,w))return F.value=P[w],F.done=!1,F;return F.value=t,F.done=!0,F};return k.next=k}}throw new TypeError(zr(P)+" is not iterable")}return f.prototype=v,i(C,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:f,configurable:!0}),f.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(P){var _=typeof P=="function"&&P.constructor;return!!_&&(_===f||(_.displayName||_.name)==="GeneratorFunction")},e.mark=function(P){return Object.setPrototypeOf?Object.setPrototypeOf(P,v):(P.__proto__=v,u(P,l,"GeneratorFunction")),P.prototype=Object.create(C),P},e.awrap=function(P){return{__await:P}},A(R.prototype),u(R.prototype,a,function(){return this}),e.AsyncIterator=R,e.async=function(P,_,w,k,F){F===void 0&&(F=Promise);var T=new R(d(P,_,w,k),F);return e.isGeneratorFunction(_)?T:T.next().then(function(I){return I.done?I.value:T.next()})},A(C),u(C,l,"Generator"),u(C,o,function(){return this}),u(C,"toString",function(){return"[object Generator]"}),e.keys=function(P){var _=Object(P),w=[];for(var k in _)w.push(k);return w.reverse(),function F(){for(;w.length;){var T=w.pop();if(T in _)return F.value=T,F.done=!1,F}return F.done=!0,F}},e.values=X,te.prototype={constructor:te,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(Z),!_)for(var w in this)w.charAt(0)==="t"&&r.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=t)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var w=this;function k(ye,ee){return I.type="throw",I.arg=_,w.next=ye,ee&&(w.method="next",w.arg=t),!!ee}for(var F=this.tryEntries.length-1;F>=0;--F){var T=this.tryEntries[F],I=T.completion;if(T.tryLoc==="root")return k("end");if(T.tryLoc<=this.prev){var z=r.call(T,"catchLoc"),H=r.call(T,"finallyLoc");if(z&&H){if(this.prev<T.catchLoc)return k(T.catchLoc,!0);if(this.prev<T.finallyLoc)return k(T.finallyLoc)}else if(z){if(this.prev<T.catchLoc)return k(T.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<T.finallyLoc)return k(T.finallyLoc)}}}},abrupt:function(_,w){for(var k=this.tryEntries.length-1;k>=0;--k){var F=this.tryEntries[k];if(F.tryLoc<=this.prev&&r.call(F,"finallyLoc")&&this.prev<F.finallyLoc){var T=F;break}}T&&(_==="break"||_==="continue")&&T.tryLoc<=w&&w<=T.finallyLoc&&(T=null);var I=T?T.completion:{};return I.type=_,I.arg=w,T?(this.method="next",this.next=T.finallyLoc,S):this.complete(I)},complete:function(_,w){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&w&&(this.next=w),S},finish:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var k=this.tryEntries[w];if(k.finallyLoc===_)return this.complete(k.completion,k.afterLoc),Z(k),S}},catch:function(_){for(var w=this.tryEntries.length-1;w>=0;--w){var k=this.tryEntries[w];if(k.tryLoc===_){var F=k.completion;if(F.type==="throw"){var T=F.arg;Z(k)}return T}}throw new Error("illegal catch attempt")},delegateYield:function(_,w,k){return this.delegate={iterator:X(_),resultName:w,nextLoc:k},this.method==="next"&&(this.arg=t),S}},e}function Qm(t,e,n,r,i,s,o){try{var a=t[s](o),l=a.value}catch(u){n(u);return}a.done?e(l):Promise.resolve(l).then(r,i)}function iC(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){Qm(s,r,i,o,a,"next",l)}function a(l){Qm(s,r,i,o,a,"throw",l)}o(void 0)})}}function sC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ym(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aC(r.key),r)}}function oC(t,e,n){return e&&Ym(t.prototype,e),n&&Ym(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aC(t){var e=lC(t,"string");return zr(e)==="symbol"?e:String(e)}function lC(t,e){if(zr(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uC=function(){function t(){sC(this,t)}return oC(t,[{key:"openFile",value:function(){var e=iC(Pd().mark(function r(i,s){var o;return Pd().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(v1()&&i&&typeof i.uri<"u")){l.next=11;break}return l.prev=1,l.next=4,qk(i.uri);case 4:return o=l.sent,l.abrupt("return",new Vm(o));case 8:throw l.prev=8,l.t0=l.catch(1),new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(l.t0));case 11:if(!(typeof i.slice=="function"&&typeof i.size<"u")){l.next=13;break}return l.abrupt("return",Promise.resolve(new Vm(i)));case 13:if(typeof i.read!="function"){l.next=18;break}if(s=Number(s),Number.isFinite(s)){l.next=17;break}return l.abrupt("return",Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option")));case 17:return l.abrupt("return",Promise.resolve(new rC(i,s)));case 18:return l.abrupt("return",Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment")));case 19:case"end":return l.stop()}},r,null,[[1,8]])}));function n(r,i){return e.apply(this,arguments)}return n}()}]),t}();function cC(t,e){return v1()?Promise.resolve(dC(t,e)):Promise.resolve(["tus-br",t.name,t.type,t.size,t.lastModified,e.endpoint].join("-"))}function dC(t,e){var n=t.exif?pC(JSON.stringify(t.exif)):"noexif";return["tus-rn",t.name||"noname",t.size||"nosize",n,e.endpoint].join("/")}function pC(t){var e=0;if(t.length===0)return e;for(var n=0;n<t.length;n++){var r=t.charCodeAt(n);e=(e<<5)-e+r,e&=e}return e}function Fi(t){"@babel/helpers - typeof";return Fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fi(t)}function hC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w1(r.key),r)}}function fC(t,e,n){return e&&Xm(t.prototype,e),n&&Xm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ed(t,e)}function Ed(t,e){return Ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ed(t,e)}function gC(t){var e=wC();return function(){var r=wl(t),i;if(e){var s=wl(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return yC(this,i)}}function yC(t,e){if(e&&(Fi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vC(t)}function vC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wl(t){return wl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wl(t)}function Jm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jm(Object(n),!0).forEach(function(r){bC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bC(t,e,n){return e=w1(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w1(t){var e=_C(t,"string");return Fi(e)==="symbol"?e:String(e)}function _C(t,e){if(Fi(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fi(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kd=ui(ui({},vl.defaultOptions),{},{httpStack:new jk,fileReader:new uC,urlStorage:$k?new Bk:new Nk,fingerprint:cC}),SC=function(t){mC(n,t);var e=gC(n);function n(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return hC(this,n),i=ui(ui({},kd),i),e.call(this,r,i)}return fC(n,null,[{key:"terminate",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return s=ui(ui({},kd),s),vl.terminate(i,s)}}]),n}(vl);function fn(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var PC=0;function b1(t){return"__private_"+PC+++"_"+t}var je=b1("uppy"),ss=b1("events");class EC{constructor(e){Object.defineProperty(this,je,{writable:!0,value:void 0}),Object.defineProperty(this,ss,{writable:!0,value:[]}),fn(this,je)[je]=e}on(e,n){return fn(this,ss)[ss].push([e,n]),fn(this,je)[je].on(e,n)}remove(){for(const[e,n]of fn(this,ss)[ss].splice(0))fn(this,je)[je].off(e,n)}onFilePause(e,n){this.on("upload-pause",(r,i)=>{e===r&&n(i)})}onFileRemove(e,n){this.on("file-removed",r=>{e===r.id&&n(r.id)})}onPause(e,n){this.on("upload-pause",(r,i)=>{e===r&&n(i)})}onRetry(e,n){this.on("upload-retry",r=>{e===r&&n()})}onRetryAll(e,n){this.on("retry-all",()=>{fn(this,je)[je].getFile(e)&&n()})}onPauseAll(e,n){this.on("pause-all",()=>{fn(this,je)[je].getFile(e)&&n()})}onCancelAll(e,n){var r=this;this.on("cancel-all",function(){fn(r,je)[je].getFile(e)&&n(...arguments)})}onResumeAll(e,n){this.on("resume-all",()=>{fn(this,je)[je].getFile(e)&&n()})}}function kC(t){return t?t.readyState!==0&&t.readyState!==4||t.status===0:!1}function CC(t){const e=n=>"error"in n&&!!n.error;return t.filter(n=>!e(n))}function FC(t){return t.filter(e=>{var n;return!((n=e.progress)!=null&&n.uploadStarted)||!e.isRestored})}function TC(){return typeof window<"u"&&(typeof window.PhoneGap<"u"||typeof window.Cordova<"u"||typeof window.cordova<"u")}function OC(){return typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"}function xC(t){return(e,n)=>{if(TC()||OC())return kd.fingerprint(e,n);const r=["tus",t.id,n.endpoint].join("-");return Promise.resolve(r)}}function Fr(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var AC=0;function $o(t){return"__private_"+AC+++"_"+t}const UC={version:"3.4.0"},_1={endpoint:"",uploadUrl:null,metadata:{},uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,overridePatchMethod:!1,headers:{},addRequestId:!1,chunkSize:1/0,retryDelays:[100,1e3,3e3,5e3],parallelUploads:1,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1};var zs=$o("retryDelayIterator"),Cd=$o("uploadLocalFile"),Fd=$o("getCompanionClientArgs"),Vu=$o("uploadFiles"),os=$o("handleUpload");class nh extends Rp{constructor(e,n){var r,i;super(e,n),Object.defineProperty(this,Vu,{value:IC}),Object.defineProperty(this,Fd,{value:RC}),Object.defineProperty(this,Cd,{value:NC}),Object.defineProperty(this,zs,{writable:!0,value:void 0}),Object.defineProperty(this,os,{writable:!0,value:async o=>{if(o.length===0){this.uppy.log("[Tus] No files to upload");return}this.opts.limit===0&&this.uppy.log("[Tus] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/tus/#limit-0","warning"),this.uppy.log("[Tus] Uploading...");const a=this.uppy.getFilesByIds(o);await Fr(this,Vu)[Vu](a)}}),this.type="uploader",this.id=this.opts.id||"Tus",this.title="Tus";const s={limit:20,retryDelays:_1.retryDelays,withCredentials:!1};if(this.opts={...s,...n},(n==null?void 0:n.allowedMetaFields)===void 0&&"metaFields"in this.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");if("autoRetry"in n)throw new Error("The `autoRetry` option was deprecated and has been removed.");this.requests=(r=this.opts.rateLimitedQueue)!=null?r:new Q0(this.opts.limit),Fr(this,zs)[zs]=(i=this.opts.retryDelays)==null?void 0:i.values(),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null),this.handleResetProgress=this.handleResetProgress.bind(this)}handleResetProgress(){const e={...this.uppy.getState().files};Object.keys(e).forEach(n=>{if(e[n].tus&&e[n].tus.uploadUrl){const r={...e[n].tus};delete r.uploadUrl,e[n]={...e[n],tus:r}}}),this.uppy.setState({files:e})}resetUploaderReferences(e,n){if(n===void 0&&(n={}),this.uploaders[e]){const r=this.uploaders[e];r.abort(),n.abort&&r.abort(!0),this.uploaders[e]=null}this.uploaderEvents[e]&&(this.uploaderEvents[e].remove(),this.uploaderEvents[e]=null)}onReceiveUploadUrl(e,n){const r=this.uppy.getFile(e.id);r&&(!r.tus||r.tus.uploadUrl!==n)&&(this.uppy.log("[Tus] Storing upload url"),this.uppy.setFileState(r.id,{tus:{...r.tus,uploadUrl:n}}))}install(){this.uppy.setState({capabilities:{...this.uppy.getState().capabilities,resumableUploads:!0}}),this.uppy.addUploader(Fr(this,os)[os]),this.uppy.on("reset-progress",this.handleResetProgress)}uninstall(){this.uppy.setState({capabilities:{...this.uppy.getState().capabilities,resumableUploads:!1}}),this.uppy.removeUploader(Fr(this,os)[os])}}function NC(t){var e=this;return this.resetUploaderReferences(t.id),new Promise((n,r)=>{let i,s,o;const a={...this.opts,...t.tus||{}};typeof a.headers=="function"&&(a.headers=a.headers(t));const l={..._1,...a};l.fingerprint=xC(t),l.onBeforeRequest=y=>{const b=y.getUnderlyingObject();b.withCredentials=!!a.withCredentials;let S;if(typeof a.onBeforeRequest=="function"&&(S=a.onBeforeRequest(y,t)),Ur(i,"shouldBeRequeued")){if(!i.shouldBeRequeued)return Promise.reject();let m;const f=new Promise(v=>{m=v});return i=this.requests.run(()=>(t.isPaused&&i.abort(),m(),()=>{})),Promise.all([f,S])}return S},l.onError=y=>{var b;this.uppy.log(y);const S=y.originalRequest?y.originalRequest.getUnderlyingObject():null;kC(S)&&(y=new Gp(y,S)),this.resetUploaderReferences(t.id),(b=i)==null||b.abort(),this.uppy.emit("upload-error",t,y),typeof a.onError=="function"&&a.onError(y),r(y)},l.onProgress=(y,b)=>{this.onReceiveUploadUrl(t,o.url),typeof a.onProgress=="function"&&a.onProgress(y,b),this.uppy.emit("upload-progress",t,{uploader:this,bytesUploaded:y,bytesTotal:b})},l.onSuccess=()=>{const y={uploadURL:o.url};this.resetUploaderReferences(t.id),i.done(),this.uppy.emit("upload-success",t,y),o.url&&this.uppy.log(`Download ${o.file.name} from ${o.url}`),typeof a.onSuccess=="function"&&a.onSuccess(),n(o)};const u=y=>{var b;const S=y==null||(b=y.originalResponse)==null?void 0:b.getStatus();if(S===429){if(!this.requests.isPaused){var m;const f=(m=Fr(this,zs)[zs])==null?void 0:m.next();if(f==null||f.done)return!1;this.requests.rateLimit(f.value)}}else{if(S>400&&S<500&&S!==409&&S!==423)return!1;typeof navigator<"u"&&navigator.onLine===!1&&(this.requests.isPaused||(this.requests.pause(),window.addEventListener("online",()=>{this.requests.resume()},{once:!0})))}return i.abort(),i={shouldBeRequeued:!0,abort(){this.shouldBeRequeued=!1},done(){throw new Error("Cannot mark a queued request as done: this indicates a bug")},fn(){throw new Error("Cannot run a queued request: this indicates a bug")}},!0};a.onShouldRetry!=null?l.onShouldRetry=function(){for(var y=arguments.length,b=new Array(y),S=0;S<y;S++)b[S]=arguments[S];return a.onShouldRetry(...b,u)}:l.onShouldRetry=u;const d=(y,b,S)=>{Ur(y,b)&&!Ur(y,S)&&(y[S]=y[b])},c={};(Array.isArray(a.allowedMetaFields)?a.allowedMetaFields:Object.keys(t.meta)).forEach(y=>{c[y]=t.meta[y]}),d(c,"type","filetype"),d(c,"name","filename"),l.metadata=c,o=new SC(t.data,l),this.uploaders[t.id]=o;const g=new EC(this.uppy);this.uploaderEvents[t.id]=g,s=()=>(t.isPaused||o.start(),()=>{}),o.findPreviousUploads().then(y=>{const b=y[0];b&&(this.uppy.log(`[Tus] Resuming upload of ${t.id} started at ${b.creationTime}`),o.resumeFromPreviousUpload(b))}),i=this.requests.run(s),g.onFileRemove(t.id,y=>{i.abort(),this.resetUploaderReferences(t.id,{abort:!!o.url}),n(`upload ${y} was removed`)}),g.onPause(t.id,y=>{i.abort(),y?o.abort():i=this.requests.run(s)}),g.onPauseAll(t.id,()=>{i.abort(),o.abort()}),g.onCancelAll(t.id,function(y){let{reason:b}=y===void 0?{}:y;b==="user"&&(i.abort(),e.resetUploaderReferences(t.id,{abort:!!o.url})),n(`upload ${t.id} was canceled`)}),g.onResumeAll(t.id,()=>{i.abort(),t.error&&o.abort(),i=this.requests.run(s)})}).catch(n=>{throw this.uppy.emit("upload-error",t,n),n})}function RC(t){const e={...this.opts};return t.tus&&Object.assign(e,t.tus),{...t.remote.body,endpoint:e.endpoint,uploadUrl:e.uploadUrl,protocol:"tus",size:t.data.size,headers:e.headers,metadata:t.meta}}async function IC(t){const e=CC(t),n=FC(e);this.uppy.emit("upload-start",n),await Promise.allSettled(e.map((r,i)=>{const s=i+1,o=t.length;if(r.isRemote){const a=()=>this.requests,l=new AbortController,u=c=>{c.id===r.id&&l.abort()};this.uppy.on("file-removed",u);const d=r.remote.requestClient.uploadRemoteFile(r,Fr(this,Fd)[Fd](r),{signal:l.signal,getQueue:a});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",u)},{priority:-1})(),d}return Fr(this,Cd)[Cd](r,s,o)}))}nh.VERSION=UC.version;var S1={exports:{}};(function(t){t.exports=e;function e(r){if(r)return n(r)}function n(r){for(var i in e.prototype)r[i]=e.prototype[i];return r}e.prototype.on=e.prototype.addEventListener=function(r,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(i),this},e.prototype.once=function(r,i){function s(){this.off(r,s),i.apply(this,arguments)}return s.fn=i,this.on(r,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(r,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+r];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var o,a=0;a<s.length;a++)if(o=s[a],o===i||o.fn===i){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+r],this},e.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+r],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(s){s=s.slice(0);for(var o=0,a=s.length;o<a;++o)s[o].apply(this,i)}return this},e.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},e.prototype.hasListeners=function(r){return!!this.listeners(r).length}})(S1);var DC=S1.exports;const P1=rt(DC);function K(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var LC=0;function rn(t){return"__private_"+LC+++"_"+t}const $C="ASSEMBLY_UPLOADING",Td="ASSEMBLY_EXECUTING",Od="ASSEMBLY_COMPLETED",Zm=[$C,Td,Od];function fa(t,e){return Zm.indexOf(t)>=Zm.indexOf(e)}var Tr=rn("rateLimitedQueue"),js=rn("fetchWithNetworkError"),yr=rn("previousFetchStatusStillPending"),ve=rn("sse"),xd=rn("onFinished"),Gu=rn("connectServerSentEvents"),zt=rn("onError"),Ku=rn("beginPolling"),Cn=rn("fetchStatus"),Qu=rn("diffStatus");class E1 extends P1{constructor(e,n){super(),Object.defineProperty(this,Qu,{value:WC}),Object.defineProperty(this,Cn,{value:HC}),Object.defineProperty(this,Ku,{value:jC}),Object.defineProperty(this,zt,{value:zC}),Object.defineProperty(this,Gu,{value:MC}),Object.defineProperty(this,xd,{value:BC}),Object.defineProperty(this,Tr,{writable:!0,value:void 0}),Object.defineProperty(this,js,{writable:!0,value:void 0}),Object.defineProperty(this,yr,{writable:!0,value:!1}),Object.defineProperty(this,ve,{writable:!0,value:void 0}),this.status=e,this.pollInterval=null,this.closed=!1,K(this,Tr)[Tr]=n,K(this,js)[js]=n.wrapPromiseFunction(Kp)}connect(){K(this,Gu)[Gu](),K(this,Ku)[Ku]()}update(){return K(this,Cn)[Cn]({diff:!0})}updateStatus(e){K(this,Qu)[Qu](this.status,e),this.status=e}close(){this.closed=!0,K(this,ve)[ve]&&(K(this,ve)[ve].close(),K(this,ve)[ve]=null),clearInterval(this.pollInterval),this.pollInterval=null}}function BC(){this.emit("finished"),this.close()}function MC(){K(this,ve)[ve]=new EventSource(`${this.status.websocket_url}?assembly=${this.status.assembly_id}`),K(this,ve)[ve].addEventListener("open",()=>{this.socket&&(this.socket.disconnect(),this.socket=null),clearInterval(this.pollInterval),this.pollInterval=null}),K(this,ve)[ve].addEventListener("message",t=>{t.data==="assembly_finished"&&K(this,xd)[xd](),t.data==="assembly_uploading_finished"&&this.emit("executing"),t.data==="assembly_upload_meta_data_extracted"&&(this.emit("metadata"),K(this,Cn)[Cn]({diff:!1}))}),K(this,ve)[ve].addEventListener("assembly_upload_finished",t=>{const e=JSON.parse(t.data);this.emit("upload",e),this.status.uploads.push(e)}),K(this,ve)[ve].addEventListener("assembly_result_finished",t=>{var e,n;const[r,i]=JSON.parse(t.data);this.emit("result",r,i),((n=(e=this.status.results)[r])!=null?n:e[r]=[]).push(i)}),K(this,ve)[ve].addEventListener("assembly_execution_progress",t=>{const e=JSON.parse(t.data);this.emit("execution-progress",e)}),K(this,ve)[ve].addEventListener("assembly_error",t=>{try{K(this,zt)[zt](JSON.parse(t.data))}catch{K(this,zt)[zt]({msg:t.data})}K(this,Cn)[Cn]({diff:!1})})}function zC(t){this.emit("error",Object.assign(new Error(t.msg),t)),this.close()}function jC(){this.pollInterval=setInterval(()=>{K(this,Cn)[Cn]()},2e3)}async function HC(t){let{diff:e=!0}=t===void 0?{}:t;if(!(this.closed||K(this,Tr)[Tr].isPaused||K(this,yr)[yr]))try{K(this,yr)[yr]=!0;const n=await K(this,js)[js](this.status.assembly_ssl_url);if(K(this,yr)[yr]=!1,this.closed)return;if(n.status===429){K(this,Tr)[Tr].rateLimit(2e3);return}if(!n.ok){K(this,zt)[zt](new Gp(n.statusText));return}const r=await n.json();if(this.closed)return;this.emit("status",r),e?this.updateStatus(r):this.status=r}catch(n){K(this,zt)[zt](n)}}function WC(t,e){const n=t.ok,r=e.ok;if(e.error&&!t.error)return K(this,zt)[zt](e);const i=fa(r,Td)&&!fa(n,Td);i&&this.emit("executing"),Object.keys(e.uploads).filter(s=>!Ur(t.uploads,s)).forEach(s=>{this.emit("upload",e.uploads[s])}),i&&this.emit("metadata"),Object.keys(e.results).forEach(s=>{const o=e.results[s],a=t.results[s];o.filter(l=>!a||!a.some(u=>u.id===l.id)).forEach(l=>{this.emit("result",s,l)})}),fa(r,Od)&&!fa(n,Od)&&this.emit("finished")}function ue(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var qC=0;function Hl(t){return"__private_"+qC+++"_"+t}const k1="/assemblies";var He=Hl("headers"),Hs=Hl("fetchWithNetworkError"),Ue=Hl("fetchJSON"),st=Hl("reportError");class VC{constructor(e){e===void 0&&(e={}),Object.defineProperty(this,Ue,{value:GC}),Object.defineProperty(this,He,{writable:!0,value:{}}),Object.defineProperty(this,Hs,{writable:!0,value:void 0}),Object.defineProperty(this,st,{writable:!0,value:(n,r)=>{if(this.opts.errorReporting===!1)throw n;const i={type:r.type};throw r.assembly&&(i.assembly=r.assembly.assembly_id,i.instance=r.assembly.instance),r.url&&(i.endpoint=r.url),this.submitError(n,i).catch(()=>{}),n}}),this.opts=e,this.opts.client!=null&&(ue(this,He)[He]["Transloadit-Client"]=this.opts.client),ue(this,Hs)[Hs]=this.opts.rateLimitedQueue.wrapPromiseFunction(Kp)}createAssembly(e){let{params:n,fields:r,signature:i,expectedFiles:s}=e;const o=new FormData;o.append("params",typeof n=="string"?n:JSON.stringify(n)),i&&o.append("signature",i),Object.keys(r).forEach(l=>{o.append(l,r[l])}),o.append("num_expected_upload_files",s);const a=new URL(k1,`${this.opts.service}`).href;return ue(this,Ue)[Ue](a,{method:"POST",headers:ue(this,He)[He],body:o}).catch(l=>ue(this,st)[st](l,{url:a,type:"API_ERROR"}))}reserveFile(e,n){const r=encodeURIComponent(n.size),i=`${e.assembly_ssl_url}/reserve_file?size=${r}`;return ue(this,Ue)[Ue](i,{method:"POST",headers:ue(this,He)[He]}).catch(s=>ue(this,st)[st](s,{assembly:e,file:n,url:i,type:"API_ERROR"}))}addFile(e,n){if(!n.uploadURL)return Promise.reject(new Error("File does not have an `uploadURL`."));const r=encodeURIComponent(n.size),i=encodeURIComponent(n.uploadURL),s=encodeURIComponent(n.name),a=`size=${r}&filename=${s}&fieldname=file&s3Url=${i}`,l=`${e.assembly_ssl_url}/add_file?${a}`;return ue(this,Ue)[Ue](l,{method:"POST",headers:ue(this,He)[He]}).catch(u=>ue(this,st)[st](u,{assembly:e,file:n,url:l,type:"API_ERROR"}))}updateNumberOfFilesInAssembly(e,n){const r=new URL(e.assembly_ssl_url);r.pathname="/update_assemblies";const i=JSON.stringify({assembly_updates:[{assembly_id:e.assembly_id,num_expected_upload_files:n}]});return ue(this,Ue)[Ue](r,{method:"POST",headers:ue(this,He)[He],body:i}).catch(s=>ue(this,st)[st](s,{url:r,type:"API_ERROR"}))}cancelAssembly(e){const n=e.assembly_ssl_url;return ue(this,Ue)[Ue](n,{method:"DELETE",headers:ue(this,He)[He]}).catch(r=>ue(this,st)[st](r,{url:n,type:"API_ERROR"}))}getAssemblyStatus(e){return ue(this,Ue)[Ue](e,{headers:ue(this,He)[He]}).catch(n=>ue(this,st)[st](n,{url:e,type:"STATUS_ERROR"}))}submitError(e,n){let{endpoint:r,instance:i,assembly:s}=n===void 0?{}:n;const o=e.details?`${e.message} (${e.details})`:e.message;return ue(this,Ue)[Ue]("https://transloaditstatus.com/client_error",{method:"POST",body:JSON.stringify({endpoint:r,instance:i,assembly_id:s,agent:typeof navigator<"u"?navigator.userAgent:"",client:this.opts.client,error:o})})}}function GC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return ue(this,Hs)[Hs](...e).then(r=>{if(r.status===429)return this.opts.rateLimitedQueue.rateLimit(2e3),ue(this,Ue)[Ue](...e);if(!r.ok){const i=new Error(r.statusText);return i.statusCode=r.status,`${e[0]}`.endsWith(k1)?r.json().then(s=>{if(!s.error)throw i;const o=new Error(s.error);throw o.details=s.message,o.assembly=s,s.assembly_id&&(o.details+=` Assembly ID: ${s.assembly_id}`),o},s=>{throw s.cause=i,s}):Promise.reject(i)}return r.json()})}function C1(t){if(t==null)throw new Error("Transloadit: The `params` option is required.");if(typeof t=="string")try{t=JSON.parse(t)}catch(e){throw new Bl("Transloadit: The `params` option is a malformed JSON string.",{cause:e})}if(!t.auth||!t.auth.key)throw new Error("Transloadit: The `params.auth.key` option is required. You can find your Transloadit API key at https://transloadit.com/c/template-credentials")}function KC(t){const e=Object.create(null);for(const{fileIDs:n,options:r}of t.filter(Boolean)){const i=JSON.stringify(r);i in e?e[i].fileIDArrays.push(n):e[i]={options:r,fileIDArrays:[n]}}return Object.values(e).map(n=>{let{options:r,fileIDArrays:i}=n;return{options:r,fileIDs:i.flat(1)}})}async function eg(t,e){const n=typeof e.assemblyOptions=="function"?await e.assemblyOptions(t,e):e.assemblyOptions;C1(n.params);const{fields:r}=n;return Array.isArray(r)?n.fields=t==null?{}:Object.fromEntries(r.map(i=>[i,t.meta[i]])):r==null&&(n.fields={}),n}class QC{constructor(e,n){this.files=e,this.opts=n}async build(){const e=this.opts;if(this.files.length>0)return Promise.all(this.files.map(async n=>{if(n==null)return;const r=await eg(n,e);if(n!=null)return{fileIDs:[n.id],options:r}})).then(KC);if(e.alwaysRunAssembly){const n=await eg(null,e);return[{fileIDs:[],options:n}]}return[]}}function W(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var YC=0;function bt(t){return"__private_"+YC+++"_"+t}var Ws=bt("assemblyIDs"),Yu=bt("reject"),Or=bt("remaining"),qs=bt("resolve"),se=bt("uppy"),mn=bt("watching"),ko=bt("onAssemblyComplete"),Co=bt("onAssemblyCancel"),Rr=bt("onAssemblyError"),Fo=bt("onImportError"),pr=bt("checkAllComplete"),Ad=bt("removeListeners"),Xu=bt("addListeners");class XC extends P1{constructor(e,n){super(),Object.defineProperty(this,Xu,{value:tF}),Object.defineProperty(this,Ad,{value:eF}),Object.defineProperty(this,pr,{value:ZC}),Object.defineProperty(this,mn,{value:JC}),Object.defineProperty(this,Ws,{writable:!0,value:void 0}),Object.defineProperty(this,Yu,{writable:!0,value:void 0}),Object.defineProperty(this,Or,{writable:!0,value:void 0}),Object.defineProperty(this,qs,{writable:!0,value:void 0}),Object.defineProperty(this,se,{writable:!0,value:void 0}),Object.defineProperty(this,ko,{writable:!0,value:r=>{W(this,mn)[mn](r.assembly_id)&&(W(this,se)[se].log(`[Transloadit] AssemblyWatcher: Got Assembly finish ${r.assembly_id}`),this.emit("assembly-complete",r.assembly_id),W(this,pr)[pr]())}}),Object.defineProperty(this,Co,{writable:!0,value:r=>{W(this,mn)[mn](r.assembly_id)&&W(this,pr)[pr]()}}),Object.defineProperty(this,Rr,{writable:!0,value:(r,i)=>{W(this,mn)[mn](r.assembly_id)&&(W(this,se)[se].log(`[Transloadit] AssemblyWatcher: Got Assembly error ${r.assembly_id}`),W(this,se)[se].log(i),this.emit("assembly-error",r.assembly_id,i),W(this,pr)[pr]())}}),Object.defineProperty(this,Fo,{writable:!0,value:(r,i,s)=>{W(this,mn)[mn](r.assembly_id)&&W(this,Rr)[Rr](r,s)}}),W(this,se)[se]=e,W(this,Ws)[Ws]=n,W(this,Or)[Or]=n.length,this.promise=new Promise((r,i)=>{W(this,qs)[qs]=r,W(this,Yu)[Yu]=i}),W(this,Xu)[Xu]()}}function JC(t){return W(this,Ws)[Ws].indexOf(t)!==-1}function ZC(){W(this,Or)[Or]-=1,W(this,Or)[Or]===0&&(W(this,Ad)[Ad](),W(this,qs)[qs]())}function eF(){W(this,se)[se].off("transloadit:complete",W(this,ko)[ko]),W(this,se)[se].off("transloadit:assembly-cancel",W(this,Co)[Co]),W(this,se)[se].off("transloadit:assembly-error",W(this,Rr)[Rr]),W(this,se)[se].off("transloadit:import-error",W(this,Fo)[Fo])}function tF(){W(this,se)[se].on("transloadit:complete",W(this,ko)[ko]),W(this,se)[se].on("transloadit:assembly-cancel",W(this,Co)[Co]),W(this,se)[se].on("transloadit:assembly-error",W(this,Rr)[Rr]),W(this,se)[se].on("transloadit:import-error",W(this,Fo)[Fo])}const nF={strings:{creatingAssembly:"Preparing upload...",creatingAssemblyFailed:"Transloadit: Could not create Assembly",encoding:"Encoding..."}};function q(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var rF=0;function ge(t){return"__private_"+rF+++"_"+t}const iF={version:"3.4.0"},tg=t=>e=>{const n=new Bl("Failed to send error to the client",{cause:e});console.error(n,t)},sF="https://api2.transloadit.com/companion",oF=/\.transloadit\.com$/,aF=/https?:\/\/api2(?:-\w+)?\.transloadit\.com\/companion/;var Nt=ge("rateLimitedQueue"),Ju=ge("getClientVersion"),Ud=ge("attachAssemblyMetadata"),Zu=ge("createAssembly"),as=ge("createAssemblyWatcher"),ec=ge("shouldWaitAfterUpload"),tc=ge("reserveFiles"),ls=ge("onFileUploadURLAvailable"),Vs=ge("findFile"),Nd=ge("onFileUploadComplete"),Rd=ge("onResult"),_s=ge("onAssemblyFinished"),Gs=ge("cancelAssembly"),nc=ge("onCancelAll"),rc=ge("getPersistentData"),ic=ge("onRestored"),us=ge("connectAssembly"),cs=ge("prepareUpload"),hr=ge("afterUpload"),ds=ge("closeAssemblyIfExists"),ps=ge("onError"),sc=ge("onTusError");class zn extends Rp{constructor(e,n){var r,i,s,o;super(e,n),r=this,Object.defineProperty(this,us,{value:wF}),Object.defineProperty(this,Gs,{value:vF}),Object.defineProperty(this,_s,{value:yF}),Object.defineProperty(this,Rd,{value:gF}),Object.defineProperty(this,Nd,{value:mF}),Object.defineProperty(this,Vs,{value:fF}),Object.defineProperty(this,tc,{value:hF}),Object.defineProperty(this,ec,{value:pF}),Object.defineProperty(this,as,{value:dF}),Object.defineProperty(this,Zu,{value:cF}),Object.defineProperty(this,Ud,{value:uF}),Object.defineProperty(this,Ju,{value:lF}),Object.defineProperty(this,Nt,{writable:!0,value:void 0}),Object.defineProperty(this,ls,{writable:!0,value:l=>{var u;const d=this.uppy.getFile(l.id);if(!(d!=null&&(u=d.transloadit)!=null&&u.assembly))return;const{assemblies:c}=this.getPluginState(),h=c[d.transloadit.assembly];this.client.addFile(h,d).catch(g=>{this.uppy.log(g),this.uppy.emit("transloadit:import-error",h,d.id,g)})}}),Object.defineProperty(this,nc,{writable:!0,value:async function(l){let{reason:u}=l===void 0?{}:l;try{if(u!=="user")return;const{uploadsAssemblies:d}=r.getPluginState(),h=Object.values(d).flat(1).map(g=>r.getAssembly(g));await Promise.all(h.map(g=>q(r,Gs)[Gs](g)))}catch(d){r.uppy.log(d)}}}),Object.defineProperty(this,rc,{writable:!0,value:l=>{const{assemblies:u,uploadsAssemblies:d}=this.getPluginState();l({[this.id]:{assemblies:u,uploadsAssemblies:d}})}}),Object.defineProperty(this,ic,{writable:!0,value:l=>{const u=l&&l[this.id]?l[this.id]:{},d=u.assemblies||{},c=u.uploadsAssemblies||{};if(Object.keys(c).length===0)return;const h=b=>{const S={},m=[];for(const[f,v]of Object.entries(b)){v.uploads.forEach(O=>{const x=q(this,Vs)[Vs](O);S[O.id]={id:x.id,assembly:f,uploadedFile:O}});const E=this.getPluginState();Object.keys(v.results).forEach(O=>{for(const x of v.results[O]){const C=E.files[x.original_id];x.localId=C?C.id:null,m.push({id:x.id,result:x,stepName:O,assembly:f})}})}this.setPluginState({assemblies:b,files:S,results:m,uploadsAssemblies:c})},g=()=>{const{assemblies:b,uploadsAssemblies:S}=this.getPluginState();Object.keys(S).forEach(f=>{const v=S[f];q(this,as)[as](v,f)}),Object.keys(b).forEach(f=>{const v=new E1(b[f],q(this,Nt)[Nt]);q(this,us)[us](v)})},y=()=>{const{assemblies:b}=this.getPluginState();return Promise.all(Object.keys(b).map(S=>this.activeAssemblies[S].update()))};this.restored=Promise.resolve().then(()=>(h(d),g(),y())),this.restored.then(()=>{this.restored=null})}}),Object.defineProperty(this,cs,{writable:!0,value:(l,u)=>{const c=l.map(b=>this.uppy.getFile(b)).filter(b=>b.error?!1:(this.uppy.emit("preprocess-progress",b,{mode:"indeterminate",message:this.i18n("creatingAssembly")}),!0)),h=async b=>{let{fileIDs:S,options:m}=b;try{const f=await q(this,Zu)[Zu](S,u,m);return this.opts.importFromUploadURLs&&await q(this,tc)[tc](f,S),S.forEach(v=>{const E=this.uppy.getFile(v);this.uppy.emit("preprocess-complete",E)}),f}catch(f){throw S.forEach(v=>{const E=this.uppy.getFile(v);this.uppy.emit("preprocess-complete",E),this.uppy.emit("upload-error",E,f)}),f}},{uploadsAssemblies:g}=this.getPluginState();return this.setPluginState({uploadsAssemblies:{...g,[u]:[]}}),new QC(c,this.opts).build().then(b=>Promise.all(b.map(h))).then(b=>{const S=b.filter(Boolean),m=S.map(f=>f.status.assembly_id);return q(this,as)[as](m,u),Promise.all(S.map(f=>q(this,us)[us](f)))}).catch(b=>{throw c.forEach(S=>{this.uppy.emit("preprocess-complete",S),this.uppy.emit("upload-error",S,b)}),b})}}),Object.defineProperty(this,hr,{writable:!0,value:(l,u)=>{const d=l.map(m=>this.uppy.getFile(m)),c=d.filter(m=>!m.error).map(m=>m.id),h=this.getPluginState();if(this.restored)return this.restored.then(()=>q(this,hr)[hr](c,u));const g=h.uploadsAssemblies[u],y=()=>{g.forEach(m=>{this.activeAssemblies[m].close(),delete this.activeAssemblies[m]})};if(!q(this,ec)[ec]()){y();const m=g.map(f=>this.getAssembly(f));return this.uppy.addResultData(u,{transloadit:m}),Promise.resolve()}return g.length===0?(this.uppy.addResultData(u,{transloadit:[]}),Promise.resolve()):(d.filter(m=>!Ur(this.completedFiles,m.id)).forEach(m=>{this.uppy.emit("postprocess-progress",m,{mode:"indeterminate",message:this.i18n("encoding")})}),this.assemblyWatchers[u].promise.then(()=>{y();const m=g.map(v=>this.getAssembly(v)),f={...this.getPluginState().uploadsAssemblies};delete f[u],this.setPluginState({uploadsAssemblies:f}),this.uppy.addResultData(u,{transloadit:m})}))}}),Object.defineProperty(this,ds,{writable:!0,value:l=>{var u;(u=this.activeAssemblies[l])==null||u.close()}}),Object.defineProperty(this,ps,{writable:!0,value:function(l,u){l===void 0&&(l=null);const c=r.getPluginState().uploadsAssemblies[u];c==null||c.forEach(q(r,ds)[ds]),r.client.submitError(l).catch(tg(l))}}),Object.defineProperty(this,sc,{writable:!0,value:(l,u)=>{var d,c;if(q(this,ds)[ds](l==null||(d=l.transloadit)==null?void 0:d.assembly),u!=null&&(c=u.message)!=null&&c.startsWith("tus: ")){var h;const g=(h=u.originalRequest)==null||(h=h.getUnderlyingObject())==null?void 0:h.responseURL;this.client.submitError(u,{endpoint:g,type:"TUS_ERROR"}).catch(tg(u))}}}),this.type="uploader",this.id=this.opts.id||"Transloadit",this.title="Transloadit",this.defaultLocale=nF;const a={service:"https://api2.transloadit.com",errorReporting:!0,waitForEncoding:!1,waitForMetadata:!1,alwaysRunAssembly:!1,importFromUploadURLs:!1,signature:null,params:null,fields:null,getAssemblyOptions:null,limit:20,retryDelays:[7e3,1e4,15e3,2e4]};this.opts={...a,...n},(s=(i=this.opts).assemblyOptions)!=null||(i.assemblyOptions=(o=this.opts.getAssemblyOptions)!=null?o:{params:this.opts.params,signature:this.opts.signature,fields:this.opts.fields}),(n==null?void 0:n.params)!=null&&n.getAssemblyOptions==null&&n.assemblyOptions==null&&C1(this.opts.assemblyOptions.params),q(this,Nt)[Nt]=new Q0(this.opts.limit),this.i18nInit(),this.client=new VC({service:this.opts.service,client:q(this,Ju)[Ju](),errorReporting:this.opts.errorReporting,rateLimitedQueue:q(this,Nt)[Nt]}),this.activeAssemblies={},this.assemblyWatchers={},this.completedFiles=Object.create(null)}install(){this.uppy.addPreProcessor(q(this,cs)[cs]),this.uppy.addPostProcessor(q(this,hr)[hr]),this.uppy.on("error",q(this,ps)[ps]),this.uppy.on("cancel-all",q(this,nc)[nc]),this.uppy.on("upload-error",q(this,sc)[sc]),this.opts.importFromUploadURLs?this.uppy.on("upload-success",q(this,ls)[ls]):this.uppy.use(nh,{storeFingerprintForResuming:!1,allowedMetaFields:["assembly_url","filename","fieldname"],limit:this.opts.limit,rateLimitedQueue:q(this,Nt)[Nt],retryDelays:this.opts.retryDelays}),this.uppy.on("restore:get-data",q(this,rc)[rc]),this.uppy.on("restored",q(this,ic)[ic]),this.setPluginState({assemblies:{},uploadsAssemblies:{},files:{},results:[]});const{capabilities:e}=this.uppy.getState();this.uppy.setState({capabilities:{...e,individualCancellation:!1}})}uninstall(){this.uppy.removePreProcessor(q(this,cs)[cs]),this.uppy.removePostProcessor(q(this,hr)[hr]),this.uppy.off("error",q(this,ps)[ps]),this.opts.importFromUploadURLs&&this.uppy.off("upload-success",q(this,ls)[ls]);const{capabilities:e}=this.uppy.getState();this.uppy.setState({capabilities:{...e,individualCancellation:!0}})}getAssembly(e){const{assemblies:n}=this.getPluginState();return n[e]}getAssemblyFiles(e){return this.uppy.getFiles().filter(n=>{var r;return(n==null||(r=n.transloadit)==null?void 0:r.assembly)===e})}}function lF(){const t=[`uppy-core:${this.uppy.constructor.VERSION}`,`uppy-transloadit:${this.constructor.VERSION}`,`uppy-tus:${nh.VERSION}`],e=(n,r)=>{const i=this.uppy.getPlugin(n);i&&t.push(`${r}:${i.constructor.VERSION}`)};return this.opts.importFromUploadURLs&&(e("XHRUpload","uppy-xhr-upload"),e("AwsS3","uppy-aws-s3"),e("AwsS3Multipart","uppy-aws-s3-multipart")),e("Dropbox","uppy-dropbox"),e("Box","uppy-box"),e("Facebook","uppy-facebook"),e("GoogleDrive","uppy-google-drive"),e("Instagram","uppy-instagram"),e("OneDrive","uppy-onedrive"),e("Zoom","uppy-zoom"),e("Url","uppy-url"),t.join(",")}function uF(t,e){const n={...t.meta,assembly_url:e.assembly_url,filename:t.name,fieldname:"file"},r={...t.tus,endpoint:e.tus_url,addRequestId:!0};let{remote:i}=t;if(t.remote&&aF.test(t.remote.companionUrl)){const o=e.companion_url.replace(/\/$/,""),a=t.remote.url.replace(t.remote.companionUrl,"").replace(/^\//,"");i={...t.remote,companionUrl:o,url:`${o}/${a}`}}const s={...t,transloadit:{assembly:e.assembly_id}};return this.opts.importFromUploadURLs||Object.assign(s,{meta:n,tus:r,remote:i}),s}function cF(t,e,n){return this.uppy.log("[Transloadit] Create Assembly"),this.client.createAssembly({...n,expectedFiles:t.length}).then(async r=>{const i=this.uppy.getFiles().filter(h=>{let{id:g}=h;return t.includes(g)});if(i.length!==t.length){if(i.length===0)return await this.client.cancelAssembly(r),null;await this.client.updateNumberOfFilesInAssembly(r,i.length)}const s=new E1(r,q(this,Nt)[Nt]),{status:o}=s,a=o.assembly_id,{assemblies:l,uploadsAssemblies:u}=this.getPluginState();this.setPluginState({assemblies:{...l,[a]:o},uploadsAssemblies:{...u,[e]:[...u[e],a]}});const d={};i.forEach(h=>{d[h.id]=q(this,Ud)[Ud](h,o)}),this.uppy.setState({files:{...this.uppy.getState().files,...d}});const c=(h,g)=>{var y;if(((y=s.status)==null?void 0:y.ok)==="ASSEMBLY_COMPLETED"){this.uppy.off("file-removed",c);return}if(g==="cancel-all")s.close(),this.uppy.off("file-removed",c);else if(h.id in d){delete d[h.id];const b=Object.keys(d).length;b===0?(s.close(),q(this,Gs)[Gs](r).catch(()=>{}),this.uppy.off("file-removed",c)):this.client.updateNumberOfFilesInAssembly(r,b).catch(()=>{})}};return this.uppy.on("file-removed",c),this.uppy.emit("transloadit:assembly-created",o,t),this.uppy.log(`[Transloadit] Created Assembly ${a}`),s}).catch(r=>{const i=new Bl(`${this.i18n("creatingAssemblyFailed")}: ${r.message}`,{cause:r});throw"details"in r&&(i.details=r.details),"assembly"in r&&(i.assembly=r.assembly),i})}function dF(t,e){const n=new XC(this.uppy,t);n.on("assembly-complete",r=>{this.getAssemblyFiles(r).forEach(s=>{this.completedFiles[s.id]=!0,this.uppy.emit("postprocess-complete",s)})}),n.on("assembly-error",(r,i)=>{const s=this.getAssemblyFiles(r);s.forEach(a=>{this.uppy.emit("upload-error",a,i),this.uppy.emit("postprocess-complete",a)});const o={...this.uppy.getState().files};s.forEach(a=>delete o[a.id].tus),this.uppy.setState({files:o}),this.uppy.emit("error",i)}),this.assemblyWatchers[e]=n}function pF(){return this.opts.waitForEncoding||this.opts.waitForMetadata}function hF(t,e){return Promise.all(e.map(n=>{const r=this.uppy.getFile(n);return this.client.reserveFile(t.status,r)}))}function fF(t){const e=this.uppy.getFiles();for(let n=0;n<e.length;n++){const r=e[n];if(r.uploadURL===t.tus_upload_url||r.tus&&r.tus.uploadUrl===t.tus_upload_url||!t.is_tus_file&&r.name===t.name&&r.size===t.size)return r}}function mF(t,e){const n=this.getPluginState(),r=q(this,Vs)[Vs](e);if(!r){this.uppy.log("[Transloadit] Couldnt find the file, it was likely removed in the process");return}this.setPluginState({files:{...n.files,[e.id]:{assembly:t,id:r.id,uploadedFile:e}}}),this.uppy.emit("transloadit:upload",e,this.getAssembly(t))}function gF(t,e,n){const r=this.getPluginState(),i=r.files[n.original_id];n.localId=i?i.id:null;const s={result:n,stepName:e,id:n.id,assembly:t};this.setPluginState({results:[...r.results,s]}),this.uppy.emit("transloadit:result",e,n,this.getAssembly(t))}function yF(t){const e=t.assembly_ssl_url;this.client.getAssemblyStatus(e).then(n=>{const r=n.assembly_id,i=this.getPluginState();this.setPluginState({assemblies:{...i.assemblies,[r]:n}}),this.uppy.emit("transloadit:complete",n)})}async function vF(t){await this.client.cancelAssembly(t),this.uppy.emit("transloadit:assembly-cancelled",t)}function wF(t){const{status:e}=t,n=e.assembly_id;return this.activeAssemblies[n]=t,t.on("status",r=>{const{assemblies:i}=this.getPluginState();this.setPluginState({assemblies:{...i,[n]:r}})}),t.on("upload",r=>{q(this,Nd)[Nd](n,r)}),t.on("error",r=>{r.assembly=t.status,this.uppy.emit("transloadit:assembly-error",t.status,r)}),t.on("executing",()=>{this.uppy.emit("transloadit:assembly-executing",t.status)}),t.on("execution-progress",r=>{if(this.uppy.emit("transloadit:execution-progress",r),r.progress_combined!=null)for(const i of this.uppy.getFiles())this.uppy.emit("postprocess-progress",i,{mode:"determinate",value:r.progress_combined/100,message:this.i18n("encoding")})}),this.opts.waitForEncoding&&t.on("result",(r,i)=>{q(this,Rd)[Rd](n,r,i)}),this.opts.waitForEncoding?t.on("finished",()=>{q(this,_s)[_s](t.status)}):this.opts.waitForMetadata&&t.on("metadata",()=>{q(this,_s)[_s](t.status)}),t.ok==="ASSEMBLY_COMPLETE"||t.connect(),t}zn.VERSION=iF.version;zn.COMPANION=sF;zn.COMPANION_PATTERN=oF;const bF={CONTENT_UPLOADER:"https://api.learnyst.com/learnyst/content_uploader"},yi={templateId:"7da60ba5686e430c99d3e5a447b505d9",key:"65e2c906905741cbb31a82c38b47cdac",notifyUrl:"https://api.learnyst.com/webhook/v1/transloadit"},_F=()=>{let t={auth:{key:yi.key},template_id:yi.templateId,notify_url:yi.notifyUrl,token:"eyJhbGciOiJIUzI1NiJ9.eyJsZXNzb25faWQiOjI3MDE2NjYsImNvdXJzZV9pZCI6MTcxMjA2LCJ1aWQiOjU2MTk4Nywic2lkIjozOTEzLCJyb2xlX2lkIjoyLCJleHAiOjE3MDIxODk5MjB9.PsG0v0By-RHUN0973SQhktsZib4CZyKPSKdxvklnjKs",upload_type:1,fields:{path:"new/path"}},e={signature:"",expiration:""};return fetch(bF.CONTENT_UPLOADER,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(t)}).then(r=>r.json()).then(r=>(console.log("DATATATATATATATATTTATATA-=========",r),e={...e,signature:r.signature,expiration:r.expires},e)).catch(r=>{console.error(":: ==== Uppy Signature Fetch Error === ::",r)})},SF=()=>{const[t,e]=ya.useState(null),n=ya.useMemo(()=>{const r={auth:{key:yi.key,expires:t==null?void 0:t.expiration},template_id:yi.templateId,notify_url:yi.notifyUrl,token:"eyJhbGciOiJIUzI1NiJ9.eyJsZXNzb25faWQiOjI3MDE2NjYsImNvdXJzZV9pZCI6MTcxMjA2LCJ1aWQiOjU2MTk4Nywic2lkIjozOTEzLCJyb2xlX2lkIjoyLCJleHAiOjE3MDIxODk5MjB9.PsG0v0By-RHUN0973SQhktsZib4CZyKPSKdxvklnjKs",upload_type:1,fields:{path:"new/path"}};return new Tv({autoProceed:!0}).use(zn,{id:"transloaditUploader",params:r,signature:t==null?void 0:t.signature}).use(G0,{companionUrl:zn.COMPANION,companionAllowedHosts:zn.COMPANION_PATTERN}).use(K0,{companionUrl:zn.COMPANION,companionAllowedHosts:zn.COMPANION_PATTERN}).on("error",i=>{console.error(" Uploader ERROR :: ",i,i.stack)})},[t==null?void 0:t.signature]);return ya.useEffect(()=>{(async()=>{const i=await _F();console.log("result=====",i),e(i)})()},[]),Ba.jsx("div",{children:Ba.jsx(Vp,{uppy:n,disableLocalFiles:!0,proudlyDisplayPoweredByUppy:!1,plugins:["GoogleDrive","Dropbox"]})})},PF=oc.createRoot(document.getElementById("root"));PF.render(Ba.jsx(ya.StrictMode,{children:Ba.jsx(SF,{})}));
